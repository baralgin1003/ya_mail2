!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(){h.isYabrowser()&&(s.setDefault("showTextAlert",!1),s.set("showTextAlert",!1))}function i(){y.send({action:"incognito",feature:a.get("clckFeature"),platform:h.getBrowser()})}function o(){C.run(A.create("uncaught"))}var a=n(2),s=n(3),u=n(27),c=n(8),l=n(46),h=n(9),f=n(231),d=n(237),p=n(239),m=n(240),g=n(242),v=n(243),_=n(245),y=n(101),b=(n(235),n(89)),k=n(238),E=n(6),w=n(246),x=n(254),T=n(236),C=n(255),A=n(10);a.update({name:"mail",yasoft:"mailchrome",clckFeature:"yamail"}),b.register({notificationStatus:function(){return s.get("showTextAlert")},authStatus:function(){return f.hasAuthUsers()},loginCount:function(){return f.countAuthUsers()}}),c.status===c.UPGRADE&&m.up(),s.defaults({"application.sign-in.remember":!0,"application.mail.selected":null,"application.mail.accounts":[],"application.mail-protocol-hook":!0,"application.open-portal":!1,playSoundAlert:!1,showTextAlert:!0,allAccountsCounter:!0}),_.before(i),l.appendToInit([_,k]),l.appendToRun([w,x]),l.run(function(){r(),o(),T.init(),v.init(),d.init(),g.init(),p.init(),f.init(E,u.get())})},,function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(8),a=n(27),s=n(42),u=n(6),c=n(7),l=n(43),h=n(45),f=n(41);t.exports={INSTALL_DATE_OPTION:"application.installDate",NOTIFY_ENABLED_OPTION:"application.notifications.enabled",ENABLE_STAT_OPTION:"application.tab.opinions.enabled",STAT_OPTION_CHANGED:"application.opinions.pref.changed",YANDEX_UI_OPTION:"yandex.statistics.yandexUi",UI_OPTION:"yandex.statistics.ui",BUILD_NUMBER_OPTION:"application.build",BUILD_SHA_OPTION:"application.sha",VERSION_DATE_OPTION:"application.versionDate",options:{yasoft:"",name:"nano",clckFeature:"",captureFeatures:[]},tldMap:{yandex:"ru",tb:"com.tr",ua:"ua"},versionRule:/^(\d+)\.(\d+).(\d+)$/i,init:function(t){this._listenElection(),this._setStatOption(),this._setBuildInfo(),this._setInstallDate(),i.isFunction(t)&&t()},update:function(t){Object.keys(t).forEach(function(e){this.options[e]=t[e]},this)},get:function(t){return this.options[t]},synchronize:function(){l.set("yasoft",this.get("yasoft")),l.set("version",this.version),l.set("captureFeatures",this.get("captureFeatures")),l.set("ui",this.ui),l.set("uninstallUrl",this.uninstallUrl),l.set("yandexUi",r.get("yandex.statistics.is-yandex-ui")?this.ui:"");var t=s.get(1);t&&l.set("clid1",t)},_setInstallDate:function(){var t=r.get(this.INSTALL_DATE_OPTION);t||(t=Math.round((new Date).getTime()/1e3),r.setDefault(this.INSTALL_DATE_OPTION,t))},_listenElection:function(){u.on(c.ELECTION_COMPLETED,this._onElectionCompleted,this)},_onElectionCompleted:function(){h.weakSet(this.ENABLE_STAT_OPTION,r.get(this.ENABLE_STAT_OPTION))},_setStatOption:function(){var t=r.getDefault(this.ENABLE_STAT_OPTION);i.isDefined(t)||r.setDefault(this.ENABLE_STAT_OPTION,!1)},_setBuildInfo:function(){r.set(this.BUILD_NUMBER_OPTION,f.build),r.set(this.BUILD_SHA_OPTION,f.sha),r.set(this.VERSION_DATE_OPTION,f.date)},_getUIFromPreferences:function(){return r.get(this.UI_OPTION)||r.set(this.UI_OPTION,i.getUI()),r.get(this.UI_OPTION)},_getUIFromSharedData:function(){return h.get(this.YANDEX_UI_OPTION)||h.get(this.UI_OPTION)},get buildNumber(){return r.get(this.BUILD_NUMBER_OPTION)},get buildSha(){return r.get(this.BUILD_SHA_OPTION)},get versionDate(){return r.get(this.VERSION_DATE_OPTION)},get production(){return"undefined"!=typeof PRODUCTION},get ui(){return this._getUIFromSharedData()||this._getUIFromPreferences()},get uninstallUrl(){var t={yasoft:this.get("yasoft")+o.yasoftPostfix,ui:this.ui,ver:this.version,os:o.platform,stat:"uninstall",brandID:a.get(),clid:s.get(1)};return r.get("disable.share.uninstall")?null:i.generateUrl(a.url("soft-export.url"),t)},get installDate(){var t=r.get(this.INSTALL_DATE_OPTION);return t||(t=Math.round((new Date).getTime()/1e3),r.setDefault(this.INSTALL_DATE_OPTION,t)),t},get version(){return o.appInfo.version},get smallVersion(){return this.version.replace(this.versionRule,"$1.$2")},get platform(){return o.platform},get branding(){return a.get()},get tld(){return this.tldMap[this.branding]||this.tldMap.yandex}}},function(t,e,n){(function(e){"use strict";var r=n(4),i=n(6),o=n(7),a="undefined"==typeof window?e:window,s=":default",u="_chrome-nano_",c=function(){this.set(u,!0)};c.prototype={get:function(t,e){var n=this.restore(t);return"undefined"==typeof n&&(n=this.restore(t+s)),r.isDefined(n)?this.processValue(n):e},set:function(t,e){var n={name:t,value:e};this._triggerEvent(o.PREFERENCE_SET,n),this.restore(t)!==JSON.stringify(e)&&(this.store(t,JSON.stringify(e)),this._triggerEvent(o.PREFERENCE_CHANGED,n))},remove:function(t){this.set(t,void 0)},weakSet:function(t,e){this.get(t)||this.set(t,e)},store:function(t,e){return"undefined"!=typeof e?a.localStorage.setItem(t,e):a.localStorage.removeItem(t),e},restore:function(t){if(t in a.localStorage)return a.localStorage.getItem(t)},defaults:function(t){var e;"string"==typeof t?(e={},e[arguments[0]]=arguments[1]):e=t,Object.keys(e).forEach(function(t){this.restore(t+s)||this.set(t+s,e[t])}.bind(this))},dump:function(t){Object.keys(t).forEach(function(e){this.set(e,t[e])}.bind(this))},names:function(){return Object.keys(a.localStorage)},migrate:function(t,e,n){var r=this.get(t);n&&"type"in n&&typeof r!==n.type||(r=e.call(this,r),this.set(t,r))},restoreDefaults:function(){var t=this,e=this.names();e.forEach(function(e){t._restore(e)})},getDefault:function(t){var e=this.restore(t+s);return r.isDefined(e)?this.processValue(e):void 0},setDefault:function(t,e){this.store(t+s,e)},processValue:function(t){try{return JSON.parse(t)}catch(e){}return t},_restore:function(t){var e=this._getClearKey(t);if(e){var n=this.get(e),r=this.get(t),i={name:e,value:r};this.store(e),this._triggerEvent(o.PREFERENCE_SET,i),r!==n&&this._triggerEvent(o.PREFERENCE_CHANGED,i)}},_getClearKey:function(t){var e=t.indexOf(s);return e>=0&&e===t.length-s.length?t.substr(0,e):null},_triggerEvent:function(t,e){i.trigger(t,e)}},t.exports=new c}).call(e,function(){return this}())},function(t,e,n){"use strict";var r=n(5);t.exports={httpRule:/^http(s)?:\/\/.*/i,browserProtocol:/^(chrome|chrome-extension|opera|browser):\/\/.*/i,isString:r.isString,isNumber:r.isNumber,isArray:r.isArray,isObject:r.isObject,isFunction:r.isFunction,isDefined:function(t){return"undefined"!=typeof t&&null!==t},isRegexp:r.isRegexp,isEmpty:r.isEmpty,objectMerge:function(t,e){return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach(function(n){t[n]=e[n]}),t},isHttp:function(t){return this.httpRule.test(t)},isBrowserProtocol:function(t){return this.browserProtocol.test(t)},objectUpdate:function(t){var e=this;return Array.prototype.slice.call(arguments,1).forEach(function(n){r.isObject(n)&&Object.keys(n).forEach(function(r){var i=n[r];i&&e.isObject(i)?(t[r]&&e.isObject(t[r])||(t[r]={}),e.objectUpdate(t[r],i)):t[r]=i})}),t},flatObject:function(t,e,n){e=e||".",n=n||"";var r={},i=this;return this.isObject(t)?(Object.keys(t).forEach(function(o){var a=n+o;if(i.isString(t[o])||i.isNumber(t[o]))r[a]=t[o];else{var s=a+e;r=i.objectMerge(r,i.flatObject(t[o],e,s))}}),r):t},clamp:function(t,e,n){return t<e?e:t>n?n:t},getUI:function(){for(var t="{xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}",e="0123456789ABCDEF";t.indexOf("x")!==-1;)t=t.replace("x",e[Math.floor(16*Math.random())]);return t},serializeUrl:function(t){if(!this.isObject(t))return t;var e=[];return Object.keys(t).forEach(function(n){e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]))}),e.join("&")},deserializeUrl:function(t){var e,n,r={},i=/^https?.+\?(.+)/i;return this.isString(t)&&t.length>0&&(e=t.replace(i,"$1").split("&")),e&&e.length>0&&e.forEach(function(t){n=t.split("="),r[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}),r},generateUrl:function(t,e){return t+"?"+this.serializeUrl(e)},dataUriToBlob:function(t){var e=t.split(","),n=null,r=null,i=null,o=null,a=null;e.length>1&&(n=e[1]);try{a=e[0].split(":")[1].split(";")[0]}catch(s){a="image"}if(n)try{r=atob(n)}catch(s){}r&&(i=new ArrayBuffer(r.length)),i&&(o=new Uint8Array(i));for(var u=0,c=r.length;u<c;u++)o[u]=r.charCodeAt(u);return new Blob([o],{type:a})},path:function(t,e,n){n=n||".";for(var r=e.split(n),i=t,o=0;o<r.length;o++)if(i=i[r[o]],void 0===i)return;return i},isEqualArrays:function(t,e){return!(!this.isArray(t)||!this.isArray(e))&&(t.length===e.length&&(t=t.sort(),e=e.sort(),t.every(function(t,n){return t===e[n]})))},toArray:function(t){return[].slice.call(t)},cleanArray:function(t){var e=this;return this.isArray(t)?t.filter(function(t){return e.isDefined(t)}):t},toClipBoard:function(t){var e=document.createElement("div");e.contentEditable=!0,document.body.appendChild(e),e.innerHTML=t,e.unselectable="off",e.focus(),document.execCommand("SelectAll"),document.execCommand("Copy",!1,null),document.body.removeChild(e)},debounce:function(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}},dateToString:function(t){return[this.leadingZeros(t.getDate()),this.leadingZeros(t.getMonth()+1),t.getFullYear()].join(".")},leadingZeros:function(t){return(t<10&&t>=0?"0":"")+t},random:function(t,e){if(t>e)throw new Error("illegal arguments for random");return Math.floor(Math.random()*(e-t+1)+t)},chance:function(t){return this.random(1,100)<=this.clamp(t,0,100)},removeDuplicates:function(t){var e=[];return t.forEach(function(t){e.indexOf(t)<0&&e.push(t)}),e},onceCall:function(t,e){var n=!1;return function(){if(!n)return n=!0,t.apply(e,Array.prototype.slice.call(arguments))}},mix:function(t,e){return Object.keys(e).forEach(function(n){t[n]||null===e[n]||"undefined"==typeof e[n]||(t[n]=e[n])}),t},clearObj:function(t,e){return this.isArray(e)||(e=[]),Object.keys(t).forEach(function(n){("undefined"==typeof t[n]||null===t[n]||e.indexOf(t[n])>=0)&&delete t[n]}),t},getMajMinVersion:function(t,e){return e=e||".",t.split(e).slice(0,2).join(e)}}},function(t,e){"use strict";t.exports={isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:function(t){return Array.isArray(t)},isObject:function(t){return"object"==typeof t&&Boolean(t)&&!this.isArray(t)},isFunction:function(t){return"function"==typeof t},isDefined:function(t){return"undefined"!=typeof t&&null!==t},isRegexp:function(t){return t instanceof RegExp},isEmpty:function(t){if(this.isArray(t))return 0===t.length;if(this.isObject(t))return 0===Object.keys(t).length;throw new Error("data must be object or array")}}},function(t,e){"use strict";t.exports={events:{},trigger:function(t,e){var n=[];this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return n.push(t),!t.once}),n.forEach(function(t){t.handler.call(t.ctx,e)}))},on:function(t,e,n,r){this.events[t]||(this.events[t]=[]),this.events[t].push({type:t,handler:e,ctx:n||null,once:Boolean(r)})},once:function(t,e,n){this.on(t,e,n,!0)},off:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(n){return n.type!==t||n.handler!==e}))},ignoreEvent:function(t){this.events[t]&&(this.events[t]=this.events[t].filter(function(e){return t!==e.type}))},hasListener:function(t,e){return!!this.events[t]&&this.events[t].some(function(n){return n.type===t&&n.handler===e})},willTrigger:function(t){return Boolean(this.events[t])&&this.events[t].length>0},flush:function(){this.events={}}}},function(t,e){"use strict";t.exports={NOTIFICATION_SHOW:"notification.show",STAT_TAKE_PRODUCT:"yandex.statistics.take-product",STAT_GIVE_PRODUCT:"yandex.statistics.give-product",PREFERENCE_CHANGED:"wdgt.preferences.changed",PREFERENCE_SET:"wdgt.preferences.setted",ONLINE:"user.online",OFFLINE:"user.offline",ELECTION_COMPLETED:"wdgt.primary.select",SOFT_EXPORT_READY:"yandex.statistics.ready",SOFT_EXPORT_TICK:"statistics.tick",HELLO:"application.hello",CLICKER:"application.send.clicker",SHARED_DATA_SET:"application.shared.data.set"}},function(t,e,n){"use strict";var r,i,o,a,s=n(9),u=n(3),c=n(10),l=n(4),h="application.version",f=c.create("Platform"),d=function(){r=chrome.runtime.getManifest(),this.updateStatus(),f.log("App status: %s",i),f.log("App version: %s",this.appInfo.version)};d.prototype={REFRESH:"refresh",INSTALL:"install",UPGRADE:"upgrade",UPGRADE_MAJOR:"major",UPGRADE_MINOR:"minor",UPGRADE_PATCH:"patch",WIN_PLATFORM:"winnt",MAC_PLATFORM:"darwin",name:"chrome",updateStatus:function(){var t=u.get(h),e=this.appInfo.version;t?(t!==e?(i=this.UPGRADE,a=t,o=this._getUpgradeStatus(e,t)):i=this.REFRESH,this.appInfo.previousVersion=t):i=this.INSTALL,u.set(h,e)},isBackgroundProcess:function(){return this.backgroundProcess===window},uninstall:function(t,e){s.isYabrowser()||(window.alert(t),chrome.management.uninstall(this.id,{showConfirmDialog:!1},e))},setUninstallUrl:function(t){var e=!1;return"function"==typeof chrome.runtime.setUninstallUrl&&(chrome.runtime.setUninstallUrl(t),e=!0),e},onUninstall:function(t){chrome.management.onUninstalled.addListener(t)},isWindows:function(){return this.platform===this.WIN_PLATFORM},isMac:function(){return this.platform===this.MAC_PLATFORM},get isInstall(){return this.status===this.INSTALL},get isUpgrade(){return this.status===this.UPGRADE},get isUpgradeMajor(){return this.upgradeStatus===this.UPGRADE_MAJOR},get isUpgradeMinor(){return this.upgradeStatus===this.UPGRADE_MINOR},get isUpgradePatch(){return this.upgradeStatus===this.UPGRADE_PATCH},get upgradedVersion(){return a},get upgradedMajMinVersion(){return a&&l.getMajMinVersion(a)},get majMinVersion(){return l.getMajMinVersion(this.appInfo.version)},get isRefresh(){return this.status===this.REFRESH},get appInfo(){return r},get baseUri(){return chrome.extension.getURL("/")},get id(){return chrome.runtime.id},get backgroundProcess(){return chrome.extension.getBackgroundPage()},get versionKey(){return h},get status(){return i},get upgradeStatus(){return o},get platform(){var t=window.navigator.platform;return t.toLowerCase().indexOf("win")>=0&&(t=this.WIN_PLATFORM),t.toLowerCase().indexOf("mac")>=0&&(t=this.MAC_PLATFORM),t},get yasoftPostfix(){return s.isOpera()?"_opr":s.isYabrowser()?"_ybr":s.isChrome()?"_chr":"_oth"},_getUpgradeStatus:function(t,e){var n=t.split("."),r=e.split(".");return n[0]!==r[0]?this.UPGRADE_MAJOR:n[1]!==r[1]?this.UPGRADE_MINOR:n[2]!==r[2]?this.UPGRADE_PATCH:""}},t.exports=new d},function(t,e,n){"use strict";var r=n(6),i=n(7),o={newTabUrls:["https://www.google.ru/_/chrome/newtab","chrome://newtab/"],CHROME:"chrome",YABROWSER:"yabrowser",OPERA:"opera",CHROMIUM:"chromium",FIREFOX:"firefox",ONLINE:"online",OFFLINE:"offline",CURRENT_TAB:"current tab",NEW_TAB:"new tab",NEW_WINDOW:"new window",NEW_POPUP:"new popup",BROWSER_OPEN_CHECK_TIME:1e4,run:function(){window.addEventListener("online",this._onLineHandler.bind(this)),window.addEventListener("offline",this._offlineHandler.bind(this))},isChrome:function(){return this._isChrome()&&!this.isOpera()&&!this.isYabrowser()},isYabrowser:function(){var t=window.navigator.appVersion;return/YaBrowser/.test(t)},isFirefox:function(){var t=window.navigator.userAgent;return/Gecko\/[\d.]* Firefox\/[\d.]*/.test(t)},isOpera:function(){var t=window.navigator.appVersion;return/OPR\//.test(t)},getBrowser:function(){return this.isFirefox()?this.FIREFOX:this.isOpera()?this.OPERA:this.isYabrowser()?this.YABROWSER:this.isChrome()?this.CHROME:this.CHROMIUM},whenBrowserContextAvailable:function(t){return chrome.cookies?void chrome.cookies.getAll({domain:"ya.ru",name:"test",path:"/"},function(){chrome.runtime.lastError?setTimeout(this.whenBrowserContextAvailable.bind(this,t),this.BROWSER_OPEN_CHECK_TIME):t()}.bind(this)):setTimeout(t,this.BROWSER_OPEN_CHECK_TIME)},getChromeVersion:function(){var t=window.navigator.appVersion.match(/Chrome\/(\d+)\./);return t&&t.length>=1?parseInt(t[1],10):0},getOperaVersion:function(){var t=window.navigator.appVersion.match(/OPR\/(\d+)\./);return t&&t.length>=1?parseInt(t[1],10):0},navigate:function(t,e){switch(e=e||this.NEW_TAB){case this.CURRENT_TAB:chrome.tabs.update({url:t,active:!0},function(t){chrome.windows.update(t.windowId,{focused:!0})});break;case this.NEW_TAB:chrome.tabs.create({url:t,active:!0},function(t){chrome.windows.update(t.windowId,{focused:!0})});break;case this.NEW_WINDOW:chrome.windows.create({url:t,focused:!0,type:"normal"});break;case this.NEW_POPUP:chrome.windows.create({url:t,focused:!0,type:"popup"})}},navigateToSettings:function(){var t="chrome-extension://"+chrome.runtime.id+"/options/options.html";this.navigate(t)},openSettings:function(){this.navigate(chrome.extension.getURL("/options/options.html"),"new tab")},createTab:function(t,e){chrome.tabs.create(t,e)},getTab:function(t,e){chrome.tabs.get(t,e)},getCurrentTab:function(t){chrome.tabs.query({active:!0,url:"<all_urls>"},function(e){t(e?e[0]:null)})},reloadTab:function(t){chrome.tabs.reload(t)},isNewTab:function(t){return this.newTabUrls.some(function(e){return t.indexOf(e)>-1})},sendMessage:function(t,e){chrome.tabs.sendMessage(t,e)},removeTab:function(t,e){return chrome.tabs.remove(t,e)},openWindow:function(t,e){chrome.windows.create(t,e)},closeWindow:function(t){chrome.windows.remove(t)},get version(){return this.getChromeVersion()},get incognito(){return Boolean(chrome.extension.inIncognitoContext)},_onLineHandler:function(){this._triggerEvent(i.ONLINE)},_offlineHandler:function(){this._triggerEvent(i.OFFLINE)},_isChrome:function(){var t=window.navigator.vendor,e=window.navigator.userAgent;return/Google Inc/.test(t)&&/Chrome/.test(e)&&!/MRCHROME|Comodo/.test(e)},_triggerEvent:function(t){r.trigger(t)},get status(){return window.navigator.onLine?this.ONLINE:this.OFFLINE}};o.run(),t.exports=o},function(t,e,n){"use strict";var r=n(11),i=n(25),o=new r.Logger("core",i);o.create=o.clone.bind(o),t.exports=o},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),a=i(o),s=n(14),u=i(s),c=n(15),l=i(c),h=n(16),f=i(h),d=n(18),p=i(d),m=n(19),g=i(m),v=n(20),_=i(v),y=n(21),b=i(y),k=n(22),E=i(k),w=n(23),x=i(w),T=n(24),C=i(T),A=n(17),O=i(A),S=n(13),I=r(S),P=I.combineFormatters;e.Logger=a["default"],e.Replacer=u["default"],e.WebFile=O["default"],e.createConsoleWriter=l["default"],e.createWebFileWriter=f["default"],e.createDateFormatter=p["default"],e.createMethodFormatter=g["default"],e.createPrefixFormatter=_["default"],e.createPlaceholdersFormatter=b["default"],e.createNormalFormatter=E["default"],e.createJoinFormatter=x["default"],e.createJoinFirstFormatter=C["default"],e.combineFormatters=P,e.utils=I},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return!Array.isArray(e)||e.indexOf(t)!==-1}function o(t){if(!t)throw new Error('You must specify "options" parameter for Logger');u.forEach(function(e){if(void 0===t[e])throw new Error('You must specify "options.'+e+'" parameter for Logger')})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(13),u=["levels","writers","formatters","methods"],c=function(){function t(e,n){r(this,t),o(n),this._clones=[],this._prefix=e,this._opt=n,this._createMethods(this._opt.methods)}return a(t,[{key:"clone",value:function e(t){var e=this.fork(t);return this._clones.push(e),e}},{key:"fork",value:function(e){var n=this.constructor?this.constructor:t;return new n(e,(0,s.shallowCopyObject)(this._opt))}},{key:"message",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this._forEachWriter(function(n,o,a,s){i(t,s)&&o(t,e._prefix,a?a(t,e._prefix,r.slice()):r)})}},{key:"setLevels",value:function(t,e){this._opt.levels[t]=e,this._updateClones("setLevels",t,e)}},{key:"addWriter",value:function(t,e){this._opt.writers[t]=e,this._updateClones("addWriter",t,e)}},{key:"removeWriter",value:function(t){this._opt.writers[t]&&delete this._opt.writers[t],this._updateClones("removeWriter",t)}},{key:"addFormatter",value:function(t,e){this._opt.formatters[t]=e,this._updateClones("addFormatter",t,e)}},{key:"removeFormatter",value:function(t){this._opt.formatters[t]&&delete this._opt.formatters[t],this._updateClones("removeFormatter",t)}},{key:"_createMethods",value:function(t){var e=this;t.forEach(function(t){e[t]=e.message.bind(e,t)})}},{key:"_forEachWriter",value:function(t){var e=this;Object.keys(this._opt.writers).forEach(function(n){t(n,e._opt.writers[n],e._opt.formatters[n],e._opt.levels[n])})}},{key:"_updateClones",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this._clones.forEach(function(e){e[t].apply(e,n)})}}]),t}();e["default"]=c,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){return"string"==typeof e[0]?[t.replace(e[0],e.slice(1))]:e}function r(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return Array.isArray(r)?e[n]=r.slice():"function"==typeof r?e[n]=r.bind(t):"object"==typeof r?e[n]=Object.assign({},r):e[n]=r,e},{})}function i(t){var e=arguments.length<=1||void 0===arguments[1]?" ":arguments[1];return 0===t.length?"undefined":t.map(function(t){return void 0===t?"undefined":"string"==typeof t?t:o(t)}).join(e)}function o(t){try{return JSON.stringify(t)}catch(e){return String(t)}}function a(t){return function(e,n,r){return t.reduce(function(t,r){return r(e,n,t)},r)}}function s(t){return t}Object.defineProperty(e,"__esModule",{value:!0}),e.replacePlaceholders=n,e.shallowCopyObject=r,e.toString=i,e.combineFormatters=a,e.identity=s},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return{o:u,j:u,s:i,l:o.bind(null,t.limitStringLength),i:a.bind(null,t.nanString),d:a.bind(null,t.nanString),f:s.bind(null,t.nanString),"%":function(){return"%"}}}function i(t){return String(t)}function o(t,e){return String(e).substr(0,t)}function a(t,e){return"number"==typeof e?String(Math.floor(e)):t}function s(t,e){return"number"==typeof e?String(Number(e)):t}function u(t){try{return JSON.stringify(t||"",null,1)}catch(e){return String(e)}}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=/%(.)/gm,h={limitStringLength:300,nanString:"NaN"},f=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,t),e=Object.assign({},h,e),this._formats=e.formats||r(e),this._limitStringLength=e.limitStringLength,this._nanString=e.nanString,this._regExp=l}return c(t,[{key:"replace",value:function(t,e){var n=this,r=-1;return t.replace(this._regExp,function(t,i){return r+=1,n._formatItem(i,e[r])})}},{key:"addPlaceholder",value:function(t,e){this._formats[t]=e}},{key:"removePlaceholder",value:function(t){this._formats[t]&&delete this._formats[t]}},{key:"_formatItem",value:function(t,e){var n=this._formats[t];return n?n(e):"%"+t}}]),t}();e["default"]=f,t.exports=e["default"]},function(t,e){"use strict";function n(){var t=Function.prototype.apply,e=console?console:{};return function(n,r,i){e[n]&&t.call(e[n],e,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n=t||new a["default"](e);return function(t,e,r){n.push(r[0])}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=n(17),a=r(o);t.exports=e["default"]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this._fileName=e.fileName,this._oldFileName=e.oldFileName,this._maxSize=e.maxSize,this._messagesQueue=[],this._isRunning=!1,this._fsLink=null}return r(t,[{key:"push",value:function(t){this._messagesQueue.push(t),this._isRunning||(this._isRunning=!0,this._writeAttempt())}},{key:"_writeAttempt",value:function(){var t=this;this._requestFile(function(e,n,r){r.onwriteend=t._onWriteEnd.bind(t),r.length>t._maxSize?t._rotateLogs(e,n,r):(t._appendQueueData(r),t._messagesQueue=[])})}},{key:"_onWriteEnd",value:function(){this._messagesQueue.length?this._writeAttempt():this._isRunning=!1}},{key:"_requestFile",value:function(t){var e=this;this._requestFileSystem(function(n){return e._requestFileWriter(n,t)})}},{key:"_requestFileSystem",value:function(t){if(this._fsLink)return void t(this._fsLink);try{var e=window.requestFileSystem||window.webkitRequestFileSystem;e(window.PERSISTENT,0,t)}catch(n){}}},{key:"_requestFileWriter",value:function(t,e){t.root.getFile(this._fileName,{create:!0,exclusive:!1},function(n){return n.createWriter(function(r){return e(t,n,r)})})}},{key:"_rotateLogs",value:function(t,e,n){this._copy(t.root,e,this._oldFileName,function(){return n.truncate(0)})}},{key:"_copy",value:function(t,e,n,r){e.copyTo(t,n,function(t){return r(null,t)},function(t){return r(t)})}},{key:"_appendQueueData",value:function(t){t.seek(t.length),t.write(new Blob(["\n"+this._messagesQueue.join("\n")],{type:"text/plain"}))}}]),t}();e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){var t=arguments.length<=0||void 0===arguments[0]?i:arguments[0];return function(e,r,i){return[t()].concat(n(i))}}function i(){var t=6e4*(new Date).getTimezoneOffset(),e=new Date(Date.now()-t);return e.toISOString().slice(0,-1)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(){var t=arguments.length<=0||void 0===arguments[0]?o.identity:arguments[0];return function(e,n,i){return[t(e)].concat(r(i))}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=n(13);t.exports=e["default"]},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(){var t=arguments.length<=0||void 0===arguments[0]?o.identity:arguments[0];return function(e,n,i){return[t(n)].concat(r(i))}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=n(13);t.exports=e["default"]},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=arguments.length<=0||void 0===arguments[0]?new s["default"]:arguments[0];return function(e,n,r){return c.replacePlaceholders(t,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var a=n(14),s=i(a),u=n(13),c=r(u);t.exports=e["default"]},function(t,e){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=r(t);return function(t,n,r){return i(r,e)}}function r(t){return Object.keys(t).map(function(e){return{normalPlaceholder:t[e],regExp:new RegExp("%"+e,"g")}})}function i(t,e){return"string"==typeof t[0]&&e.forEach(function(e){t[0]=t[0].replace(e.regExp,"%"+e.normalPlaceholder)}),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return function(e,n,r){return[(0,i.toString)(r,t)]}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var i=n(13);t.exports=e["default"]},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){return function(n,i,a){return[(0,o.toString)(a.slice(0,t),e)].concat(r(a.slice(t)))}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=n(13);t.exports=e["default"]},function(t,e,n){"use strict";var r=n(11),i=n(26),o=["log","info","warn","error"],a={},s={},u={},c=new r.WebFile({fileName:"debug.log",oldFileName:"debug-old.log",maxSize:5242880});a.platform=r.createWebFileWriter(c),s.platform=i.fileFormatter,u.platform=["log","info","warn","error"],t.exports={methods:o,writers:a,formatters:s,levels:u}},function(t,e,n){"use strict";function r(t){return t?t.toUpperCase():""}function i(t){return t?t.toLowerCase():""}var o=n(11),a=o.createNormalFormatter({j:"o",l:"s"}),s=function(t){return"["+t.toLowerCase()+"]"};t.exports={toUpperCase:r,toLowerCase:i,normalizePlaceholders:a,consoleFormatter:o.combineFormatters([a,o.createPrefixFormatter(s),o.createJoinFirstFormatter(2)]),fileFormatter:o.combineFormatters([o.createPlaceholdersFormatter(),o.createPrefixFormatter(s),o.createMethodFormatter(r),o.createDateFormatter(),o.createJoinFormatter()]),metrikaFormatter:o.combineFormatters([o.createPlaceholdersFormatter(),o.createPrefixFormatter(s),o.createJoinFormatter()]),transferFormatter:o.createPlaceholdersFormatter()}},function(t,e,n){"use strict";var r=n(28),i=n(40);t.exports={id:n(41).branding,YANDEX:"yandex",TURKEY:"tb",UKRAINE:"ua",KAZAKHSTAN:"kz",BELARUS:"by",BRANDS:["yandex","tb","ua"],tldMap:{ru:"ru",uk:"ua",tr:"com.tr",kz:"kz",by:"by"},get:function(){return this.isTurkish()?this.TURKEY:this.isYandex()?this.YANDEX:this.isUkraine()?this.UKRAINE:this.isKazakhstan()?this.KAZAKHSTAN:this.isBelarus()?this.BELARUS:this.id},data:function(t){return r(i,t)},url:function(t){var e=this.data(t);return"string"==typeof e?e.replace("{tld}",this.tld):e},isTurkish:function(){return this.id===this.TURKEY||/^tb_.*/i.test(this.id)},isUkraine:function(){return this.id===this.UKRAINE||/^ua_.*/i.test(this.id)},isYandex:function(){return this.id===this.YANDEX||/^(ya_)|(yandex_).*/i.test(this.id)},isKazakhstan:function(){return this.id===this.KAZAKHSTAN||/^kz_.*/i.test(this.id)},isBelarus:function(){return this.id===this.BELARUS||/^by_.*/i.test(this.id)},get tld(){var t=chrome.i18n.getMessage("locale");return this.tldMap[t]?this.tldMap[t]:this.tldMap.ru},get portal(){return this.url("portal.http-url")}}},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,o(e),e+"");return void 0===r?n:r}var i=n(29),o=n(32);t.exports=r},function(t,e,n){function r(t,e,n){if(null!=t){void 0!==n&&n in i(t)&&(e=[n]);for(var r=0,o=e.length;null!=t&&r<o;)t=t[e[r++]];return r&&r==o?t:void 0}}var i=n(30);t.exports=r},function(t,e,n){function r(t){return i(t)?t:Object(t)}var i=n(31);t.exports=r},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function r(t){if(o(t))return t;var e=[];return i(t).replace(a,function(t,n,r,i){e.push(r?i.replace(s,"$1"):n||t)}),e}var i=n(33),o=n(34),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;t.exports=r},function(t,e){function n(t){return null==t?"":t+""}t.exports=n},function(t,e,n){var r=n(35),i=n(39),o=n(38),a="[object Array]",s=Object.prototype,u=s.toString,c=r(Array,"isArray"),l=c||function(t){return o(t)&&i(t.length)&&u.call(t)==a};t.exports=l},function(t,e,n){function r(t,e){var n=null==t?void 0:t[e];
return i(n)?n:void 0}var i=n(36);t.exports=r},function(t,e,n){function r(t){return null!=t&&(i(t)?l.test(u.call(t)):o(t)&&a.test(t))}var i=n(37),o=n(38),a=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,c=s.hasOwnProperty,l=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return i(t)&&s.call(t)==o}var i=n(31),o="[object Function]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e){t.exports={portal:{"http-url":"http://yandex.ru","https-url":"https://yandex.ru"},license:{url:"https://yandex.ru/legal/desktop_software_agreement/"},support:{url:"https://yandex.ru/support/element/troubleshooting.xml"},"bar-navig":{url:"https://bar-navig.yandex.ru/u"},"dayuse-json":{url:"https://clck.yandex.ru/click/dtype=elduse/product=elmnt/path=batch/*"},bookmarks:{url:"https://clck.yandex.ru/click/dtype=stred/pid=12/cid=72508/path={browserId}.{param}/*"},clicker:{url:"https://clck.yandex.ru/click/dtype=stred/pid={pid}/cid={cid}/path={path}{vars}/*"},"dayuse-stat":{url:"https://yandex.ru/clck/click/dtype=elduse/path=tech.yaelements.dayuse/vars={vars}/slots={slots}/*"},"soft-export":{url:"https://soft.export.yandex.ru/status.xml"},homepage:{url:"http://element.yandex.ru/chrome"},developer:{name:"ООО «ЯНДЕКС»",url:"http://yandex.ru"},"context-menu":{search:{url:"http://yandex.ru/"},imgSearch:{getUrl:"http://yandex.ru/images/search?rpt=imageview&img_url=",postUrl:"http://yandex.ru/images/search?rpt=imageview&prg=1"}},goodbye:{url:"https://yandex.ru/soft/extensions/goodbye"},soft:{url:"http://soft.yandex.ru/?from=el_sett"},"@domain":"yandex.ru","mail-api-domain":"https://mail.yandex.ru","mail-redir-domain":"https://mail.yandex.ru"}},function(t,e){t.exports={date:1491399068,build:"805",sha:"18e846",distribution:"portal",branding:"yandex",version:"8.22.3",clid:{1:"2231760",5:"2058547",6:"2058548",10:"2055780",20:"2161938"},vendor:"vendor-portal",modules:{ys:"nano/cookies/ys",opinions:"nano/statistics/bar-navig","bm-statistics":"nano/statistics/bookmarks","dayuse-json":"nano/statistics/dayuse/json","apps-count":"nano/statistics/app","history-stat":"nano/statistics/history","soft-export":"nano/statistics/soft-export",goodbye:"nano/statistics/goodbye",contextMenu:"nano/dynamic-modules/context-menu","dayuse-url":"nano/statistics/dayuse/url","metrika-logger":"nano/dynamic-modules/metrika-logger"},yasoft:"mailchrome","clicker-feature":"yamail","metrika-counter-id":39273630}},function(t,e,n){"use strict";var r=n(4),i=n(3),o=n(41).clid;t.exports={CLID:"clid",PROPERTY_TEMPLATE:"yandex.statistics.clid.{clid}",init:function(t){r.isFunction(t)&&t()},get:function(t){return this._fromStorage(t)||this._fromVendor(t)},_fromStorage:function(t){return i.get(this.PROPERTY_TEMPLATE.replace("{clid}",t))},_fromVendor:function(t){return o[t]}}},function(t,e,n){"use strict";var r=n(44),i=function(){this.info={id:chrome.runtime.id,enabled:!0,protocol:this.PROTOCOL_VER},this.protocol=this.PROTOCOL_VER,this.extinfo={}};i.prototype={PROTOCOL_VER:2,HELLO_EVENT:"application.hello",WELCOME_EVENT:"application.welcome",set:function(t,e){this.info[t]=e},updateExtInfo:function(t,e){var n=this;Object.keys(this.extinfo).forEach(function(r){n.extinfo[r].hasOwnProperty(t)&&(n.extinfo[r][t]=e)})},run:function(){this._observeHelloMessages(),this._observeWelcomeMessages(),this._observeDisableEvent(),r.notify(this.HELLO_EVENT,this.info,{transmit:!0})},addExtInfo:function(t){t&&(t.protocol=t.protocol||0,t.enabled=!("enabled"in t)||t.enabled,!t.yasoft&&t.uninstallUrl&&(t.yasoft=(t.uninstallUrl.match(/yasoft=([\w\-]*)/i)||[])[1]),this.extinfo[t.id]=t)},getFeaturedExtensions:function(t,e){var n=e?this.enabledExtensions:this.extinfo;return this.getFeaturedExtensionsFor(n,t)},getFeaturedExtensionsFor:function(t,e){return Object.keys(t).reduce(function(n,r){return t[r][e]&&(n[r]=t[r]),n},{})},_observeHelloMessages:function(){r.observe(this.HELLO_EVENT,this._helloMessageHandler.bind(this))},_helloMessageHandler:function(t,e){this.addExtInfo(e),r.notify(this.WELCOME_EVENT,this.info,{transmit:!0})},_observeWelcomeMessages:function(){r.observe(this.WELCOME_EVENT,this._welcomeMessageHandler.bind(this))},_welcomeMessageHandler:function(t,e){this.addExtInfo(e)},_observeDisableEvent:function(){chrome.management.onDisabled.addListener(this._disabledHandler.bind(this))},_disabledHandler:function(t){this.extinfo[t.id]&&(this.extinfo[t.id].enabled=!1)},get enabledExtensions(){var t=this,e={};return Object.keys(this.extinfo).forEach(function(n){t.extinfo[n].enabled&&(e[n]=t.extinfo[n])}),e}},t.exports=new i},function(t,e){"use strict";function n(t,e,n){"function"==typeof t&&setTimeout(function(){t.apply(null,e)},n)}var r=function(){this._listeners={},this._listenExternalMessages()};r.prototype={observe:function(t,e,n){t in this._listeners||(this._listeners[t]=[]),n=n||{},this._listeners[t].push({listener:e,once:Boolean(n.once),filter:Boolean(n.filter)})},notify:function(t,e,r){e=void 0===e?{}:e,r=r||{},r.senderId||(r.senderId=chrome.runtime.id),this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter(function(i){return"function"==typeof i.listener&&(i.filter?n(i.listener,[t,e,r],10):i.listener(t,e,r)),!i.once})),r.transmit!==!1&&this.transmit(t,e,r)},transmit:function(t,e){var n=this,r={topic:t,data:e,transmitter:this.id};chrome.management.getAll(function(t){var e=n._getActualExtensions(t);e.forEach(function(t){chrome.runtime.sendMessage(t.id,r)})})},flush:function(){this._listeners={}},_listenExternalMessages:function(){var t=chrome.runtime.onMessageExternal||chrome.extension.onMessageExternal;t.addListener(this._externalMessageHandler.bind(this))},_externalMessageHandler:function(t,e){e.id!==chrome.runtime.id&&this.notify(t.topic,t.data,{transmit:!1,senderId:e.id})},_getActualExtensions:function(t){return t.filter(function(t){return t.id!==chrome.runtime.id&&"extension"===t.type&&t.enabled})},get listeners(){return this._listeners}},t.exports=new r},function(t,e){"use strict";var n=chrome.runtime.sendMessage,r=chrome.runtime.onMessageExternal,i={info:function(){},log:function(){},warn:function(){},error:function(){}},o=function(){},a={SUCCESS:"success",NOT_MODIFIED:"not modified",INCORRECT_DATA:"incorrect data",INCORRECT_TOPIC:"incorrect topic",REJECTED:"rejected",TIMEOUT:"timeout",SYNC_RESPONSE:"sync response",UNKNOWN:"unknown"};t.exports={init:function(t,e){t&&(void 0!==t.logger&&(i=t.logger),void 0!==t.save&&(o=t.save),void 0!==t.syncTimeout&&(this._syncTimeout=t.syncTimeout)),this._observe(),this._pull(e)},weakSet:function(t,e){void 0===this.get(t)&&this.set(t,e)},set:function(t,e,n,r){var a;a="string"==typeof t?this.setByName(t,e):this.setObject(t),a&&(n!==!1&&o(a),r!==!1&&(this._data._timestamp=a._timestamp=Date.now()),i.log("Start notification logic for update: %j",a),this._notifyLocal({topic:"yandex.shared.updated.local",data:a}),this._push({topic:"yandex.shared.updated.remote",data:a},this._pushById.bind(this)))},setByName:function(t,e){i.log("Setting data by name: %s %j",t,e),this._data[t]=e;var n={};return n[t]=e,n},setObject:function(t){i.log("Setting batch data: %j",t);var e=!0;for(var n in t)t.hasOwnProperty(n)&&(e=!1,this.setByName(n,t[n]));return e?null:t},get:function(t){return this._data[t]},addListener:function(t){for(var e=0;e<this._listeners.length;e++)if(this._listeners[e]===t)return;this._listeners.push(t),i.log("Add listener: %d",this._listeners.length)},removeListener:function(t){for(var e=0;e<this._listeners.length;e++)if(this._listeners[e]===t)return void this._listeners.splice(e,1)},_data:{},_listeners:[],_syncTimeout:500,_pull:function(t){i.log("Start pull logic");var e={};this._push({topic:"yandex.shared.sync-request"},function(t,r){n(t,r,function(n){n&&n.message===a.SYNC_RESPONSE&&(i.log("Sync response from: %s %j",t,n),e[t]=n.data||{})}.bind(this))}.bind(this)),setTimeout(function(){var n;for(var r in e)e.hasOwnProperty(r)&&(n||(n=r),e[r]._timestamp>e[n]._timestamp&&(n=r));var o=e[n];i.info("Sync result data: %j",o),this.set(o,null,!0,!1),t&&t()}.bind(this),this._syncTimeout)},_merge:function(t){var e,n=!0,r=!1,s=a.SUCCESS;if(t)if(this._data){e={};for(var u in t)if(t.hasOwnProperty(u)){var c=t[u];i.log("Merging new data: %s %j %j",u,c,this._data[u]),this._data[u]!==c&&("_timestamp"!==u&&(n=!1),this._data[u]=e[u]=c)}s=n?a.NOT_MODIFIED:a.SUCCESS}else this._data=e=t;else r=!0,s=a.INCORRECT_DATA;return s===a.SUCCESS&&(o(e),this._notifyLocal({topic:"yandex.shared.updated.remote",data:e})),{error:r,message:s,updatedData:e}},_observe:function(){r.addListener(function(t,e,n){if(e.id===chrome.runtime.id)return!1;switch(t.topic){case"yandex.shared.updated.remote":this._onNewDataReceived(t.data,n);break;case"yandex.shared.sync-request":i.log("Response on sync request: %j",this._data),n({message:a.SYNC_RESPONSE,data:this._data})}return!0}.bind(this))},_onNewDataReceived:function(t,e){i.log("Receive new data: %j",t);var n=this._merge(t);e({error:n.error,message:n.message})},_notifyLocal:function(t){i.log("Notify local listeners: %d %j",this._listeners.length,t),this._listeners.forEach(function(e){e(t)})},_push:function(t,e){chrome.management.getAll(function(n){var r=this._getActualExtensions(n);i.log("Remote extensions: %d",r.length);for(var o=r.length;o--;)e(r[o].id,t)}.bind(this))},_pushById:function(t,e,r){i.log("Send notification to: %s %s %j",t,e.topic,e.data),n(t,e,function(n){if(!o){if(i.log("Response from: %s %j",t,n),clearTimeout(s),!n||n.error)return void this._onPushFail(t,e,n?n.message:a.UNKNOWN,r);switch(n.message){case a.SUCCESS:case a.NOT_MODIFIED:this._onPushSuccess(t);break;default:this._onPushFail(t,e,n.message||a.UNKNOWN,r)}}}.bind(this));var o=!1,s=setTimeout(function(){o=!0,this._onPushFail(t,e,a.TIMEOUT,r)}.bind(this),3e3)},_onPushSuccess:function(t){i.log("Successful update for id: %s",t)},_onPushFail:function(t,e,n,r){switch(i.log("Failed update: %s; for id: %s",n,t),n){case a.UNKNOWN:case a.TIMEOUT:r!==!1&&setTimeout(this._pushById.bind(this,t,e,!1),100);break;default:i.error("Can't handle this fail!")}},_getActualExtensions:function(t){for(var e=[],n=t.length;n--;){var r=t[n];r.id!==chrome.runtime.id&&"extension"===r.type&&r.enabled&&e.push(r)}return e}}},function(t,e,n){"use strict";var r=n(2),i=n(43),o=n(47),a=n(48),s=n(61),u=n(4),c=n(65),l=n(66),h=n(67),f=n(7),d=n(6),p=n(45),m=n(99),g=n(10),v=g.create("Booster");t.exports={initableModules:[r],runnableModules:[o],dynamicModules:{},requireDynamicModules:!0,initModules:!0,runModules:!0,runElections:!0,initializationListeners:[],inited:!1,run:function(t){d.once(f.ELECTION_COMPLETED,function(){var t=a.selectByFeature("ui",!0),e=i.extinfo[t].ui;v.info("Sync extension ui from %s. Ui is %s",t,e),p.set(m.UI,i.extinfo[t].ui)}),s.series(this._getTasks(),this._onRunCompleted.bind(this,t))},appendToRun:function(t){u.isArray(t)&&(this.runnableModules=this.runnableModules.concat(t))},appendToInit:function(t){u.isArray(t)&&(this.initableModules=this.initableModules.concat(t))},onInitializationCompleted:function(t){this.inited?t():this.initializationListeners.push(t)},_onRunCompleted:function(t,e){this.inited=!0,this._callInitializationListeners(),u.isFunction(t)&&t(e)},_callInitializationListeners:function(){this.initializationListeners.forEach(function(t){t()})},_initModules:function(t){c(this.initableModules,t)},_runModules:function(t){l(this.runnableModules),t()},_runExternalModules:function(t){h.runExternalModules(),this.dynamicModules=h.modules,t()},_getTasks:function(){var t=this,e=[function(t){h.prepareExternalModules(),t()}];return this.initModules&&e.push(function(e){return t._initModules(e)}),this.runModules&&e.push(function(e){return t._runModules(e)}),this.requireDynamicModules&&e.push(function(e){return t._runExternalModules(e)}),this.runElections&&e.push(function(t){r.synchronize(),a.run(),i.run(),t()}),e}}},function(t,e,n){"use strict";function r(t){Object.keys(t).forEach(function(e){i.store(e,JSON.stringify(t[e]))})}var i=n(3),o=n(45),a=n(10),s=a.create("SharedData");t.exports={run:function(){o.init({save:r,syncTimeout:500,logger:s})}}},function(t,e,n){"use strict";function r(t,e){return Object.keys(t).reduce(function(e,n){return t[n].protocol<e?t[n].protocol:e},e)}function i(t,e){var n=e?Math.min:Math.max;return Object.keys(t).reduce(function(e,r){if(!e)return r;var i=t[e].installDate||0,o=t[r].installDate||0;return o===i?r<e?r:e:n(o,i)===o?r:e},null)}function o(t,e,n){n=void 0===n||n;var r=f.getFeaturedExtensionsFor(t,e);return i(r,n)}function a(t,e,n){var r=u(t,e);return v(r)?o(t,e,n):(_.info("%s feature is captured",e),i(r,!1))}function s(t){return Object.keys(t).every(function(e){var n=t[e];return void 0!==n.captureFeatures})}function u(t,e){return Object.keys(t).reduce(function(n,r){var i=t[r];return c(i,e)&&(n[r]=i),n},{})}function c(t,e){return t[e]&&t.captureFeatures&&t.captureFeatures.indexOf(e)!==-1}var l=n(49),h=n(44),f=n(43),d=n(2),p=n(10),m=n(7),g=n(6),v=n(51),_=p.create("Primary"),y=function(){this.id=String(Math.random()),this.isPrimary=!1,this.electionCompleted=!1};y.prototype={INSTALL_DATE:"installDate",HELLO_EVENT:"application.hello",HELLO_REASON:"hello",DISABLED_REASON:"onDisabled",UNINSTALL_REASON:"onUninstalled",POSSIBLE_PRIMARY:"application.primary.possible",timeout:1200,run:function(){f.set(this.INSTALL_DATE,d.installDate),this._observeEvents()},chooseElectionMethod:function(){var t=f.enabledExtensions,e=r(t,f.protocol);switch(e){case 0:_.info("Select main primary via legacy"),this.selectLegacy();break;case 1:case 2:_.info("Select main primary by oldest"),this.selectByTime(!0);break;case 3:_.info("Select main primary by newest"),this.selectByTime(!1)}},selectByTime:function(t){var e=i(f.enabledExtensions,t);this.isPrimary=chrome.runtime.id===e,_.info("Primary id: %s, isPrimary: %s",e,this.isPrimary),this._triggerEvent(m.ELECTION_COMPLETED,{primary:this.isPrimary,id:e}),this.electionCompleted=!0},selectByFeature:function(t,e){var n=f.enabledExtensions,r=s(n)?a(n,t,e):o(n,t,e),i=n[r]&&n[r].yasoft;return _.info("%s - %s (byOldest: %s)",t,i,e),r},isPrimaryForFeature:function(t){var e=this.selectByFeature(t,!0);return chrome.runtime.id===e},selectLegacy:function(){var t=this;l.getPrimary(function(e){t.isPrimary=chrome.runtime.id===e,t._triggerEvent(m.ELECTION_COMPLETED,{primary:t.isPrimary,id:e}),t.electionCompleted=!0})},_observeEvents:function(){h.observe(this.HELLO_EVENT,this._callElection.bind(this,this.HELLO_REASON)),chrome.management.onDisabled.addListener(this._callElection.bind(this,this.DISABLED_REASON)),chrome.management.onUninstalled.addListener(this._callElection.bind(this,this.UNINSTALL_REASON))},_callElection:function(t){var e=this;setTimeout(function(){e.chooseElectionMethod(t)},e.timeout)},_triggerEvent:function(t,e){g.trigger(t,e)}},t.exports=new y},function(t,e,n){"use strict";var r=n(50),i=n(7);t.exports={handler:null,getPrimary:function(t){this.handler=t,chrome.management.getAll(this._extensionsHandler.bind(this))},_extensionsHandler:function(t){r(this._getTasks(t),this._onTasksComplete,this)},_getTasks:function(t){var e={},n=this;return t.forEach(function(t){e[t.id]=function(e){n._sendMessage(t,e)}}),e},_sendMessage:function(t,e){var n={topic:i.ELECTION_COMPLETED};return t.id===chrome.runtime.id?e(!0):t.enabled&&"extension"===t.type?chrome.runtime.sendMessage(t.id,n,this._responseHandler.bind(this,e)):void e(!1)},_responseHandler:function(t,e){t(Boolean(e))},_onTasksComplete:function(t){var e=Object.keys(t).filter(function(e){return t[e]});e.sort(),"function"==typeof this.handler&&this.handler(e[0])}}},function(t,e,n){"use strict";var r=n(5),i=function(t,e,n){this.completeHandler=e,this.ctx=n||null,this.keys=[],this.tasks=t,this.total=0,this.done=0,this.result=null,this.indexedTasks=null};i.prototype={run:function(){r.isObject(this.tasks)&&(this.total=Object.keys(this.tasks).length,this._proceedObjectTasks()),r.isArray(this.tasks)&&(this.total=this.tasks.length,this._proceedArrayTasks()),r.isArray(this.tasks)||r.isObject(this.tasks)||this._onComplete()},_proceedObjectTasks:function(){this.indexedTasks=Object.keys(this.tasks).map(function(t){return t}),this.result={},this._nextTask()},_proceedArrayTasks:function(){this.indexedTasks=this.tasks.map(function(t,e){return e}),this.result=new Array(this.tasks.length),this._nextTask()},_proceedTask:function(t,e){r.isFunction(t)?t.call(this.ctx,e):e()},_nextTask:function(){var t=this,e=this._getTaskIndex();this._proceedTask(this.tasks[e],function(n){t.result[e]=n,t._onLocalComplete()})},_getTaskIndex:function(){return this.indexedTasks[this.done]},_onLocalComplete:function(){this.done+=1,this.done>=this.total?this._onComplete():this._nextTask()},_onComplete:function(){r.isFunction(this.completeHandler)&&this.completeHandler.call(this.ctx,this.result)}},t.exports=function(t,e,n){var r=new i(t,e,n);r.run()}},function(t,e,n){function r(t){return null==t||(a(t)&&(o(t)||c(t)||i(t)||u(t)&&s(t.splice))?!t.length:!l(t).length)}var i=n(52),o=n(34),a=n(53),s=n(37),u=n(38),c=n(56),l=n(57);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)&&s.call(t,"callee")&&!u.call(t,"callee")}var i=n(53),o=n(38),a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable;t.exports=r},function(t,e,n){function r(t){return null!=t&&o(i(t))}var i=n(54),o=n(39);t.exports=r},function(t,e,n){var r=n(55),i=r("length");t.exports=i},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return"string"==typeof t||i(t)&&s.call(t)==o}var i=n(38),o="[object String]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e,n){var r=n(35),i=n(53),o=n(31),a=n(58),s=r(Object,"keys"),u=s?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&i(t)?a(t):o(t)?s(t):[]}:a;t.exports=u},function(t,e,n){function r(t){for(var e=u(t),n=e.length,r=n&&t.length,c=!!r&&s(r)&&(o(t)||i(t)),h=-1,f=[];++h<n;){var d=e[h];(c&&a(d,r)||l.call(t,d))&&f.push(d)}return f}var i=n(52),o=n(34),a=n(59),s=n(39),u=n(60),c=Object.prototype,l=c.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?i:e,t>-1&&t%1==0&&t<e}var r=/^\d+$/,i=9007199254740991;t.exports=n},function(t,e,n){function r(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&s(e)&&(o(t)||i(t))&&e||0;for(var n=t.constructor,r=-1,c="function"==typeof n&&n.prototype===t,h=Array(e),f=e>0;++r<e;)h[r]=r+"";for(var d in t)f&&a(d,e)||"constructor"==d&&(c||!l.call(t,d))||h.push(d);return h}var i=n(52),o=n(34),a=n(59),s=n(39),u=n(31),c=Object.prototype,l=c.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";var r=n(62),i=n(50),o=n(63),a=n(64);t.exports={parallel:r,series:i,waterfall:o,each:a}},function(t,e,n){"use strict";var r=n(5),i=function(t,e,n){this.completeHandler=e,this.ctx=n||null,this.keys=[],this.tasks=t,this.total=0,this.done=0,this.result=null};i.prototype={run:function(){r.isObject(this.tasks)&&(this.total=Object.keys(this.tasks).length,this._processObjectTasks()),r.isArray(this.tasks)&&(this.total=this.tasks.length,this._proceedArrayTasks()),r.isArray(this.tasks)||r.isObject(this.tasks)||this._onComplete(),r.isEmpty(this.tasks)&&this._onComplete()},_processObjectTasks:function(){var t=this;this.result={},Object.keys(this.tasks).forEach(function(e){r.isFunction(this.tasks[e])&&this.tasks[e].call(this.ctx,function(n){t.result[e]=n,t._onLocalComplete()})},this)},_proceedArrayTasks:function(){var t=this;this.result=new Array(this.tasks.length),this.tasks.forEach(function(e,n){r.isFunction(e)&&e.call(this.ctx,function(e){t.result[n]=e,t._onLocalComplete()})},this)},_onLocalComplete:function(){this.done+=1,this.done>=this.total&&this._onComplete()},_onComplete:function(){r.isFunction(this.completeHandler)&&this.completeHandler.call(this.ctx,this.result)}},t.exports=function(t,e,n){var r=new i(t,e,n);r.run()}},function(t,e,n){"use strict";var r=n(5),i=function(t,e,n){this.completeHandler=e,this.ctx=n||null,this.keys=[],this.tasks=t,this.total=0,this.done=0,this.result=[],this.indexedTasks=null};i.prototype={run:function(){r.isArray(this.tasks)&&(this.total=this.tasks.length,this._proceedArrayTasks()),r.isArray(this.tasks)||this._onComplete()},_proceedArrayTasks:function(){this.indexedTasks=this.tasks.map(function(t,e){return e}),this._nextTask()},_nextTask:function(){var t=this,e=this._getTaskIndex();this._proceedTask(this.tasks[e],function(){t.result=[].slice.call(arguments),t._onLocalComplete()})},_proceedTask:function(t,e){r.isFunction(t)?t.apply(this.ctx,this._processArgs(this.result,e)):e()},_getTaskIndex:function(){return this.indexedTasks[this.done]},_onLocalComplete:function(){this.done+=1,this.done>=this.total?this._onComplete():this._nextTask()},_onComplete:function(){r.isFunction(this.completeHandler)&&this.completeHandler.apply(this.ctx,[].slice.call(this.result))},_processArgs:function(t,e){return t.push(e),t.filter(function(t){return r.isDefined(t)})}},t.exports=function(t,e,n){var r=new i(t,e,n);r.run()}},function(t,e,n){"use strict";var r=n(5),i=function(t,e,n){this.items=t,this.iterator=e,this.callback=n,this.results=[],this.current=0};i.prototype={run:function(){return!r.isArray(this.items)||this.items.length<1?this._completeHandler():void this._callNextTask()},_callNextTask:function(){this.iterator(this.items[this.current],function(t){this.current++,this.results.push(t),this.current<this.items.length?this._callNextTask():this._completeHandler()}.bind(this))},_completeHandler:function(){r.isFunction(this.callback)&&this.callback(this.results)}},t.exports=function(t,e,n){return new i(t,e,n).run()}},function(t,e,n){"use strict";var r=n(61),i=n(4),o=function(t){this.modules=[],this.callback=t};o.prototype.add=function(t){i.isArray(t)&&(this.modules=this.modules.concat(t))},o.prototype.init=function(){return this.modules.length>0?r.each(this.modules,this._initModule.bind(this),this._onInitComplete.bind(this)):void this._onInitComplete()},o.prototype._initModule=function(t,e){t.init(e)},o.prototype._onInitComplete=function(){"function"==typeof this.callback&&this.callback()},t.exports=function(t,e){var n=new o(e);n.add(t),n.init()}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t){t.forEach(function(t){t&&r.isFunction(t.run)&&t.run()})}},function(t,e,n){"use strict";function r(t,e){Object.keys(i).forEach(function(e){var n=i[e];n["default"]&&"function"==typeof n["default"][t]&&n["default"][t](),"function"==typeof n[t]&&n[t]()}),"function"==typeof e&&e()}var i=n(68);t.exports={runExternalModules:function(t,e){r("run",e)},prepareExternalModules:function(t,e){r("prepare",e)}}},function(t,e,n){t.exports={0:n(69),1:n(74),2:n(84),3:n(88),4:n(100),5:n(120),6:n(122),7:n(124),8:n(144),9:n(146),10:n(229)}},function(t,e,n){"use strict";var r=n(70),i=n(6),o=n(7),a=n(2),s=n(10),u=s.create("ys");t.exports={run:function(){i.once(o.ELECTION_COMPLETED,this._patchCookie,this)},_patchCookie:function(){u.info("election completed, update ys cookie"),r.run(a.get("yasoft"),chrome.runtime.getManifest().version.split(".").join("-"))}}},function(t,e,n){"use strict";var r=n(71),i=n(10),o=i.create("ycookie");t.exports={timeoutId:0,DOMAINS:[".yandex.ru",".yandex.kz",".yandex.ua",".yandex.by",".yandex.net",".yandex.com",".yandex.com.tr",".ya.ru",".narod.ru"],COOKIE_NAME:"ys",DELIMITER:"#",NAME_VERSION_SEPARATOR:".",run:function(t,e){var n=this;this.appName=t,this.version=e,o.info("run with yasoft - %s, version - %s",t,e),r(function(){n._update(),n._listenCookieChange()},Math.ceil(100*Math.random()))},_update:function(t){this._eachDomain(this._updateCookie,t)},_updateCookie:function(t,e){var n=this.appName+this.NAME_VERSION_SEPARATOR+this.version;t&&t.value&&(n=this._getPatchValue(t.value)),o.info("set ys for url %s, value - %s",e,n),chrome.cookies.set({url:e,name:this.COOKIE_NAME,value:n})},_getPatchValue:function(t){var e=this.appName+this.NAME_VERSION_SEPARATOR+this.version,n=t.split(this.DELIMITER).filter(function(t){return t!==e});return n.unshift(e),n=this._removeDuplicateItems(n),n.join(this.DELIMITER)},_listenCookieChange:function(){var t=this;chrome.cookies.onChanged.addListener(function(e){e.removed&&"explicit"===e.cause&&e.cookie.name===t.COOKIE_NAME&&(o.info("handle cookie change %j",e),r(function(){t._update(e.cookie.domain)},Math.ceil(100*Math.random())))})},_getUrl:function(t){return"http://"+t+"/"},_eachDomain:function(t,e){this.DOMAINS.forEach(function(n){var r=this;if(!e||e===n){var i={url:this._getUrl(n),name:this.COOKIE_NAME};chrome.cookies.get(i,function(e){t.call(r,e,i.url)})}},this)},_removeDuplicateItems:function(t){var e=[],n=[];return t.forEach(function(t){var r=t.split(this.NAME_VERSION_SEPARATOR)[0];n.indexOf(r)<0&&(n.push(r),e.push(t))},this),e}}},function(t,e,n){var r=n(72),i=n(73),o=i(function(t,e,n){return r(t,e,n)});t.exports=o},function(t,e){function n(t,e,n){if("function"!=typeof t)throw new TypeError(r);return setTimeout(function(){t.apply(void 0,n)},e)}var r="Expected a function";t.exports=n},function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(r);return e=i(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-e,0),a=Array(o);++r<o;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(r=-1;++r<e;)s[r]=n[r];return s[e]=a,t.apply(this,s)}}var r="Expected a function",i=Math.max;t.exports=n},function(t,e,n){"use strict";var r=n(75),i=n(78),o=n(3),a=n(2),s=n(42),u=n(6),c=n(7),l=n(45),h=n(4),f=n(79),d=n(10),p=n(27),m=d.create("Bar-navig"),g=[/yandex\./,/ya\.ru/,/moikrug\.ru/,/google\.((ru)|(com))/,/mail\.ru/,/rambler\.ru/];t.exports={CONTENT_MESSAGE_METRICS:"GET_TAB_SPEED_METRICS",CONTENT_MESSAGE_INFO:"GET_TAB_INFO",CLOSED_TABS_TIMEOUT_MS:5e3,CONTENT_SCRIPT_RESPONSE_TIMEOUT_MS:3e3,EXCLUDES:[/^https:\/\/www\.google\.[a-z]+\/_\/chrome\/newtab.*/i,/^https:\/\/www\.google\.[a-z]+\/webhp\?sourceid=chrome-instant/i,/^chrome:\/\/newtab.*/i],_params:{},_closedTabs:[],_closedTimeout:null,_isPrimary:!1,_isRunning:!1,run:function(){this._isRunning||(this._setParams(),this._assertParams()&&(this._observePrimary(),this._observeUiChange(),this._observeTabs(),this._isRunning=!0))},_isSpeedMetrcisUrl:function(t){return g.some(function(e){return e.test(t)})},_setParams:function(){this._params={yasoft:a.get("yasoft"),ui:a.ui,clid:s.get(1),brandID:a.branding,ver:a.version}},_assertParams:function(){return!["clid","yasoft","ver","ui","brandID"].some(function(t){if(!h.isDefined(this._params[t]))return m.error("Param %s is required for Bar-navig",t),!0},this)},_observePrimary:function(){u.on(c.ELECTION_COMPLETED,this._primaryHandler,this)},_observeUiChange:function(){l.addListener(this._onSharedDataUpdate.bind(this))},_observeTabs:function(){r.init(),r.onComplete.addListener(this._onNavigateComplete.bind(this)),r.onClosed.addListener(this._tabCloseHandler.bind(this))},_primaryHandler:function(t){this._isPrimary=Boolean(t.primary)},_onSharedDataUpdate:function(t){var e=t.data||{},n=e[a.UI_OPTION]||e[a.YANDEX_UI_OPTION];n&&this._updateParams({ui:n})},_updateParams:function(t){Object.keys(t).forEach(function(e){this._params[e]=t[e]},this)},_onNavigateComplete:function(t,e){var n=e.urls[e.urls.length-1];this._isGoodUrl(n)&&this._isEnabled()&&this._getDataFromContentScript(t,e)},_getDataFromContentScript:function(t,e){chrome.tabs.sendMessage(t,this.CONTENT_MESSAGE_INFO,function(n){var r=this._csRespHandlerFactory(t,e,n);chrome.tabs.sendMessage(t,this.CONTENT_MESSAGE_METRICS,r),setTimeout(r,this.CONTENT_SCRIPT_RESPONSE_TIMEOUT_MS)}.bind(this))},_csRespHandlerFactory:function(t,e,n){return h.onceCall(function(r){var i=h.objectUpdate({title:n?n.title:e.title,url:n?n.url:e.urls[e.urls.length-1]},r||{});n&&n.referer&&(i.referer=n.referer),e.realRef&&(i["real-referer"]=e.realRef),e.uuid&&(i["tab-id"]=e.uuid.replace(/\-/g,"")),this._isSpeedMetrcisUrl(i.url)||(delete i.t,delete i.tv),this._sendStats(t,i)},this)},_tabCloseHandler:function(t,e){var n=e.urls[e.urls.length-1];this._isGoodUrl(n)&&this._isEnabled()&&this._closedTabs.push(e.uuid.replace(/\-/g,"")),this._closedTimeout&&clearTimeout(this._closedTimeout),this._closedTimeout=setTimeout(this._sendClosedStats.bind(this),this.CLOSED_TABS_TIMEOUT_MS)},_sendClosedStats:function(){if(this._closedTabs.length){var t=this._getParams();t=this._clearCloseParams(t),t["ctab-ids"]=this._closedTabs.join("."),this._send(t)}this._closedTabs=[],this._closedTimeout=null},_clearCloseParams:function(t){return delete t.brandID,delete t.post,delete t.tv,t},_sendStats:function(t,e){e.t&&(e.t=i(e.t),e.tv=6),e=h.clearObj(h.mix(e,this._getParams()),[""]),this._isEnabled()&&this._send(e)},_isEnabled:function(){return this._isPrimary&&o.get(a.ENABLE_STAT_OPTION)},_send:function(t){(new f).data(h.clearObj(t),[""]).post(this._getUrl())},_getParams:function(){return h.objectUpdate({show:1},this._params)},_isGoodUrl:function(t){return!this.EXCLUDES.some(function(e){return e.test(t)})},_getUrl:function(){return p.url("bar-navig.url")}}},function(t,e,n){"use strict";function r(){return{urls:[],possibleReferrers:[],uuid:l.uuid()}}function i(t){t.forEach(function(t){t.incognito||t.tabs.forEach(function(t){if(t&&t.id&&!t.incognito){var e=p[t.id]=r();e.urls=[t.url],e.status="complete",e.windowId=t.windowId,e.title=t.title,e.favIconUrl=t.favIconUrl}})})}function o(t){return["chrome://newtab/"].indexOf(t)!==-1}function a(t,e){if("real-referrer"===t.topic&&e.tab){var n=e.tab.id;p[n]=p[n]||r(),t.url?p[n].possibleReferrers.push(t.url):p[n].possibleReferrers.push(e.tab.url)}}function s(t,e,n){if(!n.incognito){var i=n.url;if("loading"===e.status){p[t]=p[t]||r();var a,s;if(p[t].status)"complete"===p[t].status?(a=p[t].urls.pop(),s=p[t].possibleReferrers.pop(),a===s?p[t].realRef=a:p[t].realRef=null,p[t].urls=[i],p[t].possibleReferrers=[],p[t].navInExistingTab=!0):p[t].urls.indexOf(i)===-1&&p[t].urls.push(i);else{p[t].urls=[i];var u=p[n.openerTabId];u&&(a=u.urls[u.urls.length-1],s=u.possibleReferrers[u.possibleReferrers.length-1],a===s?(p[t].realRef=a,u.possibleReferrers.pop()):p[t].realRef=null)}o(p[t].realRef)&&(p[t].realRef=null),p[t].status="loading",p[t].timeout&&clearTimeout(p[t].timeout),delete p[t].timeout}else"complete"===e.status&&(p[t]=p[t]||r(),p[t].urls.indexOf(i)===-1&&p[t].urls.push(i),p[t].timeout&&clearTimeout(p[t].timeout),p[t].windowId=n.windowId,p[t].favIconUrl=n.favIconUrl,p[t].title=n.title,p[t].status="loading",p[t].timeout=setTimeout(function(t){p[t]&&(delete p[t].timeout,p[t].status="complete",p[t].possibleReferrers=[],m.onComplete.dispatchToListener(t,p[t]))}.bind(null,t),n.active?f:d))}}function u(t,e){p[t]&&("complete"===p[t].status&&m.onClosed.dispatchToListener(t,p[t],e),delete p[t])}function c(t,e){p[t]=p[e],delete p[e]}var l=n(76),h=n(77),f=3e3,d=6e3,p={},m=t.exports={inited:!1,init:function(t){t&&(f=t.activeTimeout,d=t.inactiveTimeout),this.inited||(chrome.windows.getAll({populate:!0},i),chrome.tabs.onUpdated.addListener(s),chrome.tabs.onRemoved.addListener(u),chrome.tabs.onReplaced.addListener(c),chrome.runtime.onMessage.addListener(a),this.inited=!0)},stop:function(){chrome.tabs.onUpdated.removeListener(s),chrome.tabs.onRemoved.removeListener(u),chrome.tabs.onReplaced.removeListener(c),chrome.runtime.onMessage.removeListener(a)},log:l.noop,getTabInfo:function(t){return t?p[t]:p},onComplete:new h("Tabs.onComplete"),onClosed:new h("Tabs.onClosed")}},function(t,e){"use strict";t.exports={noop:function(){},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})},escapeRegExp:function(t){return t.replace(/([\|\!\[\]\^\$\(\)\{\}\+\=\?\.\*\\])/g,"\\$1")},loadResource:function(t,e){
var n,r=new XMLHttpRequest,i=t.body?"POST":"GET";if(t.responseType&&(r.responseType=t.responseType),t.withCredentials)try{r.withCredentials=!0}catch(o){}return r.open(i,t.url,!0),r.onload=function(i){/^2/.test(r.status)||/^3/.test(r.status)?(window.clearTimeout(n),t.onload&&t.onload.call(e||this,i)):r.onerror(i)},r.onabort=r.onerror=function(r){window.clearTimeout(n),t.onerror&&t.onerror.call(e||this,r)},t.bypassCache&&r.setRequestHeader("If-Modified-Since","Sat, 1 Jan 2005 00:00:00 GMT"),t.body&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.send(t.body||null),n=window.setTimeout(function(){r.abort()},t.timeout||25e3),r},encodeQueryParams:function(t,e,n){e=e||"&",n=n||"=";var r=[],i=function(t){return t=t||"",o+n+t};for(var o in t)Array.isArray(t[o])?(t[o]=t[o].map(i),r.push.apply(r,t[o])):(void 0!==t[o]&&null!==t[o]||(t[o]=""),r.push(encodeURIComponent(o)+n+encodeURIComponent(t[o])));return r.join(e)},parseQueryParams:function(t,e,n){e=e||"&",n=n||"=";var r=t.split(e),i={};if(!t.length)return i;for(var o=function(t){return t&&t.length>0},a=0;a<r.length;a++){var s=r[a].split(n),u=s.shift(),c=s.filter(o).join(n);i[u]?Array.isArray(i[u])?i[u].push(c):i[u]=[i[u],c]:i[u]=c}return i}}},function(t,e){"use strict";var n=function(t){if("string"!=typeof t)throw new Error("Argument error. You should specify event name");this.name=t,this.listeners=[],this.onAddedTrigger=null,this.onRemovedTrigger=null};n.prototype={addListener:function(t){this.hasListener(t)||(this.listeners.push(t),"function"==typeof this.onAddedTrigger&&this.onAddedTrigger.call(null,t))},removeListener:function(t){var e=this.listeners.indexOf(t);e>=0&&(this.listeners.splice(e,1),"function"==typeof this.onRemovedTrigger&&this.onRemovedTrigger.call(null,t))},hasListener:function(t){return this.listeners.indexOf(t)>=0},hasListeners:function(){return this.listeners.length>0},dispatchToListener:function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listeners.forEach(function(e){e.apply(null,t)})},onAdded:function(t){this.onAddedTrigger=t},onRemoved:function(t){this.onRemovedTrigger=t}},t.exports=n},function(t,e){"use strict";var n={names:["dns","tcp","ttfb","html","html-total","ttfp","ttfp-total"],ids:["1037","1038","1039","1040","1040.906","1041","1041.906"]};t.exports=function(t){if(!t)return null;for(var e=[],r=0,i=n.names.length;r<i;r++){var o=n.names[r],a=n.ids[r];t.hasOwnProperty(o)&&e.push(a+"-"+t[o])}return e.join("_")}},function(t,e,n){"use strict";var r=n(80),i=n(82),o=n(83),a=n(81),s=function(){},u=function(t){return"function"==typeof t},c=function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t},l=function(t){return"string"==typeof t},h=function(){this._xhr=null,this._formData=null,this._headers={},this._params={},this._data={},this._url="",this._responseType=i.DEFAULT,this._queryTimeout=25e3,this._withCredentials=!1,this._method=o.GET,this._requestType=a.json,this._callback=s,this._onProgress=s(),this._onUploadProgress=s(),this._onUpload=s(),this._timeoutId=0};h.prototype={set:function(t,e){return this._headers[t]=e,this},type:function(t){return this.set("Content-Type",a[t]||t),this._requestType=t,this},params:function(t){return this._params=t,this},data:function(t){return this._data=t,this},noCache:function(){return this.set("If-Modified-Since","Sat, 1 Jan 2005 00:00:00 GMT"),this},auth:function(t,e){var n=window.btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},oauth:function(t){return this.set("Authorization","OAuth {token}".replace("{token}",t)),this},setMethod:function(t){return this._method=t,this},timeout:function(t){return this._queryTimeout=t,this},withCredentials:function(){return this._withCredentials=!0,this},setUrl:function(t){return l(t)&&(this._url=t),this},field:function(t,e){return this._formData||(this._formData=new FormData),this._formData.append(t,e),this},blob:function(t){return this._formData=t,this},responseType:function(t){return this._responseType=t,this},onProgress:function(t){return u(t)&&(this._onProgress=t),this},onUploadProgress:function(t){return u(t)&&(this._onUploadProgress=t),this},onUpload:function(t){return u(t)&&(this._onUpload=t),this},abort:function(){return this._xhr&&this._xhr.readyState<4&&this._xhr.abort(),this},serialize:function(t){if(!c(t))return t;var e=[];return Object.keys(t).forEach(function(n){e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]))}),e.join("&")},deserialize:function(t){var e,n,r={},i=/^https?.+\?(.+)/i;return l(t)&&t.length>0&&(e=t.replace(i,"$1").split("&")),e&&e.length>0&&e.forEach(function(t){n=t.split("="),r[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}),r},get:function(t,e){return this.setMethod(o.GET).setUrl(t).send(e)},post:function(t,e){return this.type(a.urlencoded).setMethod(o.POST).setUrl(t).send(e)},put:function(t,e){return this.setUrl(t).setMethod(o.PUT).send(e)},send:function(t){var e=this._createUrl(),n=this._createBody();return this._createRequest(),this._setCompleteHandler(t),this._bindEvents(),this._setupTimeout(),this._openRequest(e),this._sendRequest(n),this},_createRequest:function(){this._xhr=new XMLHttpRequest},_setCompleteHandler:function(t){u(t)&&(this._callback=t)},_createUrl:function(){var t=this._url,e=this.query,n=this._url.indexOf("?")>0?"&":"?";return e&&(t=this._url+n+e),t},_createBody:function(){return this._formData||this.serialize(this._data)},_bindEvents:function(){this._bindCompleteEvents(),this._bindProgressEvents(),this._bindUploadEvent(),this._bindAbortEvent()},_bindCompleteEvents:function(){var t=this._onRequestComplete.bind(this);this._xhr.onload=t,this._xhr.onerror=t},_bindProgressEvents:function(){this._xhr.onprogress=this._onProgress,this._xhr.upload.onprogress=this._onUploadProgress},_bindUploadEvent:function(){this._xhr.upload.onload=this._onUpload},_bindAbortEvent:function(){var t=this;this.xhr.onabort=function(){t.aborted=!0,t._onRequestComplete()}},_setupTimeout:function(){var t=this;this._queryTimeout>0&&(this._timeoutId=setTimeout(function(){t.xhr.abort(),t.timeoutExpired=!0},this._queryTimeout))},_openRequest:function(t){this._xhr.responseType=this._responseType,this._xhr.open(this._method,t,!0),this._applyHeaders(),this._applyCredentials()},_applyHeaders:function(){Object.keys(this._headers).forEach(function(t){this.xhr.setRequestHeader(t,this._headers[t])},this)},_applyCredentials:function(){if(this._withCredentials)try{this.xhr.withCredentials=!0}catch(t){}},_sendRequest:function(t){this._xhr.send(t)},_onRequestComplete:function(){clearTimeout(this._timeoutId),this._callback.call(this,new r(this))},get status(){return this._xhr.status},get responseHeaders(){return this._xhr.getAllResponseHeaders()},get query(){return this.serialize(this._params)},get method(){return this._method},get requestType(){return this._requestType},get xhr(){return this._xhr}},t.exports=h},function(t,e,n){"use strict";var r=n(81),i=function(t){this.request=t,this.status=t.xhr.status,this.headers={},this._setHeaders(),this._setStatus()};i.prototype={_setHeaders:function(){this.headers=this._parseHeaders(this.request.xhr.getAllResponseHeaders()),this.headers["content-type"]=this.request.xhr.getResponseHeader("content-type")},_parseHeaders:function(t){var e,n,r,i=t.split(/\r?\n/),o={},a=i[i.length-1];return a.length<3&&i.pop(),i.forEach(function(t){e=t.indexOf(":"),n=t.slice(0,e).toLowerCase(),r=t.slice(e+1).trim(),o[n]=r}),o},_setStatus:function(){this._setCommonStatus(),this._setDetailStatus()},_setCommonStatus:function(){var t=Math.floor(this.status/100)||0;this.aborted=Boolean(this.request.aborted),this.timeout=Boolean(this.request.timeoutExpired),this.info=1===t,this.ok=2===t,this.clientError=4===t,this.serverError=5===t,this.error=4===t||5===t,this.success=this.status>=200&&this.status<300},_setDetailStatus:function(){this.created=201===this.status,this.accepted=202===this.status,this.noContent=204===this.status,this.badRequest=400===this.status,this.unauthorized=401===this.status,this.forbidden=403===this.status,this.notFound=404===this.status,this.notAcceptable=406===this.status,this.toManyRequests=429===this.status},get contentType(){var t=this.headers["content-type"]||"",e="";return Object.keys(r).forEach(function(n){t===r[n]&&(e=r[n])}),e},get json(){try{return JSON.parse(this.request.xhr.responseText)}catch(t){}return{}},get xml(){return this.request.xhr.responseXML},get data(){return this.contentType===r.json?this.json:this.contentType===r.xml?this.xml:this.request.xhr.responseText},get response(){return this.request.xhr.response}},t.exports=i},function(t,e){"use strict";t.exports={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded"}},function(t,e){"use strict";t.exports={DEFAULT:"",JSON:"json",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",TEXT:"document"}},function(t,e){"use strict";t.exports={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",HEAD:"HEAD",PATCH:"PATCH"}},function(t,e,n){"use strict";var r=n(85),i=n(87),o=n(6),a=n(4),s=n(43),u=n(48),c=n(7);t.exports={CREATE:"create",CHANGE:"edit",REMOVE:"delete",BROWSE_CLICK:"bmclick.bmbrowse",CLICK:"bmclick.click",feature:"bm-stats",isPrimary:!1,isSync:!1,isRunning:!1,navTransitionType:{},run:function(){this.isRunning||(this._initialize(),this._bindHandlers(),o.on(c.ELECTION_COMPLETED,this._onPrimarySelect,this),this.isRunning=!0)},_bindHandlers:function(){this._onCreatedWrapper=this._onCreatedHandler.bind(this),this._onChangedWrapper=this._onChangedHandler.bind(this),this._onRemovedWrapper=this._onRemovedHandler.bind(this),this._onNavigationWrapper=this._onNavigationCommit.bind(this),this._onTabsWrapper=this._onTabUpdated.bind(this)},_initialize:function(){s.set(this.feature,!0),chrome.bookmarks.getTree(function(t){i.parse(t),chrome.bookmarks.onImportBegan.addListener(this._onImportBegan.bind(this)),chrome.bookmarks.onImportEnded.addListener(this._onImportEnded.bind(this))}.bind(this))},_onPrimarySelect:function(){this.isPrimary=u.isPrimaryForFeature(this.feature),r.isEnabled=this.isPrimary,this._toggle()},_toggle:function(){this.isPrimary?this._observeEvents():this._ignoreEvents()},_observeEvents:function(){this._ignoreEvents(),chrome.bookmarks.onCreated.addListener(this._onCreatedWrapper),chrome.bookmarks.onRemoved.addListener(this._onRemovedWrapper),chrome.bookmarks.onChanged.addListener(this._onChangedWrapper),chrome.webNavigation.onCommitted.addListener(this._onNavigationWrapper),chrome.tabs.onUpdated.addListener(this._onTabsWrapper)},_ignoreEvents:function(){chrome.bookmarks.onCreated.removeListener(this._onCreatedWrapper),chrome.bookmarks.onRemoved.removeListener(this._onRemovedWrapper),chrome.bookmarks.onChanged.removeListener(this._onChangedWrapper),chrome.webNavigation.onCommitted.removeListener(this._onNavigationWrapper),chrome.tabs.onUpdated.removeListener(this._onTabsWrapper)},_onCreatedHandler:function(t,e){i.add(e),this._sendStatistics(e,this.CREATE)},_onRemovedHandler:function(t){var e=i.get(t);this._sendStatistics(e,this.REMOVE),i.remove(t)},_onChangedHandler:function(t){var e=i.get(t);this._sendStatistics(e,this.CHANGE)},_onImportBegan:function(){r.flush(),this._ignoreEvents()},_onImportEnded:function(){this._observeEvents(),chrome.bookmarks.getTree(function(t){i.folders=[],i.bookmarks=[],i.parse(t)})},_sendStatistics:function(t,e){i.isFolder(t)?r.sendFolder(e):a.isBrowserProtocol(t.url)||r.sendBookmark(e)},_sendClick:function(t,e){a.isBrowserProtocol(e)||r.sendClick(t,e)},_onNavigationCommit:function(t){t.tabId&&!t.frameId&&(this.navTransitionType[t.tabId]=t.transitionType)},_onTabUpdated:function(t,e,n){setTimeout(function(){i.getByUrl(n.url)&&"loading"===e.status&&("auto_bookmark"===this.navTransitionType[t]||"typed"===this.navTransitionType[t]?this._sendClick(this.CLICK,n.url):n.openerTabId||"link"!==this.navTransitionType[t]||this._sendClick(this.BROWSE_CLICK,n.url))}.bind(this),200)}}},function(t,e,n){"use strict";var r=n(86),i=n(9),o=n(27);t.exports={_url:o.url("bookmarks.url"),_timeout:5e3,_timeoutId:0,_bmCache:{},_folderCache:{},_clickCache:{},isEnabled:!1,sendClick:function(t,e){this._clickCache[e]=t,this._timeoutId||(this._timeoutId=setTimeout(this._send.bind(this),this._timeout))},sendBookmark:function(t){this._addToCache(this._bmCache,t)},sendFolder:function(t){this._addToCache(this._folderCache,t)},flush:function(){this._bmCache={},this._clickCache={},this._folderCache={}},_addToCache:function(t,e){this._timeoutId||(this._timeoutId=setTimeout(this._send.bind(this),this._timeout)),t[e]||(t[e]=0),t[e]+=1},_send:function(){clearTimeout(this._timeoutId),this._timeoutId=0,this._sendBookmarks(),this._sendFolders(),this._sendClicks(),this.flush()},_sendBookmarks:function(){var t="bm.",e=".group";Object.keys(this._bmCache).forEach(function(n){var r=t+n;this._bmCache[n]>1&&(r+=e),this._sendRequest(r)},this)},_sendFolders:function(){var t="bmfolder.",e=".group";Object.keys(this._folderCache).forEach(function(n){var r=t+n;this._folderCache[n]>1&&(r+=e),this._sendRequest(r)},this)},_sendClicks:function(){Object.keys(this._clickCache).forEach(function(t){var e=this._clickCache[t];this._sendRequest(e)},this)},_sendRequest:function(t){this.isEnabled&&(new r.Request).get(this._url.replace("{param}",t).replace("{browserId}",i.getBrowser()))}}},function(t,e,n){"use strict";t.exports={Request:n(79),Response:n(80),ResponseTypes:n(82),HttpMethods:n(83),ContentTypes:n(81)}},function(t,e){"use strict";t.exports={folders:[],bookmarks:[],add:function(t){this.isFolder(t)?this.folders.push(t):this.bookmarks.push(t)},get:function(t){return this.getBookmark(t)||this.getFolder(t)},getByUrl:function(t){return this.bookmarks.filter(function(e){return e.url===t}).pop()||null},getBookmark:function(t){return this.search(t,this.bookmarks)},getFolder:function(t){return this.search(t,this.folders)},isFolder:function(t){return!t.url},search:function(t,e){return e.filter(function(e){return e.id===t}).pop()||null},remove:function(t){return this._removeFromList(t,this.bookmarks)||this._removeFromList(t,this.folders)},parse:function(t){this._walkTreeNodes(t)},_walkTreeNodes:function(t){t.forEach(function(t){this.add(t),this._hasNodeChildren(t)&&this._walkTreeNodes(t.children)},this)},_hasNodeChildren:function(t){return this.isFolder(t)&&Array.isArray(t.children)&&t.children.length>0},_removeFromList:function(t,e){var n=this._getIndex(t,e);return n>=0&&(e.splice(n,1),!0)},_getIndex:function(t,e){var n=-1;return e.forEach(function(e,r){e.id===t&&(n=r)}),n}}},function(t,e,n){"use strict";var r=n(10),i=n(2),o=n(89),a=n(6),s=n(3),u=n(27),c=n(48),l=n(90),h=n(9),f=n(96),d=n(4),p=n(43),m=n(97),g=n(98),v=n(7),_=n(79),y=u.url("dayuse-json.url"),b=r.create("DayuseJson"),k=86400,E=99999;t.exports={extensionsData:[],isRunning:!1,run:function(){this.isRunning||(this._sendStatDebounce=d.debounce(this._sendStat.bind(this),2e3),this._attachEvents(),p.set("productStat",!0),g.run(),this.isRunning=!0)},_attachEvents:function(){m.init(),m.on(v.STAT_TAKE_PRODUCT,this._onTakeProduct,this),m.on(v.STAT_GIVE_PRODUCT,this._onGiveProduct,this),a.on(v.SOFT_EXPORT_TICK,this._onStatTick,this),a.on(v.ELECTION_COMPLETED,this._onPrimarySelect,this)},_onPrimarySelect:function(){this.sendProductStat=c.isPrimaryForFeature("productStat"),b.log("Primary for sending product stat: %s",this.sendProductStat)},_onStatTick:function(){this.sendProductStat&&(this.extensionsData=[],b.log("Sending give-product event to extensions"),this._onTakeProduct("yandex.statistics.take-product",this._createExtensionRelatedStat()),m.trigger("yandex.statistics.give-product"))},_onTakeProduct:function(t,e){this.sendProductStat&&(b.log("Received response with stat data"),this.extensionsData.push(e),this._sendStatDebounce(this.extensionsData))},_onGiveProduct:function(){b.log("Received request for stat data"),m.trigger("yandex.statistics.take-product",this._createExtensionRelatedStat())},_createExtensionRelatedStat:function(){var t=this._createExtensionStatDataObject(),e=s.get(i.ENABLE_STAT_OPTION);return this._addDayuseElmntCtag(t.children),this._addNotifCtag(t.children),this._addAuthCtag(t.children),e&&this._addAccountsCtag(t.children),t},_createExtensionStatDataObject:function(){return{ctag:i.get("name"),children:[]}},_addDayuseElmntCtag:function(t){t.push({ctag:"dayuseelmnt",vars:{count:this._calculateDaysCount()}})},_calculateDaysCount:function(){var t=i.installDate,e=Date.now()/1e3,n=f.getEndOfDayTime(t);return Math.floor((e-n)/k)},_addNotifCtag:function(t){var e=o.get("notificationStatus");null!==e&&t.push({ctag:e?"wnotifon":"wnotifoff"})},_addAuthCtag:function(t){var e=o.get("authStatus");null!==e&&t.push({ctag:e?"wauthon":"wauthoff"})},_addAccountsCtag:function(t){var e=o.get("loginCount");e>0&&t.push({ctag:"yalogin",vars:{count:e}})},_createAdditionalStat:function(t){var e=s.get(i.ENABLE_STAT_OPTION),n=[{ctag:e?"stsendon":"stsendoff"},{ctag:"local",vars:{brand:u.get(),lang:l.locale}}];e?this._addBookmarksInfo(n,t):t(n)},_addBookmarksInfo:function(t,e){chrome.bookmarks.getRecent(E,function(n){n&&t.push({ctag:"bmcount",vars:{count:this._roundBookmarksCount(n.length)}}),e(t)}.bind(this))},_roundBookmarksCount:function(t){var e,n;if(t<101)e=5;else if(t<201)e=20;else{if(!(t<501))return 501;e=50}return n=t%e,t-n+(0===n?0:e)},_sendStat:function(t){this._createAdditionalStat(function(e){var n=this._prepareCounters(t,e);n&&(b.log("Send stat: %s, url: %s",n,y),(new _).data({path:"/batch",counters:n}).post(y))}.bind(this))},_prepareCounters:function(t,e){var n=[{ctag:"widgets",children:t}],r=[{"parent-path":h.getBrowser(),children:[{ctag:"elmnt",children:n.concat(e)}]}];try{r=JSON.stringify(r)}catch(i){return void b.error("Can't stringify counters!")}return r}}},function(t,e,n){"use strict";var r=n(2),i=n(3),o=n(5),a={loginCount:0,authStatus:null,notificationStatus:function(){var t=i.get(r.NOTIFY_ENABLED_OPTION);return void 0===t?null:Boolean(t)}};t.exports={_helpers:{},register:function(t){t&&Object.keys(t).forEach(function(e){a.hasOwnProperty(e)&&(this._helpers[e]=t[e])},this)},get:function(t){var e=this._helpers[t],n=a[t];return this._getHelperValue(void 0===e?n:e)},_getHelperValue:function(t){return o.isFunction(t)?t():t}}},function(t,e,n){"use strict";var r=n(91),i=n(28),o={ru:n(92),en:n(93),tr:n(94),uk:n(95)};t.exports={message:function(t,e){var n=i(this.messages,t);return n?(Array.isArray(e)&&e.forEach(function(t,r){for(;n.indexOf("["+r+"]")>=0;)n=n.replace("["+r+"]",e[r]||"")}),n):t},dot:function(t){return i(this.messages,t)||t},pluralize:function(t,e){var n;if(0===t&&e.length>3)n=3;else{var i=r.get(this.locale);n=Math.min(e.length-1,i(t))}return e[n]},pluralMessage:function(t,e){var n=this.dot(t);if(!Array.isArray(n))throw new Error("Key "+t+" should have plural forms!");return this.pluralize(e,n).replace(/\[0]/g,e)},get locale(){return chrome.i18n.getMessage("locale")},get messages(){return o[this.locale]||o.ru}}},function(t,e){"use strict";var n=0,r=[["en,de,et,no,el,it",function(t){return 1!==t?1:0}],["fr,uz,tg",function(t){return t>1?1:0}],["ru,uk,be,hr,sr,bs",function(t){var e=Math.abs(t),n=e%10,r=e%100,i=0;return i=1===n&&11!==r?0:n>=2&&n<=4&&!(r>10&&r<20)?1:2}]];t.exports={_rulesForLocale:{},get:function(t){if(!this._rulesForLocale[t]){this._rulesForLocale[t]=r[n];for(var e=0;e<r.length;++e)if(r[e][0].indexOf(t)>=0){this._rulesForLocale[t]=r[e];break}}return this._rulesForLocale[t][1]}}},function(t,e){t.exports={adv:{"options-text":"Предлагать полезные дополнения и приложения Яндекса",search:{disabled:{more:"Включить",text:"Включите расширение и спрашивайте Яндекс в адресной строке вашего браузера.",title:"Быстрый доступ к поиску Яндекса"},notInstalled:{more:"Узнать подробнее",text:"Сделайте Яндекс поиском по умолчанию и вводите запросы в адресную строку браузера.",title:"Быстрый доступ к поиску Яндекса"}},startpage:{disabled:{more:"Включить",text:"Включите расширение, и при запуске браузера вас будет встречать главная страница Яндекса.",title:"Быстрый доступ к Яндексу"},notInstalled:{more:"Узнать подробнее",text:"При запуске браузера вас встретит Яндекс — сделайте его стартовой страницей.",title:"День начинается с Яндекса"}},vb:{disabled:{more:"Включить",text:"Быстрый доступ к вашим любимым сайтам — достаточно открыть новую вкладку.",title:"У вас есть Визуальные закладки"},notInstalled:{more:"Узнать подробнее",text:"Красивые фоны и возможность настроить 25 любимых закладок",title:"Попробуйте Визуальные закладки"}}},altsearch:{"engine-names":{bing:"Bing",google:"Google",mail:"Mail.ru",yahoo:"Yahoo",yandex:"Яндекс"},"options-text":"Показывать панель альтернативного поиска","panel-text":"Искать «[0]» в других поисковых системах:"},"context-menu":{imgSearch:{label:"Искать по этой картинке в Яндексе"},"options-text":"Добавить пункты контекстного меню «Искать в Яндексе»","page-title":"Яндекс.Картинки: поиск по картинке",search:{label:"Найти в Яндексе «[0]»"}},error:{net:"Нет подключения к интернету",refresh:"При обновлении произошла ошибка",server:"Отсутствует связь с сервером"},"forbidden-in-incognito":"Расширение не поддерживает режим 'Инкогнито'.","forbidden-in-yabrowser":"Установка невозможна. Браузер Yandex уже содержит это расширение.",geolocation:{"options-text":"Учитывать мое местоположение в сервисах Яндекса"},infobar:{agree:"Да",close:"Закрыть",fb:{label:"Хотите получать уведомления о новых сообщениях от друзей из [0] Facebook?"},ok:{label:"Хотите получать уведомления о новых сообщениях от друзей из [0] Одноклассников?"},"options-text":"Показывать контекстные предложения кнопок Элементов Яндекса",video:{install:"Установить Яндекс.Браузер",label:"Режим Турбо ускорит загрузку роликов на [0] при медленном интернете"},vk:{label:"Хотите получать уведомления о новых сообщениях от друзей из [0] Вконтакте?"}},legal:{dateFormat:"%d.%m.%Y",version:"Версия [0] от [1]",yandex:"ООО «ЯНДЕКС»"},license:{label:"Лицензионное соглашение"},options:{label:"Настройки",logout:"Выйти из профиля...","logout-confirm":"Вы уверены, что хотите выйти из профиля?",logs:"Логи расширения",opinions:{label:"Принять участие в улучшении сервисов Яндекса: автоматически отправлять анонимную статистику использования браузера"},restore:{label:"Восстановить исходные настройки"},header:"Настройки: Безопасность",interval:{label:"Интервал обновления",min:"мин."},"mail-protocol-hook":"Открывать ссылки «mailto:» в Яндекс.Почте","mail-push-enable":"Показывать уведомления о новых письмах","mail-show-all-counter":"Показывать сумму входящих писем для всех авторизованных пользователей"},soft:{label:"Другие программы"},support:{label:"Служба поддержки"},addmail:"Подключить другой ящик","addmail-desc":"вы всегда сможете в настройках почты",attach:"С вложением",bar:{button:{close:{label:"Закрыть",tooltip:"Скрыть уведомление"},leave:"Уйти с сайта",settings:{label:"Настройки"},transfer:"Да, перейти"},warning:"Осторожно! Сайт может быть связан с мошенничеством. Вы хотите перейти на настоящий [0]?",warningnouri:"Осторожно! Сайт может быть связан с мошенничеством."},button:{"new-msg":["[0] новое сообщение","[0] новых сообщения","[0] новых сообщений","Нет новых сообщений"],noauth:"Пожалуйста, авторизуйтесь",noinfo:"Нет данных о сообщениях"},continuewm:"Продолжить работу с почтой",create:"Написать","create-email":"Завести ящик на Яндекс.Почте","delete":"Удалить",extension:{description:"Уведомления о новых письмах и быстрый доступ к Яндекс.Почте.","sd-title":"Яндекс.Почта для Экспресс-панели",title:"Элементы Яндекса: Почта"},folder:{draft:"Черновики",inbox:"Входящие",sent:"Отправленные",spam:"Спам",trash:"Удаленные"},ft:{unread:"Непрочитанные"},login_other:"Войти в другой почтовый ящик",logo:"Яндекс Почта",logout:"Выход",logout_all:"Выйти из всех ящиков",mail:{alert:{sound:{label:"Проигрывать звуковые уведомления о новых письмах",preview:{label:"Прослушать"},select:{label:"Выбрать"}},text:{label:"Показывать текстовые уведомления о новых письмах"}},integration:{label:'Открывать ссылки  "mailto:" в Яндекс.Почте'},login:{button:"Войти","dont-remember":"чужой компьютер",error:{"empty-login":"Введите логин","empty-password":"Введите пароль",net:"Проверьте сетевое подключение",server:"Отсутствует связь с сервером","use-passport":"Попробуйте войти через [Яндекс.Паспорт]([0])","wrong-password":"Проверьте правильность логина и пароля"},mfd:{label:"Войти в почтовый ящик на моём домене"},"placeholder-login":"логин","placeholder-password":"пароль",register:"Зарегистрироваться",restore:"вспомнить пароль",social:"Войти при помощи",yandex:{label:"Войти в Яндекс.Почту"}},logout:{label:"Завершить работу с почтовым ящиком"},name:"Почта",noauthtooltiptext:"Показывает новые сообщения в вашей почте",open:{label:"Читать письма"},openAdBook:{label:"Открыть адресную книгу"},openServiceOnClick:{label:"По нажатию на кнопку открывать страницу сервиса"},reloadCounter:{label:"Проверить почту"},send:{accesskey:"ч",image:{label:"Отправить ссылку на изображение по почте"},page:{label:"Отправить ссылку на текущую страницу по почте"},selected:{label:"Отправить выделенный текст по почте"}},sendPage:{label:"Рассказать о странице"},tooltip:{from:"От:",subject:"Тема:"},tooltiptext:"Новые сообщения в вашей почте",uri:{open:{"new":{label:"Открывать страницу только с новыми письмами"}}},writeMail:{label:"Написать письмо"}},mails:"Подключенные почтовые ящики",malware:{body:{ext:{label:"Страница сайта [0] пытается загрузить данные с заражённого сайта [1]. По нашим данным, на [1] был размещён вредоносный программный код. Это могло произойти как по желанию владельцев сайта, так и без их ведома — в результате действий злоумышленников."},label:"По нашим данным, на страницах сайта был размещён вредоносный программный код. Это могло произойти как по желанию владельцев сайта, так и без их ведома — в результате действий злоумышленников."},button:{back:{label:"Уйти со страницы"},proceed:{label:"Игнорировать это предупреждение"}},head:{label:"Сайт [0] может угрожать безопасности вашего компьютера."},info:{label:"Более подробную информацию об угрозе или безопасную копию сайта можно посмотреть на [0]странице с полными данными о заражении[1]."}},"month-format":"[0] [1]",month:{g1:"Января",g10:"Октября",g11:"Ноября",g12:"Декабря",g2:"Февраля",g3:"Марта",g4:"Апреля",g5:"Мая",g6:"Июня",g7:"Июля",g8:"Августа",g9:"Сентября"},notify:{"cumulative-event":["У Вас [0] новое письмо","У Вас [0] новых письма","У Вас [0] новых писем","У Вас нет новых писем"]},nounread:"У вас нет непрочитанных писем",refresh:"Обновить",retry:"Попробуйте еще раз",setreaded:"Отметить как прочитанное",settings:"Настройки виджета",spam:"Отметить как спам",total:"всего [0]",tt:{create:"Написать новое письмо",logo:"Перейти в Я.Почту",refresh:"Обновить список писем"},wait:"Секундочку...",yabrowser:{description:"Кнопка на панели браузера уведомит вас о новых письмах в Яндекс.Почте",title:"Кнопка Яндекс.Почты"}}},function(t,e){t.exports={adv:{"options-text":"Suggest useful extensions and Yandex applications",search:{disabled:{more:"Turn on",text:"Turn on the extension and pitch your question to Yandex in your browser address bar.",title:"Instant access to Yandex.Search"},notInstalled:{more:"Find out more",text:"Make Yandex your default search engine and enter searches in your browser's address bar.",title:"Instant access to Yandex.Search"}},startpage:{disabled:{more:"Turn on",text:"By using the extension, you'll see Yandex's homepage when you launch your browser.",title:"Instant access to Yandex"},notInstalled:{more:"Find out more",text:"Make Yandex your homepage and it will be the first thing you see when you launch your browser.",title:"Your day starts with Yandex"}},vb:{disabled:{more:"Turn on",text:"Just open a new tab to get instant access to your favorite sites.",title:"You have Visual Bookmarks"},notInstalled:{more:"Find out more",text:"Visually-appealing backgrounds and custom selection of your 25 favorite bookmarks",title:"Try Visual Bookmarks"}}},altsearch:{"engine-names":{bing:"Bing",google:"Google",mail:"Mail.ru",yahoo:"Yahoo",yandex:"Yandex"},"options-text":"Show alternative search engines options panel","panel-text":'Search for "[0]" in other search engines:'},"context-menu":{imgSearch:{label:"Search for this image on Yandex"},"options-text":"Add «Search in Yandex» to context menu entries","page-title":"Yandex.Images: search by image",search:{label:'Search for "[0]" on Yandex'}},error:{net:"No internet connection",refresh:"An error occurred while updating",server:"No connection to server"},"forbidden-in-incognito":"The extension does not support incognito mode.","forbidden-in-yabrowser":"Unable to install. Yandex.Browser already contains this extension.",geolocation:{"options-text":"Use my location for Yandex's services"},infobar:{agree:"Yes",close:"Close",fb:{label:"Do you want to receive notifications about new messages from your friends on [0] Facebook?"},ok:{label:"Do you want to receive notifications about new messages from your friends on [0] Odnoklassniki?"},"options-text":"Show contextual ads on Yandex.Elements buttons",video:{install:"Install Yandex.Browser",label:"Turbo mode speeds up video downloads on [0] when the internet is slow"},vk:{label:"Do you want to receive notifications about new messages from your friends on [0] VK?"}},legal:{dateFormat:"%d.%m.%Y",version:"Version [0] released [1]",yandex:"YANDEX"},license:{label:"License Agreement"},options:{label:"Settings",logout:"Log out...","logout-confirm":"Are you sure you want to log out?",logs:"Extension logs",opinions:{label:"Help us improve Yandex services by sharing anonymous browser usage data"},restore:{label:"Restore default settings"},header:"Settings: Security",interval:{label:"Update interval",min:"min."},"mail-protocol-hook":"Open «mailto:» links in Yandex.Mail","mail-push-enable":"Show new message notifications","mail-show-all-counter":"Show the total number of inbox messages for all signed-in users"},soft:{label:"Other software"},support:{label:"Support service"},addmail:"You can always add another mailbox","addmail-desc":"in the mail settings menu",attach:"With attachment",bar:{button:{close:{label:"Close",tooltip:"Hide notification"},leave:"Leave this site",settings:{label:"Settings"},transfer:"Go"},warning:"Warning! This site may be fraudulent. Do you want to go to the real [0]?",warningnouri:"Warning! This site may be fraudulent."},button:{"new-msg":["[0] new message","[0] new messages","[0] new messages","No new messages"],noauth:"Please log in",noinfo:"No information about messages"},continuewm:"Continue managing your mail",create:"Compose","create-email":"Get a Yandex.Mail account","delete":"Remove",extension:{description:"Get new message notifications and quick access to Yandex.Mail.","sd-title":"Yandex.Mail for Speed Dial",title:"Yandex Elements: Mail"},folder:{draft:"Drafts",inbox:"Inbox",sent:"Sent",spam:"Spam",trash:"Deleted"},ft:{unread:"Unread"},login_other:"Log in to another account",logo:"Yandex Mail",logout:"Log&#160;out",logout_all:"Log out of all mail accounts",mail:{alert:{sound:{label:"Play sound notifications for new letters",preview:{label:"Listen"},select:{label:"Select"}},text:{label:"Show text notifications for new letters"}},integration:{label:'Open links "mailto:" in Yandex.Mail'},login:{button:"Login","dont-remember":"Don't remember me",error:{"empty-login":"Enter user name","empty-password":"Enter password",net:"Check your network connection",server:"No connection to server","use-passport":"Trying logging in through [Yandex.Passport]([0])","wrong-password":"Make sure the user name and password are correct"},mfd:{label:"Log in to the mail box at my domain"},"placeholder-login":"user name","placeholder-password":"password",register:"Register",restore:"remember password",social:"Login using",yandex:{label:"Log in to Yandex.Mail"}},logout:{label:"Log out of the mail box"},name:"Mail",noauthtooltiptext:"Shows new letters in Yandex.Mail",open:{label:"Read mail"},openAdBook:{label:"Open address book"},openServiceOnClick:{label:"Click on button to go to service webpage"
},reloadCounter:{label:"Get mail"},send:{accesskey:"e",image:{label:"E-mail image link"},page:{label:"E-mail current page link"},selected:{label:"E-mail selected text"}},sendPage:{label:"Share page"},tooltip:{from:"From:",subject:"Subject:"},tooltiptext:"New letters in Yandex.Mail",uri:{open:{"new":{label:"Open Inbox page with unread messages only"}}},writeMail:{label:"Compose new letter"}},mails:"Mailboxes",malware:{body:{ext:{label:"A webpage on [0] is attempting to download information from [1], which contains malware. The owner of the site may be completely unaware of any malware installed on the site by hackers."},label:"We have detected malware on the pages of this site. The owner of the site may be completely unaware of any malware installed on the site by hackers."},button:{back:{label:"Leave this page"},proceed:{label:"Ignore warning"}},head:{label:"Visiting [0] may harm your computer."},info:{label:"You can see more detailed information about the threat or a secure cached version of the site on the [0]threat information page[1]."}},"month-format":"[0] [1]",month:{g1:"January",g10:"October",g11:"November",g12:"December",g2:"February",g3:"March",g4:"April",g5:"May",g6:"June",g7:"July",g8:"August",g9:"September"},notify:{"cumulative-event":["You have [0] new message","You have [0] new messages","You have [0] new messages","You have no new messages"]},nounread:"You have no unread mail",refresh:"Update",retry:"Try again",setreaded:"Mark as read",settings:"Widget settings",spam:"Mark as spam",total:"[0] in total",tt:{create:"Compose message",logo:"Go to Yandex.Mail",refresh:"Refresh message list"},wait:"Please wait...",yabrowser:{description:"This button in the browser panel notifies you about new messages in Yandex.Mail",title:"Yandex.Mail Button"}}},function(t,e){t.exports={adv:{"options-text":"Yararlı Yandex uzantıları ve uygulamaları öner",search:{disabled:{more:"Etkinleştir",text:"Uzantıyı etkinleştirerek sorgularınızı Yandex'e tarayıcınızın adres satırının üzerinden doğrudan göndermeye başlayın.",title:"Yandex arama motoruna hızlı erişim"},notInstalled:{more:"Daha fazla bilgi",text:"Yandex'i varsayılan arama motorunuz yaparak sorgularınızı tarayıcınızın adres satırının üzerinden girin.",title:"Yandex arama motoruna hızlı erişim"}},startpage:{disabled:{more:"Etkinleştir",text:"Uzantıyı etkinleştirin, tarayıcınız Yandex'in baş sayfasından çalışmaya başlasın.",title:"Yandex'e hızlı erişim"},notInstalled:{more:"Daha fazla bilgi",text:"Tarayıcınızı her açtığınızda Yandex'i görmek için onu başlangıç sayfanız yapın.",title:"Gününüz Yandex'le başlıyor"}},vb:{disabled:{more:"Etkinleştir",text:"Favori sitelerinize hızlı erişim: Yeni sekme açmanız yeterli.",title:"Görsel Favoriler'iniz var"},notInstalled:{more:"Daha fazla bilgi",text:"Güzel arkaplan seçenekleri ve 25 favori bağlantısı ayarlama olanağı",title:"Görsel Favoriler'i deneyin"}}},altsearch:{"engine-names":{bing:"Bing",google:"Google",mail:"Mail.ru",yahoo:"Yahoo",yandex:"Yandex"},"options-text":"Alternatif arama panelini göster","panel-text":'"[0]" sorgusunu diğer arama motorlarında ara:'},"context-menu":{imgSearch:{label:"Yandex'te bu resme göre arama yap"},"options-text":"«Yandex'te bul» içerik menüsü öğelerini ekle","page-title":"Yandex.Görsel: görsele göre arama",search:{label:'"[0]" sorgusunu Yandex\'te bul'}},error:{net:"İnternet bağlantısı yok",refresh:"Güncelleme sırasında hata oluştu",server:"Sunucuyla bağlantı yok"},"forbidden-in-incognito":"Eklenti 'Gizli' modu desteklemiyor.","forbidden-in-yabrowser":"Kurulum yapılamaz. Yandex.Browser zaten bu eklentiye sahip.",geolocation:{"options-text":"Yandex servisleri için konumumu belirle"},infobar:{agree:"Evet",close:"Kapat",fb:{label:"[0] Facebook'taki arkadaşlarınızdan yeni mesajlar ile ilgili bildirimleri almak istiyor musunuz?"},ok:{label:"[0] Odnoklasniki'deki arkadaşlarınızdan yeni mesajlar ile ilgili bildirimleri almak istiyor musunuz?"},"options-text":"Yandex Elements'in içerik butonu önerilerini göster",video:{install:"Yandex.Browser'ı kur",label:"İnternet bağlantısı yavaş olduğunda Turbo modu [0] sitesinde videoların yüklenmesini hızlandırır"},vk:{label:"[0] VK'deki arkadaşlarınızdan yeni mesajlar ile ilgili bildirimleri almak istiyor musunuz?"}},legal:{dateFormat:"%d.%m.%Y",version:"[1] tarihli [0] sürümü",yandex:"YANDEX"},license:{label:"Lisans sözleşmesi"},options:{label:"Ayarlar",logout:"Profilden çıkış yap...","logout-confirm":"Profilden çıkmak istediğinizden emin misiniz?",logs:"Uzantının kayıt dosyaları",opinions:{label:"Yandex servislerinin iyileştirilmesi için tarayıcının kullanım istatistiklerini otomatik ve anonim olarak paylaş"},restore:{label:"Varsayılan ayarlara geri dön"},header:"Ayarlar: Güvenlik",interval:{label:"Güncelleme sıklığı",min:"dk."},"mail-protocol-hook":"«mailto:» bağlantılarını Yandex.Mail'de aç","mail-push-enable":"Yeni gelen e-posta bildirimlerini göster","mail-show-all-counter":"Kullanıcı girişi yapan tüm kullanıcıların gelen e-postalarının toplam sayısını göster"},soft:{label:"Diğer programlar"},support:{label:"Destek Ekibi"},addmail:"Başka e-posta hesabı bağla","addmail-desc":"mail ayarlarından her zaman yapılabilir",attach:"Ekli ",bar:{button:{close:{label:"Kapat",tooltip:"Bildirimi gizle"},leave:"Siteyi terk et",settings:{label:"Ayarlar"},transfer:"Evet, geçiş yap"},warning:"Dikkat! Site sahte olabilir. Buraya mı geçiş yapmak istiyorsunuz: [0]?",warningnouri:"Dikkat! Site sahte olabilir."},button:{"new-msg":["[0] yeni e-posta","[0] yeni e-posta","[0] yeni e-posta","Yeni e-posta yok"],noauth:"Lütfen giriş yapın",noinfo:"E-posta bilgisi yok"},continuewm:"Mail'i kullanmaya devam et",create:"E-posta yaz ","create-email":"Yandex.Mail'de hesap aç","delete":"Sil ",extension:{description:"Yeni e-postalarla ilgili bildirimler ve Yandex.Mail’e hızlı erişim.","sd-title":"Araç çubuğu için Yandex.Mail",title:"Yandex Elements: Mail"},folder:{draft:"Taslaklar",inbox:"Gelen kutusu",sent:"Gönderilmiş Öğeler",spam:"Spam",trash:"Silinenler"},ft:{unread:"Okunmamış "},login_other:"Diğer hesaba giriş yap",logo:"Yandex Mail",logout:"Çıkış ",logout_all:"Tüm hesaplardan çıkış yap",mail:{alert:{sound:{label:"Yeni e-posta bildirimlerinde sesli uyar",preview:{label:"Dinle "},select:{label:"Seç "}},text:{label:"Yeni gelen e-postalar için yazılı bildirim göster "}},integration:{label:"mailto: bağlantısını Yandex.Mail ile aç"},login:{button:"Giriş yap","dont-remember":"beni hatırlama",error:{"empty-login":"Kullanıcı adınızı girin","empty-password":"Şifre boş bırakılamaz ",net:"Ağ bağlantınızı kontrol edin",server:"Sunucuyla bağlantı yok","use-passport":"Bununla girmeyi deneyin: [Yandex.Pasaport]([0])","wrong-password":"Kullanıcı adı ve şifrenin doğruluğunu kontrol edin"},mfd:{label:"E-posta kutusuna benim alanımdan gir"},"placeholder-login":"kullanıcı adı","placeholder-password":"şifre",register:"Kaydol",restore:"şifremi unuttum",social:"Bu hesaplarla giriş yap",yandex:{label:"Yandex.Mail'e giriş yap"}},logout:{label:"E-posta kutusundaki işlemi bitir"},name:"Mail",noauthtooltiptext:"Hesabınızdaki yeni e-postaları gösterir",open:{label:"E-posta oku"},openAdBook:{label:"Adres defterini aç "},openServiceOnClick:{label:"Butonuna tıklandığında servis sayfasını aç"},reloadCounter:{label:"E-postayı kontrol et "},send:{accesskey:"e",image:{label:"Görsel için bağlantıyı e-posta ile gönder"},page:{label:"Bu sayfa için bağlantıyı e-posta ile gönder"},selected:{label:"Seçilen metni e-posta ile gönder"}},sendPage:{label:"Sayfadan bahset "},tooltip:{from:"Kimden:",subject:"Konu:  "},tooltiptext:"Hesabınızdaki yeni e-postalar",uri:{open:{"new":{label:"Sadece yeni e-postaları içeren sayfayı aç"}}},writeMail:{label:"E-posta yaz "}},mails:"Bağlı e-posta hesapları",malware:{body:{ext:{label:"[0] sitesinin sayfası, virüslü [1] sitesinden veri yüklemeye çalışıyor. Elimizdeki verilere göre, [1] sitesinin sayfalarına kötü amaçlı program kodu yerleştirilmiş. Bunu sitenin sahibi bilerek yapmış olabileceği gibi, sahibinin haberi olmadan kötü niyetli kişiler de yapmış olabilir."},label:"Elimizdeki verilere göre, sitenin sayfalarına kötü amaçlı program kodu yerleştirilmiş. Bunu sitenin sahibi bilerek yapmış olabileceği gibi, sahibinin haberi olmadan kötü niyetli kişiler de yapmış olabilir."},button:{back:{label:"Sayfadan çık"},proceed:{label:"Bu uyarıyı yoksay"}},head:{label:"[0] sitesi, bilgisayarınıza zarar verebilir."},info:{label:"[0]Burada, risk hakkında daha ayrıntılı bilgi[1] ya da sitenin güvenli kopyasını bulabilirsiniz."}},"month-format":"[0] [1]",month:{g1:"Ocak",g10:"Ekim",g11:"Kasım",g12:"Aralık",g2:"Şubat",g3:"Mart",g4:"Nisan",g5:"Mayıs",g6:"Haziran",g7:"Temmuz",g8:"Ağustos",g9:"Eylül"},notify:{"cumulative-event":["[0] yeni e-postanız var","[0] yeni e-postanız var","[0] yeni e-postanız var","Yeni e-postanız yok"]},nounread:"Okunmamış e-postanız yok",refresh:"Güncelle ",retry:"Tekrar deneyin",setreaded:"Okundu olarak işaretle",settings:"Widget ayarları ",spam:"Spam olarak işaretle",total:"toplam [0]",tt:{create:"E-posta yaz",logo:"Yandex.Mail'e git",refresh:"Mesaj listesini güncelle"},wait:"Lütfen bekleyin... ",yabrowser:{description:"Tarayıcının panelinde bulunan buton Yandex.Mail'e gelen yeni e-postaları size bildirir",title:"Yandex.Mail butonu"}}},function(t,e){t.exports={adv:{"options-text":"Пропонувати корисні доповнення та програми Яндекса",search:{disabled:{more:"Увімкнути",text:"Увімкніть розширення і запитуйте Яндекс в адресному рядку вашого браузера.",title:"Швидкий доступ до пошуку Яндекса"},notInstalled:{more:"Дізнатися докладніше",text:"Зробіть Яндекс пошуком за замовчуванням і вводьте запити в адресний рядок браузера.",title:"Швидкий доступ до пошуку Яндекса"}},startpage:{disabled:{more:"Увімкнути",text:"Увімкніть розширення, і під час запуску браузера вас зустрічатиме головна сторінка Яндекса.",title:"Швидкий доступ до Яндекса"},notInstalled:{more:"Дізнатися докладніше",text:"Під час запуску браузера вас зустріне Яндекс — зробіть його стартовою сторінкою.",title:"День починається з Яндекса"}},vb:{disabled:{more:"Увімкнути",text:"Швидкий доступ до ваших улюблених сайтів — досить відкрити нову вкладку.",title:"У вас є Візуальні закладки"},notInstalled:{more:"Дізнатися докладніше",text:"Гарне тло і можливість налаштувати 25 улюблених закладок",title:"Спробуйте Візуальні закладки"}}},altsearch:{"engine-names":{bing:"Bing",google:"Google",mail:"Mail.ru",yahoo:"Yahoo",yandex:"Яндекс"},"options-text":"Показувати панель альтернативного пошуку","panel-text":"Шукати «[0]» в інших пошукових системах:"},"context-menu":{imgSearch:{label:"Шукати за цим зображенням у Яндексі"},"options-text":"Додавати пункти контекстного меню «Шукати у Яндексі»","page-title":"Яндекс.Зображення: пошук за зображенням",search:{label:"Знайти в Яндексі «[0]»"}},error:{net:"Немає підключення до інтернету",refresh:"Під час оновлення сталася помилка",server:"Немає зв'язку з сервером"},"forbidden-in-incognito":"Розширення не підтримує режим 'Інкогніто'.","forbidden-in-yabrowser":"Встановлення неможливе. Браузер Yandex уже містить це розширення.",geolocation:{"options-text":"Враховувати моє місце розташування на сервісах Яндекса"},infobar:{agree:"Так",close:"Закрити",fb:{label:"Хочете отримувати сповіщення про нові повідомлення від друзів із [0] Facebook?"},ok:{label:"Хочете отримувати сповіщення про нові повідомлення від друзів з [0] Однокласників?"},"options-text":"Показувати контекстні пропозиції кнопок Елементів Яндекса",video:{install:"Встановити Яндекс.Браузер",label:"Режим Турбо прискорить завантаження роликів на [0] у разі повільного інтернету"},vk:{label:"Хочете отримувати сповіщення про нові повідомлення від друзів із [0] Вконтакті?"}},legal:{dateFormat:"%d.%m.%Y",version:"Версія [0] від [1]",yandex:"ООО «ЯНДЕКС»"},license:{label:"Ліцензійна угода"},options:{label:"Налаштування",logout:"Вийти з профілю...","logout-confirm":"Ви впевнені, що хочете вийти з профілю?",logs:"Логи розширення",opinions:{label:"Взяти участь у покращенні сервісів Яндекса: автоматично надсилати анонімну статистику використання браузера"},restore:{label:"Відновити вихідні налаштування"},header:"Налаштування: Безпека",interval:{label:"Інтервал оновлення",min:"хв"},"mail-protocol-hook":"Відкривати посилання «mailto:» в Яндекс.Пошті","mail-push-enable":"Показувати повідомлення про нові листи","mail-show-all-counter":"Показувати суму вхідних листів для усіх авторизованих користувачів"},soft:{label:"Інші програми"},support:{label:"Служба підтримки"},addmail:"Підключити іншу скриньку","addmail-desc":"ви завжди зможете в налаштуваннях пошти",attach:"Із вкладенням",bar:{button:{close:{label:"Закрити",tooltip:"Приховати сповіщення"},leave:"Піти із сайту",settings:{label:"Налаштування"},transfer:"Так, перейти"},warning:"Обережно! Сайт може бути пов'язаний із шахрайством. Ви хочете перейти на справжній [0]?",warningnouri:"Обережно! Сайт може бути пов'язаний із шахрайством."},button:{"new-msg":["[0] нове повідомлення","[0] нові повідомлення","[0] нових повідомлень","Немає нових повідомлень"],noauth:"Будь ласка, авторизуйтеся",noinfo:"Немає даних про повідомлення"},continuewm:"Продовжити роботу з поштою",create:"Написати","create-email":"Завести скриньку на Яндекс.Пошті","delete":"Видалити",extension:{description:"Сповіщення про нові листи і швидкий доступ до Яндекс.Пошти.","sd-title":"Яндекс.Пошта для Експрес-панелі",title:"Елементи Яндекса: Пошта"},folder:{draft:"Чернетки",inbox:"Вхідні",sent:"Надіслані",spam:"Спам",trash:"Видалені"},ft:{unread:"Непрочитані"},login_other:"Увійти в іншу поштову скриньку",logo:"Яндекс Пошта",logout:"Вихід",logout_all:"Вийти з усіх скриньок",mail:{alert:{sound:{label:"Програвати звукові сповіщення про нові листи",preview:{label:"Прослухати"},select:{label:"Вибрати"}},text:{label:"Показувати текстові сповіщення про нові листи"}},integration:{label:'Відкривати посилання "mailto:" в Яндекс.Пошті'},login:{button:"Увійти","dont-remember":"чужий комп'ютер",error:{"empty-login":"Введіть логін","empty-password":"Введіть пароль",net:"Перевірте мережеве підключення",server:"Немає зв'язку з сервером","use-passport":"Спробуйте ввійти через [Яндекс.Паспорт]([0])","wrong-password":"Перевірте правильність логіна та пароля"},mfd:{label:"Увійти в поштову скриньку на моєму домені"},"placeholder-login":"логін","placeholder-password":"пароль",register:"Зареєструватися",restore:"згадати пароль",social:"Увійти за допомогою",yandex:{label:"Увійти в Яндекс.Пошту"}},logout:{label:"Завершити роботу з поштовою скринькою"},name:"Пошта",noauthtooltiptext:"Показує нові повідомлення у вашій пошті",open:{label:"Читати листи"},openAdBook:{label:"Відкрити адресну книгу"},openServiceOnClick:{label:"Після натискання на кнопку відкривати сторінку сервісу"},reloadCounter:{label:"Перевірити пошту"},send:{accesskey:"т",image:{label:"Надіслати посилання на зображення поштою"},page:{label:"Надіслати посилання на поточну сторінку поштою"},selected:{label:"Надіслати виділений текст поштою"}},sendPage:{label:"Розповісти про сторінку"},tooltip:{from:"Від:",subject:"Тема:"},tooltiptext:"Нові повідомлення у вашій пошті",uri:{open:{"new":{label:"Відкривати сторінку лише з новими листами"}}},writeMail:{label:"Написати лист"}},mails:"Підключені поштові скриньки",malware:{body:{ext:{label:"Сторінка сайту [0] намагається завантажити дані із зараженого сайту [1]. За нашими даними, на [1] було розміщено шкідливий програмний код. Це могло статися як за бажанням власників сайту, так і без їхнього відома — в результаті дій зловмисників."},label:"За нашими даними, на сторінках сайту було розміщено шкідливий програмний код. Це могло статися як за бажанням власників сайту, так і без їхнього відома — в результаті дій зловмисників."},button:{back:{label:"Піти зі сторінки"},proceed:{label:"Ігнорувати це попередження"}},head:{label:"Сайт [0] може загрожувати безпеці вашого комп’ютера."},info:{label:"Докладнішу інформацію про загрозу або безпечну копію сайту можна подивитися на [0]сторінці з повними даними про зараження[1]."}},"month-format":"[0] [1]",month:{g1:"Cічня",g10:"Жовтня",g11:"Листопада",g12:"Грудня",g2:"Лютого",g3:"Березня",g4:"Квітня",g5:"Травня",g6:"Червня",g7:"Липня",g8:"Серпня",g9:"Вересня"},notify:{"cumulative-event":["У Вас [0] новий лист","У Вас [0] нові листи","У Вас [0] нових листів","У Вас немає нових листів"]},nounread:"У вас немає непрочитаних листів",refresh:"Оновити",retry:"Спробуйте ще раз",setreaded:"Позначити як прочитане",settings:"Налаштування віджета",spam:"Позначити як спам",total:"всього [0]",tt:{create:"Написати новий лист",logo:"Перейти у Я.Пошту",refresh:"Оновити список листів"},wait:"Секундочку...",yabrowser:{description:"Кнопка на панелі браузера сповістить вас про нові листи в Яндекс.Пошті",title:"Кнопка Яндекс.Пошти"}}},function(t,e){"use strict";t.exports={END_OF_DAY_HOUR:3,SEC_IN_DAY:86400,getEndOfDayTime:function(t){var e=new Date(1e3*t),n=e.getHours()<this.END_OF_DAY_HOUR?e.getDate()-1:e.getDate(),r=new Date(e.getFullYear(),e.getMonth(),n,this.END_OF_DAY_HOUR);return parseInt(r/1e3,10)},getDaysAfterInstall:function(t){var e=Date.now()/1e3,n=this.getEndOfDayTime(t);return Math.floor((e-n)/this.SEC_IN_DAY)}}},function(t,e){"use strict";t.exports={events:{},moduleId:chrome.runtime.id,inited:!1,init:function(t){this.inited||(chrome.runtime.onMessageExternal.addListener(this._chromeMessageHandler.bind(this)),this.inited=!0),"function"==typeof t&&t()},trigger:function(t,e,n,r){var i=this;chrome.management.getAll(function(o){o.forEach(function(a){i.sendTo(a.id,t,e,n,r,o)},i)})},on:function(t,e,n,r){this.events[t]||(this.events[t]=[]),this.events[t].push({topic:t,handler:e,ctx:n,once:Boolean(r)})},once:function(t,e,n){this.on(t,e,n,!0)},off:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(n){return n.topic!==t||n.handler!==e}))},ignoreEvent:function(t){this.events[t]&&(this.events[t]=this.events[t].filter(function(e){return e.topic!==t}))},willTrigger:function(t){return Boolean(this.events[t])&&this.events[t].length>0},hasListener:function(t,e){return!!this.events[t]&&this.events[t].some(function(n){return n.topic===t&&n.handler===e})},sendTo:function(t,e,n,r,i,o){var a={topic:e,data:n,options:r,transmitter:this.moduleId};this._validExtension(t,o,function(e){e&&this._sendMessage(t,a,i)})},flush:function(){Object.keys(this.events).forEach(function(t){this.events[t]=[]},this)},_chromeMessageHandler:function(t,e,n){if(t&&t.topic&&t.transmitter&&t.transmitter!==this.moduleId){var r=t.topic,i=t.data||{},o=t.options||{};return o.sendResponse=n,this._internalTrigger(r,i,o),Boolean(o.asyncResponse)}},_internalTrigger:function(t,e,n){var r=[];this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t.handler&&r.push(t),!t.once}),r.forEach(function(r){r.handler.call(r.ctx,t,e,n)}))},_validExtension:function(t,e,n){this._getExtensions(e,function(e){var r=e.some(function(e){return e.id===t&&e.enabled&&e.id!==this.moduleId},this);n.call(this,r)})},_getExtensions:function(t,e){var n=this;return t?e.call(this,t):void chrome.management.getAll(function(t){e.call(n,t)})},_sendMessage:function(t,e,n){n?chrome.runtime.sendMessage(t,e,n):chrome.runtime.sendMessage(t,e)}}},function(t,e,n){"use strict";var r=n(99),i=n(9),o=n(6),a=n(3),s=n(7),u=n(96);t.exports={TWO_HOURS:72e5,START_DELAY:1e4,ONE_DAY:86400,isRunning:!1,browserContextAvailable:!1,run:function(){this._tick=this._tick.bind(this),this.isRunning||this._runStatistics()},_runStatistics:function(){this.isRunning=!0,setTimeout(this._tick,this.START_DELAY),setInterval(this._tick,this.TWO_HOURS)},_tick:function(){this._waitBrowser(this._contextHandler.bind(this))},_waitBrowser:function(t){return this.browserContextAvailable?void t():i.whenBrowserContextAvailable(t)},_contextHandler:function(){this.browserContextAvailable=!0;var t=a.get(r.SOFT_EXPORT_TIME);t||this._triggerStat(Date.now()/1e3),this._checkLastTriggerDate(t)},_checkLastTriggerDate:function(t){var e=Date.now()/1e3;t<u.getEndOfDayTime(e)&&this._triggerStat(e)},_triggerStat:function(t){o.trigger(s.SOFT_EXPORT_TICK),a.set(r.SOFT_EXPORT_TIME,t)}}},function(t,e){"use strict";t.exports={UI:"yandex.statistics.ui",YANDEX_UI:"yandex.statistics.yandexUi",IS_YANDEX_UI:"yandex.statistics.is-yandex-ui",SOFT_EXPORT_TIME:"yandex.statistics.time",INSTALL_DATE:"application.installDate",DAYUSE_TIME:"yandex.dayuse.json.time",DAYUSE_STAT_TIME:"yandex.dayuse-stat.time",MIGRATION_KEY:"application.migration.state",BANNER_ID:"application.banner.id",BANNER_INIT_COMPLETED:"application.banner.initCompleted",CONTEXT_MENU:"application.context-menu.enabled",BAR_NAVIG:"application.tab.opinions.enabled",GPAUTO:"application.geolocation.enabled",ADVERTISEMENT:"application.advertisement.enabled"}},function(t,e,n){"use strict";var r=n(10),i=n(6),o=n(9),a=n(43),s=n(48),u=n(101),c=n(7),l=n(98),h=new u({pid:278,cid:72364}),f=r.create("AppStatistics");t.exports={_timeoutId:null,_timeoutMs:5e3,_useTimeout:!1,_sendAppStat:!1,_isRunning:!1,_yaAppIds:["akkhkcocfnopiccplnimkefmaejepdlj","lbhlpghmmkknfalanfimbfjlllianmdj"],run:function(){o.isChrome()&&!this._isRunning&&chrome.permissions.contains({permissions:["management"]},this._permissionsHandler.bind(this))},_permissionsHandler:function(t){t&&(this._listenAppEvents(),this._listenEnabledEvents(),this._start())},_listenAppEvents:function(){i.on(c.SOFT_EXPORT_TICK,this._onStatTick,this),i.on(c.ELECTION_COMPLETED,this._onPrimarySelect,this)},_listenEnabledEvents:function(){chrome.management.onEnabled.addListener(function(){this._useTimeout=!0}.bind(this))},_start:function(){a.set("appStat",!0),l.run(),this._isRunning=!0},_onPrimarySelect:function(){this._sendAppStat=s.isPrimaryForFeature("appStat"),f.log("Primary for sending app stat: %s",this._sendAppStat)},_onStatTick:function(){clearTimeout(this._timeoutId),this._useTimeout?this._timeoutId=setTimeout(this._onStatTick.bind(this),this._timeoutMs):this._sendAppsStatistics(),this._useTimeout=!1},_sendAppsStatistics:function(){this._sendAppStat&&chrome.management.getAll(function(t){this._calcAppsCount(t,function(t,e){h.sendPath("numa."+t),h.sendPath("nump."+e),f.log("Send stat, numa: %i; nump: %i",t,e)})}.bind(this))},_calcAppsCount:function(t,e){var n=0,r=0,i=Object.keys(a.extinfo).concat(this._yaAppIds);t.forEach(function(t){t.enabled&&i.indexOf(t.id)===-1&&(n++,"packaged_app"===t.type&&r++)},this),e(n,r)}}},function(t,e,n){"use strict";function r(t,e,n,r){if("undefined"==typeof t)throw new TypeError("path is undefined");i.send(a(s(),{pid:e,cid:n,path:t,vars:r}))}var i=n(102),o=n(9),a=n(104),s=function(){return{pid:12,cid:72359,platform:o.getBrowser(),version:chrome.runtime.getManifest().version.split(".").join("-")}},u=function(t){this._settings=a(s(),t)};u.prototype={send:function(t,e){if("string"==typeof t){var n=a(this._settings,{action:t});return i.send(n,e)}return"object"==typeof t?i.send(a(this.settings,t),e):i.send(this.settings,e)},sendPath:function(t,e,n,i){r(t,e||this._settings.pid,n||this._settings.cid,i)},get settings(){return a({},this._settings)}},u.send=function(t,e){var n=a(s(),t);i.send(n,e)},u.sendPath=r,t.exports=u},function(t,e,n){"use strict";function r(t,e){return s.replace("{pid}",encodeURIComponent(t.pid)).replace("{cid}",encodeURIComponent(t.cid)).replace("{path}",t.path||c.get(t,e)).replace("{vars}",i(t.vars))}function i(t){return t?"/"+o(t):""}function o(t){return Object.keys(t).map(function(e){return Array.isArray(t[e])?encodeURIComponent(e)+"="+t[e].map(encodeURIComponent).join(h):encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).filter(Boolean).join(l)}var a=n(27),s=a.url("clicker.url"),u=n(79),c=n(103),l="/",h=".";e.send=function(t,e){return(new u).get(r(t,e))}},function(t,e){"use strict";var n=["platform","feature","version","action"];e.get=function(t,e){return n.map(function(n){return e&&"version"===n?t[n].replace(/^(\d+)\-(\d+)\-(\d+)$/,"$1-$2"):t[n]}).filter(Boolean).join(".")}},function(t,e,n){var r=n(105),i=n(116),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n,f,d){if(!u(t))return t;var p=s(e)&&(a(e)||l(e)),m=p?void 0:h(e);return i(m||e,function(i,a){if(m&&(a=i,i=e[a]),c(i))f||(f=[]),d||(d=[]),o(t,e,a,r,n,f,d);else{var s=t[a],u=n?n(s,i,a,t,e):void 0,l=void 0===u;l&&(u=i),void 0===u&&(!p||a in t)||!l&&(u===u?u===s:s!==s)||(t[a]=u)}}),t}var i=n(106),o=n(107),a=n(34),s=n(53),u=n(31),c=n(38),l=n(113),h=n(57);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function r(t,e,n,r,h,f,d){for(var p=f.length,m=e[n];p--;)if(f[p]==m)return void(t[n]=d[p]);var g=t[n],v=h?h(g,m,n,t,e):void 0,_=void 0===v;_&&(v=m,s(m)&&(a(m)||c(m))?v=a(g)?g:s(g)?i(g):[]:u(m)||o(m)?v=o(g)?l(g):u(g)?g:{}:_=!1),f.push(m),d.push(v),_?t[n]=r(v,m,h,f,d):(v===v?v!==g:g===g)&&(t[n]=v)}var i=n(108),o=n(52),a=n(34),s=n(53),u=n(109),c=n(113),l=n(114);t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t){var e;if(!a(t)||l.call(t)!=s||o(t)||!c.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return i(t,function(t,e){n=e}),void 0===n||c.call(t,n)}var i=n(110),o=n(52),a=n(38),s="[object Object]",u=Object.prototype,c=u.hasOwnProperty,l=u.toString;t.exports=r},function(t,e,n){function r(t,e){return i(t,e,o)}var i=n(111),o=n(60);t.exports=r},function(t,e,n){var r=n(112),i=r();t.exports=i},function(t,e,n){function r(t){return function(e,n,r){for(var o=i(e),a=r(e),s=a.length,u=t?s:-1;t?u--:++u<s;){var c=a[u];if(n(o[c],c,o)===!1)break}return e}}var i=n(30);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t.length)&&!!S[P.call(t)]}var i=n(39),o=n(38),a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",h="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",_="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",k="[object Float64Array]",E="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",O="[object Uint32Array]",S={};S[b]=S[k]=S[E]=S[w]=S[x]=S[T]=S[C]=S[A]=S[O]=!0,S[a]=S[s]=S[y]=S[u]=S[c]=S[l]=S[h]=S[f]=S[d]=S[p]=S[m]=S[g]=S[v]=S[_]=!1;var I=Object.prototype,P=I.toString;t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(115),o=n(60);t.exports=r},function(t,e){function n(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}t.exports=n},function(t,e,n){function r(t){return a(function(e,n){var r=-1,a=null==e?0:n.length,s=a>2?n[a-2]:void 0,u=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof s?(s=i(s,c,5),a-=2):(s="function"==typeof c?c:void 0,a-=s?1:0),u&&o(n[0],n[1],u)&&(s=a<3?void 0:s,a=1);++r<a;){var l=n[r];l&&t(e,l,s)}return e})}var i=n(117),o=n(119),a=n(73);t.exports=r},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}var i=n(118);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){if(!a(n))return!1;var r=typeof e;if("number"==r?i(n)&&o(e,n.length):"string"==r&&e in n){var s=n[e];return t===t?t===s:s!==s}return!1}var i=n(53),o=n(59),a=n(31);t.exports=r},function(t,e,n){"use strict";var r,i=n(10),o=n(6),a=n(48),s=n(8),u=n(43),c=n(101),l=n(7),h=n(121),f=i.create("HistoryStatistics");t.exports={_usedDays:0,run:function(){r=new c({cid:72510}),u.set("historyStat",!0),o.once(l.ELECTION_COMPLETED,this._onPrimarySelect,this)},_onPrimarySelect:function(){this.primary=a.isPrimaryForFeature("historyStat"),f.log("Primary for sending history stat: %s",this.primary),this._checkHistoryPermission(function(){this._getBrowserHistory(this._handleBrowserHistory.bind(this))}.bind(this))},_checkHistoryPermission:function(t){chrome.permissions.contains({permissions:["history"]},function(e){e&&chrome.history&&t()})},_getBrowserHistory:function(t){this.primary&&s.status===s.INSTALL&&chrome.history.search({text:"",startTime:0,maxResults:0},t)},_handleBrowserHistory:function(t){t&&this._getAllAndUsedDays(t,this._sendHistoryStat.bind(this,t.length))},_sendHistoryStat:function(t,e,n){var i=this._getRoundedHistoryLength(t);f.log("Send allDays: %i, usedDays: %i, historyLength: %i",e,n,i),r.send("browseruse."+e+"."+n+"."+i)},_getRoundedHistoryLength:function(t){if(0===t)return 0;var e=t>=1e3?200:100,n=t%e;return t-n+(0===n?0:e)},_getAllAndUsedDays:function(t,e){return 0===t.length?void e(0,0):void chrome.history.getVisits({url:t[t.length-1].url},this._handleHistoryItemVisits.bind(this,e))},_handleHistoryItemVisits:function(t,e){var n=e[0].visitTime,r=Date.now(),i=this._calculateAllDays(n),o=this._onHistorySearch.bind(this);r-n>h.HALF_YEAR.MS&&(n=r-h.HALF_YEAR.MS);do r-n<h.DAY.MS&&(o=this._onHistorySearchFinish.bind(this,t,i)),chrome.history.search({text:"",startTime:n,endTime:n+h.DAY.MS,maxResults:1},o),n+=h.DAY.MS;while(r-n>=0)},_calculateAllDays:function(t){var e,n=Math.ceil((Date.now()-t)/h.DAY.MS);return n<61?(e=n%10,n-e+(0===e?0:10)):n<361?(e=n%20,n-e+(0===e?0:20)):361},_onHistorySearch:function(t){t&&0!==t.length&&this._usedDays++},_onHistorySearchFinish:function(t,e,n){this._onHistorySearch(n);var r;r=e<61?5:e<361?10:20;var i=this._usedDays%r;t(e,this._usedDays-i+(0===i?0:r))}}},function(t,e){"use strict";t.exports={FIVE_SECONDS:{S:5,MS:5e3},TEN_SECONDS:{S:10,MS:1e4},MINUTE:{S:60,MS:6e4},HOUR:{S:3600,MS:36e5},TWO_HOURS:{S:7200,MS:72e5},DAY:{S:86400,MS:864e5},WEEK:{S:604800,MS:6048e5},HALF_YEAR:{S:15811200,MS:158112e5},YEAR:{S:31536e3,MS:31536e6},LEAP_YEAR:{S:31622400,MS:316224e5}}},function(t,e,n){"use strict";var r=n(6),i=n(7),o=n(8),a=n(2),s=n(42),u=n(123);t.exports={run:function(){r.once(i.ELECTION_COMPLETED,this._handleComplete,this)},_handleComplete:function(){this.softExport=new u(this._createConfig()),this.softExport.run()},_createConfig:function(){return{yasoft:a.get("yasoft")+o.yasoftPostfix,version:chrome.runtime.getManifest().version,ui:a.ui,clid:s.get(1),name:a.get("yasoft"),installDate:a.installDate}}}},function(t,e,n){"use strict";var r=n(104),i=n(3),o=n(86),a=n(8),s=n(27),u=n(98),c=n(7),l=n(6),h=n(99),f=function(t){this.config=t};f.prototype={APP_INSTALL:"install",DAY_USE:"dayuse",run:function(){u.run(),l.on(c.SOFT_EXPORT_TICK,this._send,this)},_send:function(){var t=i.get(h.SOFT_EXPORT_TIME);return t?void this._sendQuery(this.DAY_USE):this._sendQuery(this.APP_INSTALL)},_sendQuery:function(t){var e={yasoft:this.config.yasoft,ui:this.config.ui,ver:this.config.version,os:a.platform,stat:t,brandID:s.get()};this.config.clid&&(e.clid=this.config.clid),this.config.params&&r(e,this.config.params),this.config.install&&t===this.APP_INSTALL&&r(e,this.config.install),this.config.dayuse&&t===this.DAY_USE&&r(e,this.config.dayuse),(new o.Request).noCache().params(e).get(s.url("soft-export.url"))}},t.exports=f},function(t,e,n){"use strict";var r=n(6),i=n(7),o=n(125),a=n(2),s=n(8);t.exports={run:function(){r.once(i.ELECTION_COMPLETED,this._handleCompleteEvent,this)},_handleCompleteEvent:function(){var t={yasoft:a.get("yasoft")+s.yasoftPostfix,ui:a.ui};o.setup(t)}}},function(t,e,n){"use strict";var r=n(126),i=n(131),o=n(27),a=n(8).platform,s=n(42),u=n(4),c=n(3),l=n(99),h=n(10),f=o.url("goodbye.url"),d=h.create("goodbye");t.exports={MAX_LENGTH:255,setup:function(t){var e=u.objectMerge(this._getDefaults(),t),n=this._createUrl(e);d.info("set goodbye page %s",n),r.runtime.setUninstallURL(n)["catch"](function(t){d.error("setUninstall url error %s, %j",n,t)})},_getDefaults:function(){return{ver:chrome.runtime.getManifest().version,os:a,stat:"uninstall",brandID:o.get(),clid:s.get(1),dateinstall:this._getInstallDate()}},_getInstallDate:function(){var t=new Date(1e3*parseInt(c.get(l.INSTALL_DATE),10));
return u.dateToString(t)},_createUrl:function(t){var e=this._getUrl(t),n=["bnrd","gchid","brandID","os","ver"];if(e.length<=this.MAX_LENGTH)return e;for(var r=0;r<n.length;r++){var o=n.slice(0,r+1);if(d.warn("goodbye page url too long %s",e),d.info("try remove %s",o.join(", ")),e=this._getUrl(i(t,o)),e.length<=this.MAX_LENGTH)return e}return e},_getUrl:function(t){return f+"?"+u.serializeUrl(t)}}},function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(){return"undefined"!=typeof window&&window.Promise?window.Promise:"undefined"!=typeof r&&r.Promise?r.Promise:void 0}Object.defineProperty(e,"__esModule",{value:!0});var a=n(127),s=i(a),u=o();if(!u)throw new TypeError("Native promise does not support in your environment. Use /out/api function directly");e["default"]=(0,s["default"])(u),t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return Object.keys(u["default"]).reduce(function(e,n){return o(e,n),a(e,n,u["default"][n],t)},{})}function o(t,e){var n=(0,l.get)(t,e);return n||(0,l.set)(t,e),t}function a(t,e,n,r){return(0,c.wrapAsyncMethods)(t,e,n.async,r),(0,c.wrapSyncMethods)(t,e,n.sync,r),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var s=n(128),u=r(s),c=n(129),l=n(130);t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={alarms:{async:["get","getAll","clear","clearAll"],sync:["create"]},bookmarks:{async:["get","getChildren","getRecent","getTree","getSubTree","search","create","move","update","remove","removeTree"]},browserAction:{async:["getTitle","setIcon","getPopup","getBadgeText","getBadgeBackgroundColor"],sync:["setTitle","setPopup","setBadgeText","setBadgeBackgroundColor","enable","disable"]},browsingData:{async:["settings","remove","removeAppcache","removeCache","removeCookies","removeDownloads","removeFileSystems","removeFormData","removeHistory","removeIndexedDB","removeLocalStorage","removePluginData","removePasswords","removeWebSQL"]},commands:{async:["getAll"]},contextMenus:{async:["create","update","remove","removeAll"]},cookies:{async:["get","getAll","set","remove","getAllCookieStores"]},"debugger":{async:["attach","detach","sendCommand","getTargets"]},desktopCapture:{async:["chooseDesktopMedia"],sync:["cancelChooseDesktopMedia"]},"devtools.inspectedWindow":{async:["eval","getResources"],sync:["reload"]},"devtools.network":{async:["getHAR"]},"devtools.panels":{async:["create","setOpenResourceHandler","openResource"]},downloads:{async:["download","search","pause","resume","cancel","getFileIcon","erase","removeFile","acceptDanger"],sync:["open","show","showDefaultFolder","drag","setShelfEnabled"]},extension:{async:["isAllowedIncognitoAccess","isAllowedFileSchemeAccess"],sync:["getURL","getViews","getBackgroundPage","getExtensionTabs","setUpdateUrlData"]},fontSettings:{async:["clearFont","getFont","setFont","getFontList","clearDefaultFontSize","getDefaultFontSize","setDefaultFontSize","clearDefaultFixedFontSize","getDefaultFixedFontSize","setDefaultFixedFontSize","clearMinimumFontSize","getMinimumFontSize","setMinimumFontSize"]},gcm:{async:["register","unregister","send"]},history:{async:["search","getVisits","addUrl","deleteUrl","deleteRange","deleteAll"]},i18n:{async:["getAcceptLanguages","detectLanguage"],sync:["getMessage","getUILanguage"]},identity:{async:["getAccounts","getAuthToken","getProfileUserInfo","removeCachedAuthToken","launchWebAuthFlow"],sync:["getRedirectURL"]},idle:{async:["queryState"],sync:["setDetectionInterval"]},instanceID:{async:["getID","getCreationTime","getToken","deleteToken","deleteID"]},management:{async:["getAll","get","getSelf","getPermissionWarningsById","getPermissionWarningsByManifest","setEnabled","uninstall","uninstallSelf","launchApp","createAppShortcut","setLaunchType","generateAppForLink"]},notifications:{async:["create","update","clear","getAll","getPermissionLevel"]},omnibox:{sync:["setDefaultSuggestion"]},pageAction:{async:["getTitle","setIcon","getPopup"],sync:["show","hide","setTitle","setPopup"]},pageCapture:{async:["saveAsMHTML"]},permissions:{async:["getAll","contains","request","remove"]},"privacy.network.networkPredictionEnabled":{async:["get","set","clear"]},"privacy.services.alternateErrorPagesEnabled":{async:["get","set","clear"]},"privacy.services.autofillEnabled":{async:["get","set","clear"]},"privacy.services.passwordSavingEnabled":{async:["get","set","clear"]},"privacy.services.safeBrowsingEnabled":{async:["get","set","clear"]},"privacy.services.searchSuggestEnabled":{async:["get","set","clear"]},"privacy.services.spellingServiceEnabled":{async:["get","set","clear"]},"privacy.services.translationServiceEnabled":{async:["get","set","clear"]},"privacy.websites.hyperlinkAuditingEnabled":{async:["get","set","clear"]},"privacy.websites.referrersEnabled":{async:["get","set","clear"]},"privacy.websites.thirdPartyCookiesAllowed":{async:["get","set","clear"]},"proxy.settings":{async:["get","set","clear"]},runtime:{async:["getBackgroundPage","openOptionsPage","setUninstallURL","requestUpdateCheck","sendMessage","sendNativeMessage","getPlatformInfo","getPackageDirectoryEntry"],sync:["getManifest","getURL","reload","restart","connect","connectNative"]},sessions:{async:["getRecentlyClosed","getDevices","restore"]},"storage.local":{async:["clear","get","set","remove","getBytesInUse"]},"storage.managed":{async:["clear","get","set","remove","getBytesInUse"]},"storage.sync":{async:["clear","get","set","remove","getBytesInUse"]},"system.cpu":{async:["getInfo"]},"system.memory":{async:["getInfo"]},"system.storage":{async:["getInfo","ejectDevice","getAvailableCapacity"]},tabCapture:{async:["capture","getCapturedTabs"]},tabs:{async:["get","getCurrent","sendRequest","sendMessage","getSelected","getAllInWindow","create","duplicate","query","highlight","update","move","reload","remove","detectLanguage","captureVisibleTab","executeScript","insertCSS","setZoom","getZoom","setZoomSettings","getZoomSettings"],sync:["connect"]},topSites:{async:["get"]},tts:{async:["speak","isSpeaking","getVoices"],sync:["stop","pause","resume"]},webNavigation:{async:["getFrame","getAllFrames"]},webRequest:{async:["handlerBehaviorChanged"]},windows:{async:["get","getCurrent","getLastFocused","getAll","create","update","remove"]}},t.exports=e["default"]},function(t,e,n){(function(t){"use strict";function r(t,e,n,r){return void 0===n&&(n=[]),n.reduce(function(n,i){return a(t,e,i,r)},t)}function i(t,e,n,r){return void 0===n&&(n=[]),n.reduce(function(n,i){return c(t,e,i,r)},t)}function o(){return"undefined"!=typeof window&&window.chrome?window.chrome:"undefined"!=typeof t&&t.chrome?t.chrome:void 0}function a(t,e,n,r){var i=(0,f.get)(t,e);return Object.defineProperty(i,n,{get:function(){return s(r,e,n)}}),t}function s(t,e,n){var r=this;return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return new t(function(t,i){var a=(0,f.get)(d,e);o.push(u(t,i,r)),h(a[n],a,o)})}}function u(t,e,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return d.runtime.lastError?e(d.runtime.lastError):h(t,n,i)}}function c(t,e,n,r){var i=(0,f.get)(t,e);return Object.defineProperty(i,n,{get:function(){return l(r,e,n)}}),t}function l(t,e,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return new t(function(t,r){var o=(0,f.get)(d,e);try{return t(h(o[n],o,i))}catch(a){return r(a)}})}}function h(t,e,n){return Function.prototype.apply.call(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.wrapAsyncMethods=r,e.wrapSyncMethods=i;var f=n(130),d=o()}).call(e,function(){return this}())},function(t,e){"use strict";function n(t,e){for(var n=arguments.length<=2||void 0===arguments[2]?".":arguments[2],r=e.split(n),i=t,o=0;o<r.length;o++){var a=r[o];if(!i[a])return null;i=i[a]}return i}function r(t,e){var n=arguments.length<=2||void 0===arguments[2]?".":arguments[2];return i(t,e.split(n))}function i(t,e){if(e.length){var n=t[e[0]]="undefined"==typeof t[e[0]]?{}:t[e[0]];i(n,e.slice(1,e.length))}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.get=n,e.set=r},function(t,e,n){var r=n(132),i=n(133),o=n(140),a=n(117),s=n(60),u=n(142),c=n(143),l=n(73),h=l(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=r(o(e),String);return u(t,i(s(t),e))}var n=a(e[0],e[1],3);return c(t,function(t,e,r){return!n(t,e,r)})});t.exports=h},function(t,e){function n(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){function r(t,e){var n=t?t.length:0,r=[];if(!n)return r;var u=-1,c=i,l=!0,h=l&&e.length>=s?a(e):null,f=e.length;h&&(c=o,l=!1,e=h);t:for(;++u<n;){var d=t[u];if(l&&d===d){for(var p=f;p--;)if(e[p]===d)continue t;r.push(d)}else c(e,d,0)<0&&r.push(d)}return r}var i=n(134),o=n(136),a=n(137),s=200;t.exports=r},function(t,e,n){function r(t,e,n){if(e!==e)return i(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}var i=n(135);t.exports=r},function(t,e){function n(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}t.exports=n},function(t,e,n){function r(t,e){var n=t.data,r="string"==typeof e||i(e)?n.set.has(e):n.hash[e];return r?0:-1}var i=n(31);t.exports=r},function(t,e,n){(function(e){function r(t){return s&&a?new i(t):null}var i=n(138),o=n(35),a=o(e,"Set"),s=o(Object,"create");t.exports=r}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){var e=t?t.length:0;for(this.data={hash:s(null),set:new a};e--;)this.push(t[e])}var i=n(139),o=n(35),a=o(e,"Set"),s=o(Object,"create");r.prototype.push=i,t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=this.data;"string"==typeof t||i(t)?e.set.add(t):e.hash[t]=!0}var i=n(31);t.exports=r},function(t,e,n){function r(t,e,n,c){c||(c=[]);for(var l=-1,h=t.length;++l<h;){var f=t[l];u(f)&&s(f)&&(n||a(f)||o(f))?e?r(f,e,n,c):i(c,f):n||(c[c.length]=f)}return c}var i=n(141),o=n(52),a=n(34),s=n(53),u=n(38);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t,e){t=i(t);for(var n=-1,r=e.length,o={};++n<r;){var a=e[n];a in t&&(o[a]=t[a])}return o}var i=n(30);t.exports=r},function(t,e,n){function r(t,e){var n={};return i(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}var i=n(110);t.exports=r},function(t,e,n){"use strict";var r=n(2),i=n(3),o=n(6),a=n(4),s=n(10),u=n(90),c=n(27),l=n(9),h=n(45),f=n(101),d=n(43),p=n(145),m=n(48),g=n(42),v=n(7);t.exports={CONTEXT_MENU_OPTION:"application.context-menu.enabled",SEARCH_LABEL:"context-menu.search.label",CROSS_MESSAGING_FEATURE:"contextMenuSearch",menus:{image:null,selection:null},enabled:!0,isPrimary:!1,postSearchTabId:null,run:function(){this._setup(),this._setupStatistics(),this._observeEvents()},_setup:function(){p.init({logger:s.create("RedirectXHR")}),i.setDefault(this.CONTEXT_MENU_OPTION,!0),d.set(this.CROSS_MESSAGING_FEATURE,!0)},_setupStatistics:function(){this.statistics=new f({platform:l.getBrowser(),cid:72558,common:!0})},_observeEvents:function(){this._observePrimary(),this._observeSharedData()},_observePrimary:function(){o.on(v.ELECTION_COMPLETED,this._onPrimaryHandler,this)},_onPrimaryHandler:function(){this.isPrimary=chrome.runtime.id===m.selectByFeature(this.CROSS_MESSAGING_FEATURE,!0),h.weakSet(this.CONTEXT_MENU_OPTION,i.get(this.CONTEXT_MENU_OPTION)),this._toggle()},_toggle:function(){this.isPrimary&&h.get(this.CONTEXT_MENU_OPTION)?this._createMenu():this._removeMenu()},_createMenu:function(){this._removeAll(),this._createSelectionMenu(),this._createImageMenu()},_createSelectionMenu:function(){this.menus.selection||(this.menus.selection=chrome.contextMenus.create({id:"yandex.search",title:u.message(this.SEARCH_LABEL,["%s"]),type:"normal",contexts:["selection"],onclick:this._selectionClickHandler.bind(this)}))},_selectionClickHandler:function(t){this.statistics.send("searchyandexclick"),l.navigate(this._getContextMenuSearchUrl(t.selectionText))},_createImageMenu:function(){this.menus.image||"tb"===r.branding||(this.menus.image=chrome.contextMenus.create({id:"yandex.imgSearch",title:u.message("context-menu.imgSearch.label"),type:"normal",contexts:["image"],onclick:this._imageClickHandler.bind(this)}))},_imageClickHandler:function(t){t&&t.srcUrl&&(this.statistics.send("searchpicclick"),t.srcUrl.indexOf("data:image")>=0?this._openPostSearchTab(t.srcUrl):this._searchImage(t.srcUrl))},_searchImage:function(t){l.navigate(c.url("context-menu.imgSearch.getUrl")+encodeURIComponent(t))},_openPostSearchTab:function(t){chrome.tabs.create({url:chrome.runtime.getURL("nano/src/dynamic-modules/context-menu/post-search.html"),active:!0},function(e){this.postSearchTabId=e.id,this._uploadImage(t)}.bind(this))},_uploadImage:function(t){var e=c.url("context-menu.imgSearch.postUrl"),n=new FormData,r=new XMLHttpRequest;n.append("upfile",a.dataUriToBlob(t)),r.open("POST",e),this.postRedirectListener||(this.postRedirectListener=this._onRedirectComplete.bind(this,e),p.onCompleted.addListener(this.postRedirectListener)),p.startFor(e,!0),r.send(n)},_onRedirectComplete:function(t,e){if(e.initialUrl===t){p.stopFor(t);var n=e.urls.pop();n&&n!==t||(n=c.url("context-menu.imgSearch.getUrl")+"?%22http%3A%2F%2F"),this.postSearchTabId&&chrome.tabs.update(this.postSearchTabId,{url:n}),this.postSearchTabId=null}},_removeMenu:function(){var t=this;Object.keys(this.menus).forEach(function(e){t.menus[e]&&(chrome.contextMenus.remove(t.menus[e]),t.menus[e]=null)})},_removeAll:function(){this._removeMenu(),chrome.contextMenus.removeAll()},_observeSharedData:function(){h.addListener(this._onSharedDataChange.bind(this))},_onSharedDataChange:function(t){a.isDefined(t.data[this.CONTEXT_MENU_OPTION])&&this._toggle()},_getContextMenuSearchUrl:function(t){var e=c.url("context-menu.search.url")+"search/",n={text:t,clid:g.get(10),lr:213};return a.generateUrl(e,n)}}},function(t,e,n){"use strict";function r(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];if(0===e.indexOf(i))return i}return null}function i(t){var e,n=l[t.requestId],i={cancel:!1};return n?(e=n.initialUrl,c[e]&&"GET"===t.method&&(i.cancel=!0),n.urls.push(t.url),a.log("onBeforeRequest, id: %s, url: %s",t.requestId,t.url)):(e=r(u,t.url),e&&(l[t.requestId]={initialUrl:e,urls:[t.url]},a.log("onBeforeRequest, id: %s, url: %s",t.requestId,t.url))),i}function o(t){var e=l[t.requestId];e&&(a.log("onCompletedXHR, id: %s, url: %s",t.requestId,t.url),h.onCompleted.dispatchToListener(e,t),delete l[t.requestId])}var a,s=n(77),u=[],c={},l={},h={init:function(t){u=[],l={},t=t||{},a=t.logger||{log:function(){}}},startFor:function(t,e){var n={urls:["<all_urls>"],types:["xmlhttprequest"]};0===u.length&&(chrome.webRequest.onBeforeRequest.addListener(i,n,["blocking"]),chrome.webRequest.onCompleted.addListener(o,n),chrome.webRequest.onErrorOccurred.addListener(o,n)),e&&(c[t]=!0),u.push(t)},stopFor:function(t){for(var e=u.length;e--;)if(u[e]===t){u.splice(e,1);break}delete c[t],0===u.length&&(chrome.webRequest.onBeforeRequest.removeListener(i),chrome.webRequest.onCompleted.removeListener(o),chrome.webRequest.onErrorOccurred.removeListener(o))},onCompleted:new s("redirectXHR.onCompleted")};t.exports=h},function(t,e,n){"use strict";function r(){return{name:i.get("yasoft"),ui:i.ui,installDate:i.installDate,clid:o.get(1)}}var i=n(2),o=n(42),a=n(147),s=n(7),u=n(6),c=n(98),l=n(148);t.exports={run:function(){this._waitStatisticsTick(),c.run()},_waitStatisticsTick:function(){u.on(s.SOFT_EXPORT_TICK,this._sendStats,this)},_sendStats:function(){a.send(r(),l.getExperiments())}}},function(t,e,n){"use strict";function r(t){g.forEach(function(e){if(!t.hasOwnProperty(e))throw new Error("Property "+e+" required for dayuse.json statistics")})}function i(t,e){var n=m.url("dayuse-stat.url"),r=o(t),i=a(e);return n.replace("{vars}",r).replace("{slots}",i)}function o(t){var e={dayuse:l.getDaysAfterInstall(t.installDate),bro:h.getBrowser(),productname:t.name,ver:u(),ui:t.ui,brandID:m.get()};return t.clid&&(e.clid1=t.clid),t.params&&Object.keys(t.params).forEach(function(n){e[n]=t.params[n]}),Object.keys(e).map(function(t){return"-"+t+"="+encodeURIComponent(e[t])}).join(",")}function a(t){var e=s(t)||[0,0,0];return e.map(encodeURIComponent).join(",")}function s(t){if(Array.isArray(t)){var e=t[0];if(e)return[e.testId,e.testId,e.bucket]}return null}function u(){var t=chrome.runtime.getManifest().version;return t.split(".").join("-")}var c=n(79),l=n(96),h=n(9),f=n(7),d=n(6),p=n(98),m=n(27),g=["name","ui","installDate"],v=function(t,e){r(t),this._config=t,this._getExperiments=e};v.send=function(t,e){r(t),(new c).get(i(t,e))},v.prototype={run:function(){this._waitStatisticsTick(),p.run()},_waitStatisticsTick:function(){d.on(f.SOFT_EXPORT_TICK,this._sendStats,this)},_sendStats:function(){var t=this._getExperiments?this._getExperiments():null,e=i(this._config,t);(new c).get(e)}},t.exports=v},function(t,e,n){"use strict";function r(t){var e=new a,n=i();l.updateExperiments(e,n,Boolean(t)),o()}function i(){return u.get(f)}function o(){h.info("Current experiments: %j",e.getExperiments())}var a=n(149).experiments.Experimentator,s=n(10),u=n(227),c=n(8),l=n(228),h=s.create("experiments"),f="experimentConfigs",d=36e5;e.run=function(){h.info("Configs: %j",i()),r(c.isInstall),setInterval(r,d)},e.getExperiments=l.getExperiments.bind(l),e.getExperimentByName=l.getExperimentByName.bind(l)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(150),o=r(i),a=n(189),s=r(a),u=n(199),c=r(u),l=n(203),h=r(l),f=n(208),d=r(f),p=n(209),m=r(p),g=n(210),v=r(g),_=n(213),y=r(_),b=n(215),k=r(b),E=n(226),w=r(E);e["default"]={Atom:o["default"],cookies:s["default"],experiments:c["default"],location:h["default"],Metrika:d["default"],metrikaLoggerWriter:m["default"],Notification:v["default"],Storage:y["default"],TabsWatcher:k["default"],Channel:w["default"]},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(151),s=r(a),u=n(157),c=r(u),l=n(184),h=r(l),f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.url=e,this.settings=(0,s["default"])({},n,{lang:"ru",tld:".ru"})}return o(t,[{key:"getContent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._getAtomUrl((0,s["default"])(e,this.settings)),i={credentials:"include",headers:n};return fetch(r,i).then(function(e){return t._processAtomResponse(e)}).then(function(t){return new c["default"](t)})}},{key:"_getAtomUrl",value:function(t){return new h["default"](this.url).search(t).href()}},{key:"_processAtomResponse",value:function(t){return t.ok?t.json():Promise.reject(t.statusText)}}]),t}();e["default"]=f,t.exports=e["default"]},function(t,e,n){var r=n(152),i=n(155),o=n(156),a=o(r,i);t.exports=a},function(t,e,n){var r=n(153),i=n(154),o=n(116),a=o(function(t,e,n){return n?r(t,e,n):i(t,e)});t.exports=a},function(t,e,n){function r(t,e,n){for(var r=-1,o=i(e),a=o.length;++r<a;){var s=o[r],u=t[s],c=n(u,e[s],s,t,e);(c===c?c===u:u!==u)&&(void 0!==u||s in t)||(t[s]=c)}return t}var i=n(57);t.exports=r},function(t,e,n){function r(t,e){return null==e?t:i(e,o(e),t)}var i=n(115),o=n(57);t.exports=r},function(t,e){function n(t,e){return void 0===t?e:t}t.exports=n},function(t,e,n){function r(t,e){return i(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(void 0,n))})}var i=n(73);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(158),s=r(a),u=n(28),c=r(u),l=function(){function t(e){i(this,t),this.response=e}return o(t,[{key:"getConfig",value:function(t){var e=(0,s["default"])(this.response["client-results"],{name:t});return e&&e.docs?e:null}},{key:"getConfigDoc",value:function(t){var e=this.getConfig(t),n=(0,c["default"])(e,"docs[0]");return n||null}},{key:"getConfigSource",value:function(t){var e=this.getConfigDoc(t);return e?e["source-aux"]:null}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,n){function r(t,e){return o(t,i(e))}var i=n(159),o=n(170);t.exports=r},function(t,e,n){function r(t){var e=o(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(void 0!==r||n in a(t)))}}return function(t){return i(t,e)}}var i=n(160),o=n(167),a=n(30);t.exports=r},function(t,e,n){function r(t,e,n){var r=e.length,a=r,s=!n;if(null==t)return!a;for(t=o(t);r--;){var u=e[r];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<a;){u=e[r];var c=u[0],l=t[c],h=u[1];if(s&&u[2]){if(void 0===l&&!(c in t))return!1}else{var f=n?n(l,h,c):void 0;if(!(void 0===f?i(h,l,n,!0):f))return!1}}return!0}var i=n(161),o=n(30);t.exports=r},function(t,e,n){function r(t,e,n,s,u,c){return t===e||(null==t||null==e||!o(t)&&!a(e)?t!==t&&e!==e:i(t,e,r,n,s,u,c))}var i=n(162),o=n(31),a=n(38);t.exports=r},function(t,e,n){function r(t,e,n,r,f,m,g){var v=s(t),_=s(e),y=l,b=l;v||(y=p.call(t),y==c?y=h:y!=h&&(v=u(t))),_||(b=p.call(e),b==c?b=h:b!=h&&(_=u(e)));var k=y==h,E=b==h,w=y==b;if(w&&!v&&!k)return o(t,e,y);if(!f){var x=k&&d.call(t,"__wrapped__"),T=E&&d.call(e,"__wrapped__");if(x||T)return n(x?t.value():t,T?e.value():e,r,f,m,g)}if(!w)return!1;m||(m=[]),g||(g=[]);for(var C=m.length;C--;)if(m[C]==t)return g[C]==e;m.push(t),g.push(e);var A=(v?i:a)(t,e,n,r,f,m,g);return m.pop(),g.pop(),A}var i=n(163),o=n(165),a=n(166),s=n(34),u=n(113),c="[object Arguments]",l="[object Array]",h="[object Object]",f=Object.prototype,d=f.hasOwnProperty,p=f.toString;t.exports=r},function(t,e,n){function r(t,e,n,r,o,a,s){var u=-1,c=t.length,l=e.length;if(c!=l&&!(o&&l>c))return!1;for(;++u<c;){var h=t[u],f=e[u],d=r?r(o?f:h,o?h:f,u):void 0;if(void 0!==d){if(d)continue;return!1}if(o){if(!i(e,function(t){return h===t||n(h,t,r,o,a,s)}))return!1}else if(h!==f&&!n(h,f,r,o,a,s))return!1}return!0}var i=n(164);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e,n){switch(n){case r:case i:return+t==+e;case o:return t.name==e.name&&t.message==e.message;case a:return t!=+t?e!=+e:t==+e;case s:case u:return t==e+""}return!1}var r="[object Boolean]",i="[object Date]",o="[object Error]",a="[object Number]",s="[object RegExp]",u="[object String]";t.exports=n},function(t,e,n){function r(t,e,n,r,o,s,u){var c=i(t),l=c.length,h=i(e),f=h.length;if(l!=f&&!o)return!1;for(var d=l;d--;){var p=c[d];if(!(o?p in e:a.call(e,p)))return!1}for(var m=o;++d<l;){p=c[d];var g=t[p],v=e[p],_=r?r(o?v:g,o?g:v,p):void 0;if(!(void 0===_?n(g,v,r,o,s,u):_))return!1;m||(m="constructor"==p)}if(!m){var y=t.constructor,b=e.constructor;if(y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b))return!1}return!0}var i=n(57),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;)e[n][2]=i(e[n][1]);return e}var i=n(168),o=n(169);t.exports=r},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(31);t.exports=r},function(t,e,n){function r(t){t=o(t);for(var e=-1,n=i(t),r=n.length,a=Array(r);++e<r;){var s=n[e];a[e]=[s,t[s]]}return a}var i=n(57),o=n(30);t.exports=r},function(t,e,n){var r=n(171),i=n(174),o=i(r);t.exports=o},function(t,e,n){var r=n(172),i=n(173),o=i(r);t.exports=o},function(t,e,n){function r(t,e){return i(t,e,o)}var i=n(111),o=n(57);t.exports=r},function(t,e,n){function r(t,e){return function(n,r){var s=n?i(n):0;if(!o(s))return t(n,r);for(var u=e?s:-1,c=a(n);(e?u--:++u<s)&&r(c[u],u,c)!==!1;);return n}}var i=n(54),o=n(39),a=n(30);t.exports=r},function(t,e,n){function r(t,e){return function(n,r,u){if(r=i(r,u,3),s(n)){var c=a(n,r,e);return c>-1?n[c]:void 0}return o(n,r,t)}}var i=n(175),o=n(182),a=n(183),s=n(34);t.exports=r},function(t,e,n){function r(t,e,n){var r=typeof t;return"function"==r?void 0===e?t:a(t,e,n):null==t?s:"object"==r?i(t):void 0===e?u(t):o(t,e)}var i=n(159),o=n(176),a=n(117),s=n(118),u=n(180);t.exports=r},function(t,e,n){function r(t,e){var n=s(t),r=u(t)&&c(e),d=t+"";return t=f(t),function(s){if(null==s)return!1;var u=d;if(s=h(s),(n||!r)&&!(u in s)){if(s=1==t.length?s:i(s,a(t,0,-1)),null==s)return!1;u=l(t),s=h(s)}return s[u]===e?void 0!==e||u in s:o(e,s[u],void 0,!0)}}var i=n(29),o=n(161),a=n(177),s=n(34),u=n(178),c=n(168),l=n(179),h=n(30),f=n(32);t.exports=r},function(t,e){function n(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,e<0&&(e=-e>i?0:i+e),n=void 0===n||n>i?i:+n||0,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e,n){function r(t,e){var n=typeof t;if("string"==n&&s.test(t)||"number"==n)return!0;if(i(t))return!1;var r=!a.test(t);return r||null!=e&&t in o(e)}var i=n(34),o=n(30),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(55),o=n(181),a=n(178);t.exports=r},function(t,e,n){function r(t){var e=t+"";return t=o(t),function(n){return i(n,t,e)}}var i=n(29),o=n(32);t.exports=r},function(t,e){function n(t,e,n,r){var i;return n(t,function(t,n,o){if(e(t,n,o))return i=r?n:t,!1}),i}t.exports=n},function(t,e){function n(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}t.exports=n},function(t,e,n){/*!
	 * URI.js - Mutating URLs
	 *
	 * Version: 1.18.2
	 *
	 * Author: Rodney Rehm
	 * Web: http://medialize.github.io/URI.js/
	 *
	 * Licensed under
	 *   MIT License http://www.opensource.org/licenses/mit-license
	 *
	 */
!function(e,r){"use strict";t.exports=r(n(185),n(187),n(188))}(this,function(t,e,n,r){"use strict";function i(t,e){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof i))return n?r?new i(t,e):new i(t):new i;if(void 0===t){if(n)throw new TypeError("undefined is not a valid argument for URI");t="undefined"!=typeof location?location.href+"":""}return this.href(t),void 0!==e?this.absoluteTo(e):this}function o(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function s(t){return"Array"===a(t)}function u(t,e){var n,r,i={};if("RegExp"===a(e))i=null;else if(s(e))for(n=0,r=e.length;n<r;n++)i[e[n]]=!0;else i[e]=!0;for(n=0,r=t.length;n<r;n++){var o=i&&void 0!==i[t[n]]||!i&&e.test(t[n]);o&&(t.splice(n,1),r--,n--)}return t}function c(t,e){var n,r;if(s(e)){for(n=0,r=e.length;n<r;n++)if(!c(t,e[n]))return!1;return!0}var i=a(e);for(n=0,r=t.length;n<r;n++)if("RegExp"===i){if("string"==typeof t[n]&&t[n].match(e))return!0}else if(t[n]===e)return!0;return!1}function l(t,e){if(!s(t)||!s(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function h(t){var e=/^\/+|\/+$/g;return t.replace(e,"")}function f(t){return escape(t)}function d(t){return encodeURIComponent(t).replace(/[!'()*]/g,f).replace(/\*/g,"%2A")}function p(t){return function(e,n){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!n),this)}}function m(t,e){return function(n,r){return void 0===n?this._parts[t]||"":(null!==n&&(n+="",n.charAt(0)===e&&(n=n.substring(1))),this._parts[t]=n,this.build(!r),this)}}var g=r&&r.URI;i.version="1.18.2";var v=i.prototype,_=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\.-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return i.domAttributes[e]}},i.encode=d,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=d,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(t,e){var n=i.encode(t+"");return void 0===e&&(e=i.escapeQuerySpace),e?n.replace(/%20/g,"+"):n},i.decodeQuery=function(t,e){t+="",void 0===e&&(e=i.escapeQuerySpace);try{return i.decode(e?t.replace(/\+/g,"%20"):t)}catch(n){return t}};var y,b={encode:"encode",decode:"decode"},k=function(t,e){return function(n){try{return i[e](n+"").replace(i.characters[t][e].expression,function(n){return i.characters[t][e].map[n]})}catch(r){return n}}};for(y in b)i[y+"PathSegment"]=k("pathname",b[y]),i[y+"UrnPathSegment"]=k("urnpath",b[y]);var E=function(t,e,n){return function(r){var o;o=n?function(t){return i[e](i[n](t))}:i[e];for(var a=(r+"").split(t),s=0,u=a.length;s<u;s++)a[s]=o(a[s]);return a.join(t)}};i.decodePath=E("/","decodePathSegment"),i.decodeUrnPath=E(":","decodeUrnPathSegment"),i.recodePath=E("/","encodePathSegment","decode"),i.recodeUrnPath=E(":","encodeUrnPathSegment","decode"),i.encodeReserved=k("reserved","encode"),i.parse=function(t,e){var n;return e||(e={}),n=t.indexOf("#"),n>-1&&(e.fragment=t.substring(n+1)||null,t=t.substring(0,n)),n=t.indexOf("?"),n>-1&&(e.query=t.substring(n+1)||null,t=t.substring(0,n)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=i.parseAuthority(t,e)):(n=t.indexOf(":"),n>-1&&(e.protocol=t.substring(0,n)||null,e.protocol&&!e.protocol.match(i.protocol_expression)?e.protocol=void 0:"//"===t.substring(n+1,n+3)?(t=t.substring(n+3),t=i.parseAuthority(t,e)):(t=t.substring(n+1),e.urn=!0))),e.path=t,e},i.parseHost=function(t,e){t=t.replace(/\\/g,"/");var n,r,i=t.indexOf("/");if(i===-1&&(i=t.length),"["===t.charAt(0))n=t.indexOf("]"),e.hostname=t.substring(1,n)||null,e.port=t.substring(n+2,i)||null,"/"===e.port&&(e.port=null);else{var o=t.indexOf(":"),a=t.indexOf("/"),s=t.indexOf(":",o+1);s!==-1&&(a===-1||s<a)?(e.hostname=t.substring(0,i)||null,e.port=null):(r=t.substring(0,i).split(":"),e.hostname=r[0]||null,e.port=r[1]||null)}return e.hostname&&"/"!==t.substring(i).charAt(0)&&(i++,t="/"+t),t.substring(i)||"/"},i.parseAuthority=function(t,e){return t=i.parseUserinfo(t,e),i.parseHost(t,e)},i.parseUserinfo=function(t,e){var n,r=t.indexOf("/"),o=t.lastIndexOf("@",r>-1?r:t.length-1);return o>-1&&(r===-1||o<r)?(n=t.substring(0,o).split(":"),e.username=n[0]?i.decode(n[0]):null,n.shift(),e.password=n[0]?i.decode(n.join(":")):null,t=t.substring(o+1)):(e.username=null,e.password=null),t},i.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var n,r,o,a={},s=t.split("&"),u=s.length,c=0;c<u;c++)n=s[c].split("="),r=i.decodeQuery(n.shift(),e),o=n.length?i.decodeQuery(n.join("="),e):null,_.call(a,r)?("string"!=typeof a[r]&&null!==a[r]||(a[r]=[a[r]]),a[r].push(o)):a[r]=o;return a},i.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=i.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},i.buildHost=function(t){var e="";return t.hostname?(e+=i.ip6_expression.test(t.hostname)?"["+t.hostname+"]":t.hostname,t.port&&(e+=":"+t.port),e):""},i.buildAuthority=function(t){return i.buildUserinfo(t)+i.buildHost(t)},i.buildUserinfo=function(t){var e="";return t.username&&(e+=i.encode(t.username)),t.password&&(e+=":"+i.encode(t.password)),e&&(e+="@"),e},i.buildQuery=function(t,e,n){var r,o,a,u,c="";for(o in t)if(_.call(t,o)&&o)if(s(t[o]))for(r={},a=0,u=t[o].length;a<u;a++)void 0!==t[o][a]&&void 0===r[t[o][a]+""]&&(c+="&"+i.buildQueryParameter(o,t[o][a],n),e!==!0&&(r[t[o][a]+""]=!0));else void 0!==t[o]&&(c+="&"+i.buildQueryParameter(o,t[o],n));return c.substring(1)},i.buildQueryParameter=function(t,e,n){return i.encodeQuery(t,n)+(null!==e?"="+i.encodeQuery(e,n):"")},i.addQuery=function(t,e,n){if("object"==typeof e)for(var r in e)_.call(e,r)&&i.addQuery(t,r,e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=n);"string"==typeof t[e]&&(t[e]=[t[e]]),s(n)||(n=[n]),t[e]=(t[e]||[]).concat(n)}},i.removeQuery=function(t,e,n){var r,o,c;if(s(e))for(r=0,o=e.length;r<o;r++)t[e[r]]=void 0;else if("RegExp"===a(e))for(c in t)e.test(c)&&(t[c]=void 0);else if("object"==typeof e)for(c in e)_.call(e,c)&&i.removeQuery(t,c,e[c]);else{if("string"!=typeof e)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===a(n)?!s(t[e])&&n.test(t[e])?t[e]=void 0:t[e]=u(t[e],n):t[e]!==String(n)||s(n)&&1!==n.length?s(t[e])&&(t[e]=u(t[e],n)):t[e]=void 0:t[e]=void 0}},i.hasQuery=function(t,e,n,r){switch(a(e)){case"String":break;case"RegExp":for(var o in t)if(_.call(t,o)&&e.test(o)&&(void 0===n||i.hasQuery(t,o,n)))return!0;return!1;case"Object":for(var u in e)if(_.call(e,u)&&!i.hasQuery(t,u,e[u]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(a(n)){case"Undefined":return e in t;case"Boolean":var h=Boolean(s(t[e])?t[e].length:t[e]);return n===h;case"Function":return!!n(t[e],e,t);case"Array":if(!s(t[e]))return!1;var f=r?c:l;return f(t[e],n);case"RegExp":return s(t[e])?!!r&&c(t[e],n):Boolean(t[e]&&t[e].match(n));case"Number":n=String(n);case"String":return s(t[e])?!!r&&c(t[e],n):t[e]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.joinPaths=function(){for(var t=[],e=[],n=0,r=0;r<arguments.length;r++){var o=new i(arguments[r]);t.push(o);for(var a=o.segment(),s=0;s<a.length;s++)"string"==typeof a[s]&&e.push(a[s]),a[s]&&n++}if(!e.length||!n)return new i("");var u=new i("").segment(e);return""!==t[0].path()&&"/"!==t[0].path().slice(0,1)||u.path("/"+u.path()),u.normalize()},i.commonPath=function(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n++)if(t.charAt(n)!==e.charAt(n)){n--;break}return n<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(n)&&"/"===e.charAt(n)||(n=t.substring(0,n).lastIndexOf("/")),t.substring(0,n+1))},i.withinString=function(t,e,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,a=n.trim||i.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(t);if(!u)break;var c=u.index;if(n.ignoreHtml){var l=t.slice(Math.max(c-3,0),c);if(l&&s.test(l))continue}var h=c+t.slice(c).search(o),f=t.slice(c,h).replace(a,"");if(!n.ignore||!n.ignore.test(f)){h=c+f.length;var d=e(f,c,h,t);void 0!==d?(d=String(d),t=t.slice(0,c)+d+t.slice(h),r.lastIndex=c+d.length):r.lastIndex=h}}return r.lastIndex=0,t},i.ensureValidHostname=function(e){if(e.match(i.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},i.noConflict=function(t){if(t){var e={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(e.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(e.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=r.SecondLevelDomains.noConflict()),e}return r.URI===this&&(r.URI=g),this},v.build=function(t){return t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},v.clone=function(){return new i(this)},v.valueOf=v.toString=function(){return this.build(!1)._string},v.protocol=p("protocol"),v.username=p("username"),v.password=p("password"),v.hostname=p("hostname"),v.port=p("port"),v.query=m("query","?"),v.fragment=m("fragment","#"),v.search=function(t,e){var n=this.query(t,e);return"string"==typeof n&&n.length?"?"+n:n},v.hash=function(t,e){var n=this.fragment(t,e);return"string"==typeof n&&n.length?"#"+n:n},v.pathname=function(t,e){if(void 0===t||t===!0){var n=this._parts.path||(this._parts.hostname?"/":"");return t?(this._parts.urn?i.decodeUrnPath:i.decodePath)(n):n}return this._parts.urn?this._parts.path=t?i.recodeUrnPath(t):"":this._parts.path=t?i.recodePath(t):"/",this.build(!e),this},v.path=v.pathname,v.href=function(t,e){var n;if(void 0===t)return this.toString();this._string="",this._parts=i._parts();var r=t instanceof i,o="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var a=i.getDomAttribute(t);t=t[a]||"",o=!1}if(!r&&o&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this._parts=i.parse(String(t),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");var s=r?t._parts:t;for(n in s)_.call(this._parts,n)&&(this._parts[n]=s[n])}return this.build(!e),this},v.is=function(t){var e=!1,r=!1,o=!1,a=!1,s=!1,u=!1,c=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),e=r||o,a=!e,s=a&&n&&n.has(this._parts.hostname),u=a&&i.idn_expression.test(this._parts.hostname),c=a&&i.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return a;case"sld":return s;case"ip":return e;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var w=v.protocol,x=v.port,T=v.hostname;v.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(i.protocol_expression)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return w.call(this,t,e)},v.scheme=v.protocol,v.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return x.call(this,t,e)},v.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var n={},r=i.parseHost(t,n);if("/"!==r)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');t=n.hostname}return T.call(this,t,e)},v.origin=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){var n=this.protocol(),r=this.authority();return r?(n?n+"://":"")+this.authority():""}var o=i(t);return this.protocol(o.protocol()).authority(o.authority()).build(!e),this},v.host=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t)return this._parts.hostname?i.buildHost(this._parts):"";var n=i.parseHost(t,this._parts);if("/"!==n)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.build(!e),this},v.authority=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t)return this._parts.hostname?i.buildAuthority(this._parts):"";var n=i.parseAuthority(t,this._parts);if("/"!==n)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.build(!e),this},v.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){var n=i.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==t[t.length-1]&&(t+="@"),i.parseUserinfo(t,this._parts),this.build(!e),this},v.resource=function(t,e){var n;return void 0===t?this.path()+this.search()+this.hash():(n=i.parse(t),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!e),this)},v.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,r),s=new RegExp("^"+o(a));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&i.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(s,t),this.build(!e),this},v.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(e).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!t)throw new TypeError("cannot set domain empty");if(i.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var a=new RegExp(o(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},v.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(r+1);return e!==!0&&n&&n.list[i.toLowerCase()]?n.get(this._parts.hostname)||i:i}var a;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');a=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},v.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return t?i.decodePath(r):r}var a=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,a),u=new RegExp("^"+o(s));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=i.recodePath(t),this._parts.path=this._parts.path.replace(u,t),this.build(!e),this},v.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return t?i.decodePathSegment(r):r}var a=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(a=!0);var s=new RegExp(o(this.filename())+"$");return t=i.recodePath(t),this._parts.path=this._parts.path.replace(s,t),a?this.normalizePath(e):this.build(!e),this},v.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,a=this.filename(),s=a.lastIndexOf(".");return s===-1?"":(n=a.substring(s+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",t?i.decodePathSegment(r):r)}"."===t.charAt(0)&&(t=t.substring(1));var u,c=this.suffix();if(c)u=t?new RegExp(o(c)+"$"):new RegExp(o("."+c)+"$");else{if(!t)return this;this._parts.path+="."+i.recodePath(t)}return u&&(t=i.recodePath(t),this._parts.path=this._parts.path.replace(u,t)),this.build(!e),this},v.segment=function(t,e,n){var r=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),a=i.split(r);if(void 0!==t&&"number"!=typeof t&&(n=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(o&&a.shift(),t<0&&(t=Math.max(a.length+t,0)),void 0===e)return void 0===t?a:a[t];if(null===t||void 0===a[t])if(s(e)){a=[];for(var u=0,c=e.length;u<c;u++)(e[u].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(h(e[u])))}else(e||"string"==typeof e)&&(e=h(e),""===a[a.length-1]?a[a.length-1]=e:a.push(e));else e?a[t]=h(e):a.splice(t,1);return o&&a.unshift(""),this.path(a.join(r),n)},v.segmentCoded=function(t,e,n){var r,o,a;if("number"!=typeof t&&(n=e,e=t,t=void 0),void 0===e){if(r=this.segment(t,e,n),s(r))for(o=0,a=r.length;o<a;o++)r[o]=i.decode(r[o]);else r=void 0!==r?i.decode(r):void 0;return r}if(s(e))for(o=0,a=e.length;o<a;o++)e[o]=i.encode(e[o]);else e="string"==typeof e||e instanceof String?i.encode(e):e;return this.segment(t,e,n)};var C=v.query;return v.query=function(t,e){if(t===!0)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=t.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=i.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):C.call(this,t,e)},v.setQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof t||t instanceof String)r[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in t)_.call(t,o)&&(r[o]=t[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},v.addQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,t,void 0===e?null:e),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},v.removeQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,t,e),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},v.hasQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,t,e,n)},v.setSearch=v.setQuery,v.addSearch=v.addQuery,v.removeSearch=v.removeQuery,v.hasSearch=v.hasQuery,v.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},v.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},v.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},v.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},v.normalizePath=function(t){var e=this._parts.path;if(!e)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!t),this;if("/"===this._parts.path)return this;e=i.recodePath(e);var n,r,o,a="";for("/"!==e.charAt(0)&&(n=!0,e="/"+e),"/.."!==e.slice(-3)&&"/."!==e.slice(-2)||(e+="/"),e=e.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(a=e.substring(1).match(/^(\.\.\/)+/)||"",a&&(a=a[0]));;){if(r=e.search(/\/\.\.(\/|$)/),r===-1)break;0!==r?(o=e.substring(0,r).lastIndexOf("/"),o===-1&&(o=r),e=e.substring(0,o)+e.substring(r+3)):e=e.substring(3)}return n&&this.is("relative")&&(e=a+e.substring(1)),this._parts.path=e,this.build(!t),this},v.normalizePathname=v.normalizePath,v.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},v.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},v.normalizeSearch=v.normalizeQuery,v.normalizeHash=v.normalizeFragment,v.iso8859=function(){var t=i.encode,e=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=t,i.decode=e}return this},v.unicode=function(){var t=i.encode,e=i.decode;i.encode=d,i.decode=unescape;try{this.normalize()}finally{i.encode=t,i.decode=e}return this},v.readable=function(){var e=this.clone();e.username("").password("").normalize();var n="";if(e._parts.protocol&&(n+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(n+=t.toUnicode(e._parts.hostname),e._parts.port&&(n+=":"+e._parts.port)):n+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(n+="/"),n+=e.path(!0),e._parts.query){for(var r="",o=0,a=e._parts.query.split("&"),s=a.length;o<s;o++){var u=(a[o]||"").split("=");r+="&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(r+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(e.hash(),!0)},v.absoluteTo=function(t){var e,n,r,o=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof i||(t=new i(t)),o._parts.protocol||(o._parts.protocol=t._parts.protocol),this._parts.hostname)return o;for(n=0;r=a[n];n++)o._parts[r]=t._parts[r];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(e=t.directory(),e=e?e:0===t.path().indexOf("/")?"/":"",o._parts.path=(e?e+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=t._parts.path,o._parts.query||(o._parts.query=t._parts.query)),o.build(),o},v.relativeTo=function(t){var e,n,r,o,a,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new i(t).normalize(),e=s._parts,n=t._parts,o=s.path(),a=t.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===n.protocol&&(e.protocol=null),e.username!==n.username||e.password!==n.password)return s.build();if(null!==e.protocol||null!==e.username||null!==e.password)return s.build();if(e.hostname!==n.hostname||e.port!==n.port)return s.build();if(e.hostname=null,e.port=null,o===a)return e.path="",s.build();if(r=i.commonPath(o,a),!r)return s.build();var u=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=u+e.path.substring(r.length)||"./",s.build()},v.equals=function(t){var e,n,r,o=this.clone(),a=new i(t),u={},c={},h={};if(o.normalize(),a.normalize(),o.toString()===a.toString())return!0;if(e=o.query(),n=a.query(),o.query(""),a.query(""),o.toString()!==a.toString())return!1;if(e.length!==n.length)return!1;u=i.parseQuery(e,this._parts.escapeQuerySpace),c=i.parseQuery(n,this._parts.escapeQuerySpace);for(r in u)if(_.call(u,r)){if(s(u[r])){if(!l(u[r],c[r]))return!1}else if(u[r]!==c[r])return!1;h[r]=!0}for(r in c)if(_.call(c,r)&&!h[r])return!1;return!0},v.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},v.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},i})},function(t,e,n){var r;(function(t,i){!function(o){function a(t){throw new RangeError(R[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(P,".");var i=t.split("."),o=s(i,e).join(".");return r+o}function c(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=M(t>>>10&1023|55296),t=56320|1023&t),e+=M(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:k}function f(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,n){var r=0;for(t=n?L(t/T):t>>1,t+=L(t/e);t>N*w>>1;r+=k)t=L(t/N);return L(r+(N+1)*t/(t+x))}function p(t){var e,n,r,i,o,s,u,c,f,p,m=[],g=t.length,v=0,_=A,y=C;for(n=t.lastIndexOf(O),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&a("not-basic"),m.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=v,s=1,u=k;i>=g&&a("invalid-input"),c=h(t.charCodeAt(i++)),(c>=k||c>L((b-v)/s))&&a("overflow"),v+=c*s,f=u<=y?E:u>=y+w?w:u-y,!(c<f);u+=k)p=k-f,s>L(b/p)&&a("overflow"),s*=p;e=m.length+1,y=d(v-o,e,0==o),L(v/e)>b-_&&a("overflow"),_+=L(v/e),v%=e,m.splice(v++,0,_)}return l(m)}function m(t){var e,n,r,i,o,s,u,l,h,p,m,g,v,_,y,x=[];for(t=c(t),g=t.length,e=A,n=0,o=C,s=0;s<g;++s)m=t[s],m<128&&x.push(M(m));for(r=i=x.length,i&&x.push(O);r<g;){for(u=b,s=0;s<g;++s)m=t[s],m>=e&&m<u&&(u=m);for(v=r+1,u-e>L((b-n)/v)&&a("overflow"),n+=(u-e)*v,e=u,s=0;s<g;++s)if(m=t[s],m<e&&++n>b&&a("overflow"),m==e){for(l=n,h=k;p=h<=o?E:h>=o+w?w:h-o,!(l<p);h+=k)y=l-p,_=k-p,x.push(M(f(p+y%_,0))),l=L(y/_);x.push(M(f(l,0))),o=d(n,v,r==i),n=0,++r}++n,++e}return x.join("")}function g(t){return u(t,function(t){return S.test(t)?p(t.slice(4).toLowerCase()):t})}function v(t){return u(t,function(t){return I.test(t)?"xn--"+m(t):t})}var _=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);_.global!==_&&_.window!==_&&_.self!==_||(o=_);var y,b=2147483647,k=36,E=1,w=26,x=38,T=700,C=72,A=128,O="-",S=/^xn--/,I=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=k-E,L=Math.floor,M=String.fromCharCode;y={version:"1.3.2",ucs2:{decode:c,encode:l},decode:p,encode:m,toASCII:v,toUnicode:g},r=function(){return y}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(186)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){/*!
	 * URI.js - Mutating URLs
	 * IPv6 Support
	 *
	 * Version: 1.18.2
	 *
	 * Author: Rodney Rehm
	 * Web: http://medialize.github.io/URI.js/
	 *
	 * Licensed under
	 *   MIT License http://www.opensource.org/licenses/mit-license
	 *
	 */
!function(e,n){"use strict";t.exports=n()}(this,function(t){"use strict";function e(t){var e=t.toLowerCase(),n=e.split(":"),r=n.length,i=8;""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[r-1]&&""===n[r-2]&&n.pop(),r=n.length,n[r-1].indexOf(".")!==-1&&(i=7);var o;for(o=0;o<r&&""!==n[o];o++);if(o<i)for(n.splice(o,1,"0000");n.length<i;)n.splice(o,0,"0000");for(var a,s=0;s<i;s++){a=n[s].split("");for(var u=0;u<3&&("0"===a[0]&&a.length>1);u++)a.splice(0,1);n[s]=a.join("")}var c=-1,l=0,h=0,f=-1,d=!1;for(s=0;s<i;s++)d?"0"===n[s]?h+=1:(d=!1,h>l&&(c=f,l=h)):"0"===n[s]&&(d=!0,f=s,h=1);h>l&&(c=f,l=h),l>1&&n.splice(c,l,""),r=n.length;var p="";for(""===n[0]&&(p=":"),s=0;s<r&&(p+=n[s],s!==r-1);s++)p+=":";return""===n[r-1]&&(p+=":"),p}function n(){return t.IPv6===this&&(t.IPv6=r),this}var r=t&&t.IPv6;return{best:e,noConflict:n}})},function(t,e,n){/*!
	 * URI.js - Mutating URLs
	 * Second Level Domain (SLD) Support
	 *
	 * Version: 1.18.2
	 *
	 * Author: Rodney Rehm
	 * Web: http://medialize.github.io/URI.js/
	 *
	 * Licensed under
	 *   MIT License http://www.opensource.org/licenses/mit-license
	 *
	 */
!function(e,n){"use strict";t.exports=n()}(this,function(t){"use strict";var e=t&&t.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(t){var e=t.lastIndexOf(".");if(e<=0||e>=t.length-1)return!1;var r=t.lastIndexOf(".",e-1);if(r<=0||r>=e-1)return!1;var i=n.list[t.slice(e+1)];return!!i&&i.indexOf(" "+t.slice(r+1,e)+" ")>=0},is:function(t){var e=t.lastIndexOf(".");if(e<=0||e>=t.length-1)return!1;var r=t.lastIndexOf(".",e-1);if(r>=0)return!1;var i=n.list[t.slice(e+1)];return!!i&&i.indexOf(" "+t.slice(0,e)+" ")>=0},get:function(t){var e=t.lastIndexOf(".");if(e<=0||e>=t.length-1)return null;var r=t.lastIndexOf(".",e-1);if(r<=0||r>=e-1)return null;var i=n.list[t.slice(e+1)];return i?i.indexOf(" "+t.slice(r+1,e)+" ")<0?null:t.slice(r+1):null},noConflict:function(){return t.SecondLevelDomains===this&&(t.SecondLevelDomains=e),this}};return n})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(190),o=r(i),a=n(194),s=r(a),u=n(195),c=r(u),l=n(196),h=r(l),f=n(197),d=r(f),p=n(198),m=r(p);e["default"]={BannerID:o["default"],LocationWriter:s["default"],YpCookie:c["default"],YpSerializer:h["default"],YsCookie:d["default"],YsSerializer:m["default"]},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(151),u=r(s),c=n(191),l=r(c),h=n(170),f=r(h),d={cookieName:"ys",cookiePart:"bnrd"},p=function(){function t(e,n){i(this,t),e=(0,u["default"])(e,d),this._cookieName=e.cookieName,this._cookiePart=e.cookiePart,this._domainsQueue=e.domainsQueue,this._YsCookie=n}return a(t,[{key:"run",value:function(){var t=this._createCookiesForDomains();return this._updateBannerId(t)}},{key:"_createCookiesForDomains",value:function(){var t=this;return this._domainsQueue.map(function(e){return new t._YsCookie(e)})}},{key:"_updateBannerId",value:function(t){var e=this;return this._getBannerIdValues(t).then(function(t){var n=!0,r=!1,i=void 0;try{for(var a,s=function(){var n=a.value,r=e._findCookieForDomain(n,t);if(r)return{v:r.cookie.deletePart(e._cookiePart).then(function(){return Promise.resolve(r.bannerId)})}},u=e._domainsQueue[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=s();if("object"===("undefined"==typeof c?"undefined":o(c)))return c.v}}catch(l){r=!0,i=l}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw i}}return Promise.resolve(null)})}},{key:"_getBannerIdValues",value:function(t){var e=this,n=t.map(function(t){return t.getValue(e._cookiePart).then(function(e){return{cookie:t,bannerId:e}})});return Promise.all(n).then(function(t){return(0,l["default"])(t,"bannerId")})}},{key:"_findCookieForDomain",value:function(t,e){return(0,f["default"])(e,function(e){return e.cookie.domain===t})}}]),t}();e["default"]=p,t.exports=e["default"]},function(t,e,n){function r(t,e,n){var r=s(t)?i:a;return e=o(e,n,3),r(t,e)}var i=n(192),o=n(175),a=n(193),s=n(34);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}t.exports=n},function(t,e,n){function r(t,e){var n=[];return i(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}var i=n(171);t.exports=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return Math.abs(Date.now()-t)>e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o="gpauto",a=1728e5,s=6e5,u=function(){function t(e){n(this,t),this._locationParser=e.locationParser,this._cookiePart=e.cookiePart||o,this._cookieExpires=e.cookieExpires||a,this._positionExpires=e.positionExpires||s}return i(t,[{key:"updatePosition",value:function(t,e){var n=this;return this._getPositionData(e).then(function(r){var i=n._isPositionExpired(r);return i?n._writePosition(t,e):null})}},{key:"_getPositionData",value:function(t){var e=this;return t.getValue(this._cookiePart).then(function(t){return e._parsePosition(t)})}},{key:"_parsePosition",value:function(t){return t&&t.value?{value:this._locationParser.parseFromString(t.value),expires:t.expires}:{value:null,expires:null}}},{key:"_isPositionExpired",value:function(t){var e=t.value;return!e||(r(e.timestamp,this._positionExpires)||r(1e3*t.expires,this._cookieExpires))}},{key:"_writePosition",value:function(t,e){var n=this._getCookieExpiresValue(),r=this._locationParser.parseToString(t);return e.upsertPart(this._cookiePart,r,n)}},{key:"_getCookieExpiresValue",value:function(){return Math.round((Date.now()+this._cookieExpires)/1e3)}}]),t}();e["default"]=u,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(126),s=r(a),u=n(170),c=r(u),l=n(196),h=r(l),f="yp",d="https",p=Math.ceil(new Date(2038,0).getTime()/1e3),m=function(){function t(e){i(this,t),this.domain=e,this.name=f,this.protocol=d,this.expirationDate=p,this._ypSerializer=new h["default"]}return o(t,[{key:"getCookie",value:function(){var t={domain:this.domain,name:this.name};return s["default"].cookies.getAll(t).then(this._getFirstCookie.bind(this))}},{key:"addPart",value:function(t,e,n){var r=this;return this.getCookie().then(function(i){var o=i?i.value:"",a=r._ypSerializer.addPart(o,t,e,n);return r._saveIfChanged(a,o,t)})}},{key:"deletePart",value:function(t){var e=this;return this.getCookie().then(function(n){if(n){var r=n.value,i=e._ypSerializer.deletePart(r,t);return e._saveIfChanged(i,r,t)}return null})}},{key:"updatePart",value:function(t,e,n){var r=this;return this.getCookie().then(function(i){if(i){var o=i.value,a=r._ypSerializer.updatePart(o,t,e,n);return r._saveIfChanged(a,o,t)}return null})}},{key:"upsertPart",value:function(t,e,n){var r=this;return this.getCookie().then(function(i){var o=i?i.value:"",a=r._ypSerializer.upsertPart(o,t,e,n);return r._saveIfChanged(a,o,t)})}},{key:"getValue",value:function(t){var e=this;return this.getCookie().then(function(n){return n?e._ypSerializer.getValue(n.value,t):null})}},{key:"_saveIfChanged",value:function(t,e,n){return this._ypSerializer.isPartChanged(t,e,n)?this._saveCookie(t):Promise.resolve(t)}},{key:"_saveCookie",value:function(t){return this._setCookie(t).then(function(){return Promise.resolve(t)})}},{key:"_getFirstCookie",value:function(t){return(0,c["default"])(t,function(t){return t.hostOnly===!1})||t[0]}},{key:"_setCookie",value:function(t){return s["default"].cookies.set({url:this.protocol+"://"+this.domain.replace(/^\./,"")+"/",domain:this.domain,name:this.name,value:t,expirationDate:this.expirationDate})}}]),t}();e["default"]=m,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(151),u=r(s),c={partsDelimiter:"#",keyValueDelimiter:"."},l=function(){function t(e){i(this,t),e=(0,u["default"])({},e,c),this._partsDelimiter=e.partsDelimiter,this._keyValueDelimiter=e.keyValueDelimiter}return a(t,[{key:"getParts",value:function(t){return t.split(this._partsDelimiter).filter(Boolean)}},{key:"addPart",value:function(t,e,n,r){var i=this.getParts(t);return i.push(this._createPart(e,n,r)),this._toCookieValue(i)}},{key:"deletePart",value:function(t,e){var n=this.getParts(t).filter(function(t){var n=t.split(this._keyValueDelimiter),r=o(n,2),i=r[1];return e!==i},this);return this._toCookieValue(n)}},{key:"updatePart",value:function(t,e,n,r){var i=this,a=this.getParts(t).map(function(t){var a=t.split(i._keyValueDelimiter),s=o(a,2),u=s[1];return u===e?i._createPart(u,n,r):t});return this._toCookieValue(a)}},{key:"upsertPart",value:function(t,e,n,r){var i=this.getValue(t,e);return i?this.updatePart(t,e,n,r):this.addPart(t,e,n,r)}},{key:"getValue",value:function(t,e){var n=this.getParts(t),r=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,l=c.split(this._keyValueDelimiter),h=o(l,3),f=h[0],d=h[1],p=h[2];if(d===e)return{value:decodeURIComponent(p),expires:parseInt(f,10)}}}catch(m){i=!0,a=m}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw a}}return null}},{key:"isPartChanged",value:function(t,e,n){var r=this.getValue(e,n),i=this.getValue(t,n);return r&&i?r.value!==i.value||r.expires!==i.expires:r!==i}},{key:"_createPart",value:function(t,e,n){return[n,t,encodeURIComponent(e)].join(this._keyValueDelimiter)}},{key:"_toCookieValue",value:function(t){return t.join(this._partsDelimiter)}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(126),s=r(a),u=n(170),c=r(u),l=n(198),h=r(l),f="ys",d="https",p=function(){function t(e){i(this,t),this.domain=e,this.name=f,this.protocol=d,this._ysSerializer=new h["default"]}return o(t,[{key:"getCookie",value:function(){var t={domain:this.domain,name:this.name};return s["default"].cookies.getAll(t).then(this._getFirstCookie.bind(this))}},{key:"addPart",value:function(t,e){var n=this;return this.getCookie().then(function(r){var i=r?r.value:"",o=n._ysSerializer.addPart(i,t,e);return n._saveIfChanged(o,i,t)})}},{key:"deletePart",value:function(t){var e=this;return this.getCookie().then(function(n){if(n){var r=n.value,i=e._ysSerializer.deletePart(r,t);return e._saveIfChanged(i,r,t)}return null})}},{key:"updatePart",value:function(t,e){var n=this;return this.getCookie().then(function(r){if(r){var i=r.value,o=n._ysSerializer.updatePart(i,t,e);return n._saveIfChanged(o,i,t)}return null})}},{key:"upsertPart",value:function(t,e){var n=this;return this.getCookie().then(function(r){var i=r?r.value:"",o=n._ysSerializer.upsertPart(i,t,e);return n._saveIfChanged(o,i,t)})}},{key:"getValue",value:function(t){var e=this;return this.getCookie().then(function(n){return n?e._ysSerializer.getValue(n.value,t):null})}},{key:"_saveIfChanged",value:function(t,e,n){return this._ysSerializer.isPartChanged(t,e,n)?this._saveCookie(t):Promise.resolve(t)}},{key:"_saveCookie",value:function(t){return this._setCookie(t).then(function(){return Promise.resolve(t)})}},{key:"_getFirstCookie",value:function(t){return(0,c["default"])(t,function(t){return t.hostOnly===!1})||t[0]}},{key:"_setCookie",value:function(t){return s["default"].cookies.set({url:this.protocol+"://"+this.domain.replace(/^\./,"")+"/",domain:this.domain,name:this.name,value:t})}}]),t}();e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(151),u=r(s),c={partsDelimiter:"#",keyValueDelimiter:"."},l=function(){function t(e){i(this,t),e=(0,u["default"])({},e,c),this._partsDelimiter=e.partsDelimiter,this._keyValueDelimiter=e.keyValueDelimiter}return a(t,[{key:"getParts",value:function(t){return t.split(this._partsDelimiter).filter(Boolean)}},{key:"addPart",value:function(t,e,n){var r=this.getParts(t);return r.push(this._createPart(e,n)),this._toCookieValue(r)}},{key:"deletePart",value:function(t,e){var n=this.getParts(t).filter(function(t){var n=t.split(this._keyValueDelimiter),r=o(n,1),i=r[0];return e!==i},this);return this._toCookieValue(n)}},{key:"updatePart",value:function(t,e,n){var r=this,i=this.getParts(t).map(function(t){var i=t.split(r._keyValueDelimiter),a=o(i,1),s=a[0];return s===e?r._createPart(s,n):t});return this._toCookieValue(i)}},{key:"upsertPart",value:function(t,e,n){var r=this.getValue(t,e);return r?this.updatePart(t,e,n):this.addPart(t,e,n)}},{key:"getValue",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=this.getParts(t)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=this._parsePart(s);if(u.key===e)return u.value}}catch(c){r=!0,i=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return null}},{key:"getValues",value:function(t){return this.getParts(t).map(this._parsePart,this)}},{key:"isPartChanged",value:function(t,e,n){var r=this.getValue(e,n),i=this.getValue(t,n);return i!==r}},{key:"_createPart",value:function(t,e){return t+this._keyValueDelimiter+encodeURIComponent(e)}},{key:"_toCookieValue",value:function(t){return t.join(this._partsDelimiter)}},{key:"_parsePart",value:function(t){var e=t.indexOf(this._keyValueDelimiter),n=e===-1?t:t.substr(0,e),r=e===-1?null:t.substr(e+1);return{key:n,value:r?decodeURIComponent(r):"",source:t}}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(200),o=r(i),a=n(201),s=r(a),u=n(202),c=r(u);e["default"]={Experiment:o["default"],ExperimentConfig:s["default"],Experimentator:c["default"]},t.exports=e["default"]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function i(t){n(this,i),this.name=t.name,this.testId=t.testId,this.bucket=t.bucket,this.data=t.data,this.config=t.config};e["default"]=r,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){if(!t||!i(t,a))throw new Error("Config must be correct!")}function i(t,e){return e.every(function(e){return void 0!==t[e]})}Object.defineProperty(e,"__esModule",{value:!0});var o=function s(t){n(this,s),r(t),this.name=t.name,this.types=t.types,this.percent=t.percent||100,this.startTime=t.startTime||0,this.endTime=t.endTime,this.installOnly=t.installOnly};e["default"]=o;var a=["name","types","endTime"];t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=Date.now();return e<t.startTime||e>t.endTime}function a(t){var e=Object.keys(t),n=e.length,r=e[Math.floor(Math.random()*n)];return[r,t[r]]}function s(){return Math.floor(1+100*Math.random())}function u(t){var e=l(),n=0,r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(n+=u.percent,e<=n)return[u]}}catch(c){i=!0,o=c}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return[]}function c(t,e){return t.installOnly&&!e}function l(){return 100*Math.random()}function h(t){var e=t.reduce(function(t,e){return t+e.percent},0);if(e>100)throw new Error("Experiments percent sum must be <= 100, you have: "+e)}function f(t,e){return e.some(function(e){return String(t.testId)in e.types})}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=n(200),g=r(m),v=function(){function t(){i(this,t)}return p(t,[{key:"createExperiments",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],r=this.getActualExistingExperiments(e,t);if(r.length)return r;var i=this.createNewExperiment(t,n);return i?[i]:[]}},{key:"createNewExperiment",value:function(t,e){var n=t.filter(function(t){return!c(t,e.isInstall)}).filter(function(t){return!o(t)});h(n);var r=u(n);return r.length?this._createExperiment(r[0]):null}},{key:"getActualExistingExperiments",value:function(t,e){return t.filter(function(t){return!o(t.config)}).filter(function(t){return f(t,e)})}},{key:"createExperimentInstance",value:function(t){return new g["default"](t)}},{key:"_createExperiment",value:function(t){var e=a(t.types),n=d(e,2),r=n[0],i=n[1];return this.createExperimentInstance({name:t.name,testId:r,data:i,bucket:s(),config:t})}}]),t}();e["default"]=v,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(204),o=r(i),a=n(205),s=r(a),u=n(207),c=r(u);e["default"]={PositionParser:o["default"],LocationTimer:s["default"],LocationWatcher:c["default"]},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(151),s=r(a),u=":",c={deviceId:3,timestampRoundValue:1e3},l=function(){function t(e){i(this,t),e=(0,s["default"])({},e,c),this._deviceId=e.deviceId,this._timestampRoundValue=e.timestampRoundValue}return o(t,[{key:"parseToString",value:function(t){return[this._numberToString(t.coords.latitude),this._numberToString(t.coords.longitude),this._numberToString(t.coords.accuracy),this._deviceId,Math.round(Date.now()/this._timestampRoundValue)].join(u)}},{key:"parseFromString",value:function(t){var e=t.split(u);return{coords:{latitude:this._numberFromString(e[0]),longitude:this._numberFromString(e[1]),accuracy:this._numberFromString(e[2])},deviceId:this._numberFromString(e[3]),timestamp:1e3*this._numberFromString(e[4])}}},{key:"_numberToString",value:function(t){return"undefined"!=typeof t&&null!==t||(t=0),t.toString().replace(".","_")}},{key:"_numberFromString",value:function(t){var e=Number(t.replace("_","."));if(!isNaN(e))return e}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(206),s=r(a),u=6e5,c=function(){function t(e,n){i(this,t),this.onChange=new s["default"],this.onError=new s["default"],this._watcher=e,this._timeout=n||u,this._position=null,this._intervalId=null}return o(t,[{key:"start",value:function(){this.stop(),this._intervalId=setInterval(this._handleIntervalEvent.bind(this),this._timeout),this._startWatcher()}},{key:"stop",value:function(){clearInterval(this._intervalId),this._intervalId=null,this._stopWatcher()}},{key:"_startWatcher",value:function(){this._watcher.onChange.add(this._handleChangeEvent,this),this._watcher.onError.add(this._handleErrorEvent,this),this._watcher.start()}},{key:"_stopWatcher",value:function(){this._watcher.onChange.remove(this._handleChangeEvent,this),this._watcher.onError.remove(this._handleErrorEvent,this),this._watcher.stop()}},{key:"_handleChangeEvent",value:function(t){this._position||this._dispatchChange(t),this._position=t}},{key:"_handleErrorEvent",value:function(t){this.onError.dispatch(t)}},{key:"_handleIntervalEvent",value:function(){this._position&&this._dispatchChange(this._position)}},{key:"_dispatchChange",value:function(t){this.onChange.dispatch(t)}}]),t}();e["default"]=c,t.exports=e["default"]},function(t,e,n){var r;/** @license
	 * JS Signals <http://millermedeiros.github.com/js-signals/>
	 * Released under the MIT license
	 * Author: Miller Medeiros
	 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
	 */
!function(i){function o(t,e,n,r,i){this._listener=e,this._isOnce=n,this.context=r,this._signal=t,this._priority=i||0}function a(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function s(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){s.prototype.dispatch.apply(t,arguments)}}o.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,e,n,r){var i,a=this._indexOfListener(t,n);if(a!==-1){if(i=this._bindings[a],i.isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else i=new o(this,t,e,n,r),this._addBinding(i);return this.memorize&&this._prevParams&&i.execute(this._prevParams),i},_addBinding:function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,r=this._bindings.length;r--;)if(n=this._bindings[r],n._listener===t&&n.context===e)return r;return-1},has:function(t,e){return this._indexOfListener(t,e)!==-1},add:function(t,e,n){return a(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return a(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){a(t,"remove");var n=this._indexOfListener(t,e);return n!==-1&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r){e=this._bindings.slice(),this._shouldPropagate=!0;do r--;while(e[r]&&this._shouldPropagate&&e[r].execute(n)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var u=s;u.Signal=s,r=function(){return u}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(206),s=r(a),u=function(){function t(e,n){i(this,t),this.onChange=new s["default"],this.onError=new s["default"],this._geo=e,this._geoOptions=n||{},this._watchId=null}return o(t,[{key:"start",value:function(){this._geo?(this.stop(),this._watchId=this._watchPosition()):this.onError.dispatch(new Error("Geolocation is not supported"))}},{key:"stop",value:function(){this._watchId&&(this._geo.clearWatch(this._watchId),this._watchId=null)}},{key:"_watchPosition",value:function(){return this._geo.watchPosition(this._handlePositionChangeSuccess.bind(this),this._handlePositionChangeError.bind(this),this._geoOptions)}},{key:"_handlePositionChangeSuccess",value:function(t){t&&t.coords&&this.onChange.dispatch(t)}},{key:"_handlePositionChangeError",value:function(t){t&&this.onError.dispatch(t)}}]),t}();e["default"]=u,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){return t.hasOwnProperty(e)?s(t,e,n):a(t,e,n)}function a(t,e,n){return n?t[e]=1:(t[e]={},t=t[e]),t}function s(t,e,n){return n?t[e]++:t=t[e],t}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(51),l=r(c),h=6e4,f=500,d=function(){function t(e,n,r){i(this,t),this._counter=e,this._url=n,this._paramsKeysList=r,this._pauseTimerId=null,this._buffer={},this._sleepMode=!1}return u(t,[{key:"send",value:function(t){this._sleepMode||(this._saveParamsInBuffer(t),this._pauseTimerId||this._sendBuffer())}},{key:"_saveParamsInBuffer",value:function(t){var e=this;this._checkParams(t)&&!function(){var n=e._buffer;e._paramsKeysList.forEach(function(r,i){var a=t[r],s=i===e._paramsKeysList.length-1;n=o(n,a,s)})}()}},{key:"_checkParams",value:function(t){return this._paramsKeysList.every(function(e){return t.hasOwnProperty(e)})}},{key:"_sendBuffer",value:function(){var t=this;(0,l["default"])(this._buffer)?this._pauseTimerId=null:(this._sleepMode=!0,this._counter.hit(this._url,{params:this._buffer}),this._buffer={},setTimeout(function(){return t._awake()},f),this._pauseTimerId=setTimeout(function(){return t._sendBuffer()},h))}},{key:"_awake",value:function(){this._sleepMode=!1}}]),t}();e["default"]=d,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={paramsKeysList:["version","yasoft","distribution","branding","gchid","message"],create:function(t,e){return function(n,r,i){var o={version:e.version,yasoft:e.yasoft,distribution:e.distribution,branding:e.branding,gchid:e.gchid,message:i[0]};t.send(o)}}},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(206),s=r(a),u=n(211),c=r(u),l=n(212),h=r(l),f=function(){function t(e,n){i(this,t),this.options=e,this.closeTimeout=n,this.onClick=new s["default"],this.onTimeout=new s["default"],this.onManualClose=new s["default"],this.onButtonClick=new s["default"],this.notificationId=null}return o(t,null,[{key:"manager",get:function(){return t._manager||(t._manager=new c["default"]),t._manager}}]),o(t,[{key:"create",value:function(){var e=this;return t.manager.create(this.options,this.closeTimeout).then(function(t){return e.notificationId=t}).then(function(){return e._processManagerSignals()})}},{key:"clear",value:function(){this.onClick.removeAll(),this.onTimeout.removeAll(),this.onManualClose.removeAll(),this.onButtonClick.removeAll()}},{key:"_processManagerSignals",value:function(){t.manager.onClick.add(this._clickHandler,this),t.manager.onButtonClick.add(this._buttonClickHandler,this),t.manager.onClose.add(this._closeHandler,this)}},{key:"_closeHandler",value:function(t,e){this._isMyNotification(t)&&(e===h["default"].TIMEOUT&&this.onTimeout.dispatch(t),e===h["default"].MANUAL_CLOSE&&this.onManualClose.dispatch(t),this.clear())}},{key:"_clickHandler",value:function(t){this._isMyNotification(t)&&(this.onClick.dispatch(t),this.clear())}},{key:"_buttonClickHandler",value:function(t,e){this._isMyNotification(t)&&(this.onButtonClick.dispatch(t,e),this.clear())}},{key:"_isMyNotification",value:function(t){return this.notificationId===t}}]),t}();e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(126),s=r(a),u=n(206),c=r(u),l=n(212),h=r(l),f=8e3,d=function(){function t(){i(this,t),this.pool=new Map,this.onClick=new c["default"],this.onClose=new c["default"],this.onButtonClick=new c["default"],this._listenChromeEvents()}return o(t,[{key:"create",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return s["default"].notifications.create("",t).then(function(t){return e._appendNotification(t,n)})}},{key:"clear",value:function(){return this.pool.forEach(function(t){return clearTimeout(t)}),this.pool.clear(),s["default"].notifications.clear()}},{key:"_appendNotification",value:function(t,e){var n=this;return this.pool.set(t,setTimeout(function(){return n._applyTimeout(t)},e)),this._listenChromeEvents(),t}},{key:"_removeNotification",value:function(t){return clearTimeout(this.pool.get(t)),this.pool["delete"](t),s["default"].notifications.clear(t)}},{key:"_applyTimeout",value:function(t){var e=this;return s["default"].notifications.getAll().then(function(n){t in n&&(e.onClose.dispatch(t,h["default"].TIMEOUT),e._removeNotification(t))})}},{key:"_clickHandler",value:function(t){this.onClick.dispatch(t),this._removeNotification(t)}},{key:"_closeHandler",value:function(t){this.onClose.dispatch(t,h["default"].MANUAL_CLOSE),this._removeNotification(t)}},{key:"_buttonClickHandler",value:function(t,e){this.onButtonClick.dispatch(t,e),this._removeNotification(t)}},{key:"_listenChromeEvents",value:function(){chrome.notifications.onClicked.addListener(this._clickHandler.bind(this)),chrome.notifications.onClosed.addListener(this._closeHandler.bind(this)),chrome.notifications.onButtonClicked.addListener(this._buttonClickHandler.bind(this))}}]),t}();e["default"]=d,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={CLICK:"reason.click",TIMEOUT:"reason.timeout",MANUAL_CLOSE:"reason.manual.close"},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){if((0,f["default"])(t.get(e),n))return Promise.resolve();for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return a.apply(void 0,[t,e,n].concat(i))}function a(t,e,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return s(function(){return t.set.apply(t,[e,n].concat(i))})["catch"](function(e){throw e=e||new Error,e.backend=t,e})}function s(t){try{return Promise.resolve(t())}catch(e){return Promise.reject(e)}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(206),l=r(c),h=n(214),f=r(h),d={defaultBackend:"default"},p=function(){function t(e){i(this,t),e=Object.assign({},d,e),this._backends={},this._routingTable={},this._defaultBackendName=e.defaultBackend,this.onChanged=new l["default"]}return u(t,[{key:"registerBackend",value:function(t,e){var n=this;this._backends[t]=e,e.onInternalChange&&e.onInternalChange.add(function(e,r){return n._handleBackendChange(t,e,r)})}},{key:"registerKey",value:function(t,e){var n=this._routingTable[t]||[];n.push(this._backends[e]),this._routingTable[t]=n}},{key:"fillBackends",value:function(){var t=this;return Promise.all(Object.keys(this._routingTable).map(function(e){var n=t.get(e),r=t._routingTable[e];return Promise.all(r.map(function(t){return o(t,e,n)}))}))}},{key:"set",value:function(t,e){var n=this._routingTable[t];if(n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return this._setForBackends.apply(this,[n,t,e].concat(i))}return Promise.reject(new Error("No backends for key: "+t))}},{key:"get",value:function(t){var e=this._routingTable[t];if(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=!0,a=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,h=l.get.apply(l,[t].concat(r));if(void 0!==h)return h}}catch(f){a=!0,s=f}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw s}}}}},{key:"getDefault",value:function(t){var e=this._backends[this._defaultBackendName];if(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.get.apply(e,[t].concat(r))}}},{key:"_setForBackends",value:function(t,e,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var s=t.filter(function(t){return!(0,f["default"])(t.get(e),n)}),u=Promise.all(s.map(function(t){return a.apply(void 0,[t,e,n].concat(i))}));return 0!==s.length&&this.onChanged.dispatch(e,n),u}},{key:"_handleBackendChange",value:function(t,e,n){var r=this._backends[t],i=this._routingTable[e];i&&this._setForBackends(i.filter(function(t){return t!==r}),e,n)}}]),t}();e["default"]=p,t.exports=e["default"]},function(t,e,n){function r(t,e,n,r){n="function"==typeof n?o(n,r,3):void 0;var a=n?n(t,e):void 0;return void 0===a?i(t,e,n):!!a}var i=n(161),o=n(117);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var a,s=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(206),l=r(c),h=n(126),f=r(h),d=n(216),p=r(d),m=n(222),g=r(m),v=n(224),_=r(v),y=n(225),b=r(y),k=n(218),E=(a={},o(a,k.NAVIGATION_STATUS.BEFORE_NAVIGATE,"onBeforeNavigate"),o(a,k.NAVIGATION_STATUS.COMMITTED,"onCommitted"),o(a,k.NAVIGATION_STATUS.DOM_CONTENT_LOADED,"onDOMContentLoaded"),o(a,k.NAVIGATION_STATUS.COMPLETED,"onCompleted"),o(a,k.NAVIGATION_STATUS.ERROR_OCCURRED,"onErrorOccurred"),o(a,k.NAVIGATION_STATUS.HISTORY_STATE_UPDATED,"onHistoryStatusUpdated"),o(a,k.NAVIGATION_STATUS.REFERENCE_FRAGMENT_UPDATED,"onReferenceFragmentUpdated"),a),w=function(){function t(){i(this,t),this.storage=new g["default"](_["default"]),this["public"]={},this._createSignals(this),this._createSignals(this["public"]),this._createNavListener(),this._createTabActionListeners(),this._createWindowActionListeners(),this._readExistingTabs(),this.activeTabId={},this.replacedTabs={},this.currentWindowId=null}return u(t,[{key:"getTabData",value:function(t){return this.storage.getById(t)}},{key:"_createSignals",value:function(t){t.onCreated=new l["default"],t.onUpdated=new l["default"],t.onActivated=new l["default"],t.onRemoved=new l["default"],t.onAttached=new l["default"],t.onReplaced=new l["default"],t.onBeforeNavigate=new l["default"],t.onCommitted=new l["default"],t.onCompleted=new l["default"],t.onErrorOccurred=new l["default"],t.onDOMContentLoaded=new l["default"],t.onHistoryStateUpdated=new l["default"],t.onReferenceFragmentUpdated=new l["default"]}},{key:"_createNavListener",value:function(){this.navListener=new b["default"],this._updateNavigation=this._updateNavigation.bind(this),this.navListener.onNavigationUpdated.add(this._updateNavigation)}},{key:"_createTabActionListeners",value:function(){this._onCreated=this._onCreated.bind(this),this._onRemoved=this._onRemoved.bind(this),this._onUpdated=this._onUpdated.bind(this),this._onActivated=this._onActivated.bind(this),this._onAttached=this._onAttached.bind(this),this._onReplaced=this._onReplaced.bind(this),chrome.tabs.onCreated.addListener(this._onCreated),chrome.tabs.onRemoved.addListener(this._onRemoved),chrome.tabs.onUpdated.addListener(this._onUpdated),chrome.tabs.onActivated.addListener(this._onActivated),chrome.tabs.onAttached.addListener(this._onAttached),chrome.tabs.onReplaced.addListener(this._onReplaced)}},{key:"_createWindowActionListeners",value:function(){this._onWindowFocusChanged=this._onWindowFocusChanged.bind(this),chrome.windows.onFocusChanged.addListener(this._onWindowFocusChanged)}},{key:"_readExistingTabs",value:function(){var t=this;f["default"].windows.getAll({populate:!0}).then(function(e){return t._readTabsFromExistingWindows(e)}).then(function(e){return t._saveTabsToStorage(e)})["catch"](function(t){throw t})}},{key:"_readTabsFromExistingWindows",value:function(t){var e=t.filter(function(t){return t.focused})[0];return this.currentWindowId=e?e.id:null,t.reduce(function(t,e){return t.concat(e.tabs)},[])}},{key:"_saveTabsToStorage",value:function(t){var e=this,n=t.map(function(t){return t.active&&(e.activeTabId[t.windowId]=t.id),t.isInCurrentWindow=t.windowId===e.currentWindowId,new p["default"](t)});this.storage.update(n)}},{key:"_updateNavigation",value:function(t){var e=this,n=t.tabId;f["default"].tabs.get(n).then(function(r){var i=e.storage.getDiffObject(n,{data:r,navigation:t}),o=e.storage.merge(i);e._dispatch(E[t.status],n,o,t)})["catch"](function(){})}},{key:"_onCreated",value:function(t){t.navInNewWindow=0===this.storage.snapshot(function(e){var n=e.data;return n.windowId===t.windowId}).size,t.isInCurrentWindow=t.windowId===this.currentWindowId,t=new p["default"](t),this.storage.update(t),this._dispatch("onCreated",t.id,t)}},{key:"_onReplaced",value:function(t,e){this.storage.remove(e),this.replacedTabs[t]=!0}},{key:"_onAttached",value:function(t,e){var n=e.newWindowId,r=e.newPosition,i=this.storage.getDiffObject(t,{data:{windowId:n,index:r,isInCurrentWindow:n===this.currentWindowId}}),o=this.storage.merge(i);this._dispatch("onAttached",t,o,{newWindowId:n,newPosition:r})}},{key:"_onUpdated",value:function(t,e){if(!e.status){var n=this.storage.getDiffObject(t,{data:e}),r=this.storage.merge(n);this._dispatch("onUpdated",t,r,e)}}},{key:"_onActivated",value:function(t){var e=t.tabId,n=t.windowId;if(this.replacedTabs[e])this._replaceTab(e,n);else{var r=this._activateTab(e,n),i=s(r,2),o=i[0],a=i[1];this._dispatch("onActivated",e,o,n,a)}}},{key:"_replaceTab",value:function(t,e){var n=this;delete this.replacedTabs[t],f["default"].tabs.get(t).then(function(r){r.isInCurrentWindow=e===n.currentWindowId,n.storage.update(new p["default"](r)),n._onActivated({tabId:t,windowId:e})})["catch"](function(){})}},{key:"_activateTab",value:function(t,e){var n=this.activeTabId[e],r=[this.storage.getDiffObject(t,{data:{active:!0}})];return this.activeTabId[e]=t,n&&r.push(this.storage.getDiffObject(n,{data:{active:!1}})),this.storage.merge(r)}},{key:"_onRemoved",value:function(t,e){var n=e.windowId;this.activeTabId[n]===t&&delete this.activeTabId[n];var r=this.storage.remove(t);this._dispatch("onRemoved",t,r,e)}},{key:"_onWindowFocusChanged",value:function(t){var e=this;if(t!==chrome.windows.WINDOW_ID_NONE){var n=this.storage.snapshot(function(n){var r=n.data;return r.windowId===t||r.windowId===e.currentWindowId}).map(function(n){var r=n.id,i=n.data;return e.storage.getDiffObject(r,{data:{isInCurrentWindow:i.windowId===t}})});this.storage.merge(n),this.currentWindowId=t}}},{key:"_tabsInCurrentWindowQuery",value:function(t){var e=t.data;return e.windowId===this.currentWindowId}},{key:"_dispatch",value:function(t,e,n){for(var r=n.data.incognito,i=arguments.length,o=Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];if(this[t]instanceof l["default"]){var s;(s=this[t]).dispatch.apply(s,[e,n].concat(o))}if(!r&&this["public"][t]instanceof l["default"]){var u;(u=this["public"][t]).dispatch.apply(u,[e,n].concat(o))}}},{key:"destroy",value:function(){this.storage.clear(),this._removeEventListeners(this),this._removeEventListeners(this["public"]),chrome.tabs.onCreated.removeListener(this._onCreated),chrome.tabs.onRemoved.removeListener(this._onRemoved),chrome.tabs.onUpdated.removeListener(this._onUpdated),chrome.tabs.onActivated.removeListener(this._onActivated),chrome.tabs.onAttached.removeListener(this._onAttached),chrome.tabs.onReplaced.removeListener(this._onReplaced),this.navListener.onNavigationUpdated.remove(this._updateNavigation),chrome.windows.onFocusChanged.removeListener(this._onWindowFocusChanged)}},{key:"_removeEventListeners",value:function(t){t.onCreated.removeAll(),t.onUpdated.removeAll(),t.onActivated.removeAll(),t.onRemoved.removeAll(),t.onAttached.removeAll(),t.onBeforeNavigate.removeAll(),t.onCommitted.removeAll(),t.onCompleted.removeAll(),t.onErrorOccurred.removeAll(),t.onDOMContentLoaded.removeAll(),t.onHistoryStateUpdated.removeAll(),t.onReferenceFragmentUpdated.removeAll()}}]),t}();e["default"]=w,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(217),c=r(u),l=n(218),h=r(l),f=n(221),d=r(f),p=n(51),m=r(p),g=["id","windowId","openerTabId","active","isInCurrentWindow","audible","mutedInfo","title","favIconUrl","status","incognito","sessionId","url","navInNewWindow","navInExistingTab"],v=["transitionType","transitionQualifiers","url","status"],_="complete",y="loading",b=l.NAVIGATION_STATUS.COMPLETED,k=l.NAVIGATION_STATUS.COMMITTED,E=function(t){function e(t,n){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.id=t.id,r.data={navInExistingTab:!1},r.updateData(t),n||(0,m["default"])(t.url)?r.navigation=new h["default"](n):r.navigation=new h["default"]({url:t.url,status:t.status===_?b:k}),r}return a(e,t),s(e,[{key:"updateData",value:function(t){return Object.assign(this.data,(0,c["default"])(t,g)),this}},{key:"merge",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=t.navigation;return e&&this.updateData(e),n&&this.updateNavigation(n),this}},{key:"updateNavigation",value:function(t){var e=(0,c["default"])(t,v);return this.data.navInExistingTab=!this.navigation.isEmpty,this.navigation.update(e),this.data.url=e.url,this.data.status=this.isComplete?_:y,this}},{key:"clone",value:function(){var t=Object.assign({},this.data);return t.mutedInfo=Object.assign({},t.mutedInfo),new e(t,this.navigation)}},{key:"getId",value:function(){return this.id}},{key:"isComplete",get:function(){return this.navigation.isFinished}},{key:"isCurrent",get:function(){return this.data.isInCurrentWindow&&this.data.active}}]),e}(d["default"]);e["default"]=E,t.exports=e["default"]},function(t,e,n){var r=n(140),i=n(117),o=n(142),a=n(143),s=n(73),u=s(function(t,e){return null==t?{}:"function"==typeof e[0]?a(t,i(e[0],e[1],3)):o(t,r(e))});t.exports=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.NAVIGATION_STATUS=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(179),u=r(s),c=n(219),l=r(c),h=e.NAVIGATION_STATUS={EMPTY:-1,BEFORE_NAVIGATE:0,COMMITTED:1,DOM_CONTENT_LOADED:2,COMPLETED:3,ERROR_OCCURRED:4,HISTORY_STATE_UPDATED:5,REFERENCE_FRAGMENT_UPDATED:6},f=h.EMPTY,d=h.BEFORE_NAVIGATE,p=h.COMMITTED,m=h.DOM_CONTENT_LOADED,g=h.COMPLETED,v=h.ERROR_OCCURRED,_=h.HISTORY_STATE_UPDATED,y=[d,p,g,v],b="client_redirect",k="server_redirect",E=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.url,r=e.stack,i=void 0===r?[]:r,a=e.previousUrl,s=void 0===a?null:a,c=e.previousRedirectChain,h=void 0===c?[]:c,d=e.redirectChain,p=void 0===d?[]:d,m=e.status,g=void 0===m?f:m,v=e.uuid;if(o(this,t),this.stack=i.concat(),this.status=g,void 0!==n)this.url=n;else{var _=(0,u["default"])(this.stack);this.url=_?_.url:null}this.uuid=v||l["default"].v4(),this.redirectChain=p,this.previousUrl=s,this.previousRedirectChain=h.concat()}return a(t,[{key:"update",value:function(t){return t.status===m&&this.url!==t.url?this:t.status===g&&this.url!==t.url?this:(t.status===d&&(this.previousUrl=this.url,this.previousRedirectChain=this.redirectChain.concat(),this.clear(),this.uuid=l["default"].v4()),t.status===p&&this._onCommitted(t),t.status===_&&this._onHistoryStateUpdated(),this.stack.push(t),this._updateStatus(t),this.url=t.url,this)}},{key:"_onHistoryStateUpdated",value:function(){this.isCompleted||this.redirectChain.push((0,u["default"])(this.stack).url)}},{key:"getNavigationStack",value:function(){return this.redirectChain.concat(this.url)}},{key:"_onCommitted",value:function(t){var e=(0,u["default"])(this.stack);if(t.transitionQualifiers){if(this._wasClientRedirect(t)){var n;(n=this.redirectChain).push.apply(n,i(this.previousRedirectChain).concat([this.previousUrl]))}this._wasServerRedirect(t)&&this.redirectChain.push(e.url)}e&&e.status===d||(this.previousUrl=this.url,this.previousRedirectChain=this.redirectChain.concat(),this.clear(),this.uuid=l["default"].v4())}},{key:"_wasClientRedirect",value:function(t){return t.transitionQualifiers.indexOf(b)!==-1}},{key:"_wasServerRedirect",value:function(t){return t.transitionQualifiers.indexOf(k)!==-1}},{key:"clear",value:function(){return this.url=null,this.stack.length=0,this.redirectChain.length=0,this.uuid=l["default"].v4(),this}},{key:"_updateStatus",value:function(t){var e=t.status;y.indexOf(e)!==-1&&(this.status=e)}},{key:"isEmpty",get:function(){return this.status===f}},{key:"isStarted",get:function(){return this.status===d}},{key:"isCompleted",get:function(){return this.status===g}},{key:"isFinished",get:function(){return this.isCompleted||this.isError}},{key:"isError",get:function(){return this.status===v}}]),t}();e["default"]=E},function(t,e,n){function r(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){i<16&&(e[r+i++]=c[t])});i<16;)e[r+i++]=0;return e}function i(t,e){var n=e||0,r=u;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function o(t,e,n){var r=e&&n||0,o=e||[];t=t||{};var a=void 0!==t.clockseq?t.clockseq:d,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:m+1,c=s-p+(u-m)/1e4;if(c<0&&void 0===t.clockseq&&(a=a+1&16383),(c<0||s>p)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=s,m=u,d=a,s+=122192928e5;var l=(1e4*(268435455&s)+u)%4294967296;o[r++]=l>>>24&255,o[r++]=l>>>16&255,o[r++]=l>>>8&255,o[r++]=255&l;var h=s/4294967296*1e4&268435455;o[r++]=h>>>8&255,o[r++]=255&h,o[r++]=h>>>24&15|16,o[r++]=h>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var g=t.node||f,v=0;v<6;v++)o[r+v]=g[v];return e?e:i(o)}function a(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;a++)e[r+a]=o[a];return e||i(o)}for(var s=n(220),u=[],c={},l=0;l<256;l++)u[l]=(l+256).toString(16).substr(1),c[u[l]]=l;var h=s(),f=[1|h[0],h[1],h[2],h[3],h[4],h[5]],d=16383&(h[6]<<8|h[7]),p=0,m=0,g=a;g.v1=o,g.v4=a,g.parse=r,g.unparse=i,t.exports=g},function(t,e){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=n}).call(e,function(){return this}())},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){n(this,t),this.removed=!1}return r(t,[{key:"getId",value:function(){throw new Error("Not implemented")}},{key:"merge",value:function(){throw new Error("Not implemented")}},{key:"clone",value:function(){throw new Error("Not implemented")}}]),t}();e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(223),s=r(a),u=function(){function t(e){i(this,t),this.cache=new Map,this.collections=[],this.collectionConstructor=e}return o(t,[{key:"query",value:function(t){var e=this._collectionFactory(t);return this.collections.push(e),e}},{key:"snapshot",value:function(t){return this._collectionFactory(t)}},{key:"_collectionFactory",value:function(t){var e=new this.collectionConstructor(this,t);return e.update(this.cache.values()),e}},{key:"getById",value:function(t){return this.cache.has(t)?this.cache.get(t).clone():null}},{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)||(e=[e]),e.forEach(function(e){t.cache.set(e.getId(),e)}),this._updateCollections(e),this}},{key:"merge",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!0;Array.isArray(e)||(e=[e],n=!1);var r=(0,s["default"])(e).filter(function(e){var n=e.id;return t.cache.has(n)}).map(function(e){var n=e.id,r=e.diff,i=t.cache.get(n).clone().merge(r);return t.cache.set(n,i),i;
}).value();return this._updateCollections(r),n?r:r[0]||null}},{key:"getDiffObject",value:function(t,e){return{id:t,diff:e}}},{key:"remove",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!0;Array.isArray(e)||(e=[e],n=!1);var r=(0,s["default"])(e).filter(function(e){return t.cache.has(e)}).map(function(e){var n=t.cache.get(e);return n.removed=!0,t.cache["delete"](e),n}).value();return this._updateCollections(e,"remove"),n?r:r[0]}},{key:"activateCollection",value:function(t){return this.collections.indexOf(t)===-1&&this.collections.push(t),this.reloadCollection(t)}},{key:"reloadCollection",value:function(t){return t.enabled?(t.update(this.cache.values()),t):t}},{key:"removeCollection",value:function(t){var e=this.collections.indexOf(t);e!==-1&&this.collections.splice(e,1)}},{key:"_updateCollections",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"update";this.collections.forEach(function(n){n.enabled&&n[e](t)})}},{key:"clear",value:function(){this.collections.length=0,this.cache.clear()}}]),t}();e["default"]=u,t.exports=e["default"]},function(t,e,n){var r;(function(t,i){(function(){function o(t,e){if(t!==e){var n=null===t,r=t===A,i=t===t,o=null===e,a=e===A,s=e===e;if(t>e&&!o||!i||n&&!a&&s||r&&s)return 1;if(t<e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function a(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function s(t,e,n){if(e!==e)return _(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function u(t){return"function"==typeof t||!1}function c(t){return null==t?"":t+""}function l(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function f(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function d(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,u=n.length;++r<s;){var c=o(i[r],a[r]);if(c){if(r>=u)return c;var l=n[r];return c*("asc"===l||l===!0?1:-1)}}return t.index-e.index}function p(t){return Wt[t]}function m(t){return Gt[t]}function g(t,e,n){return e?t=$t[t]:n&&(t=Xt[t]),"\\"+t}function v(t){return"\\"+Xt[t]}function _(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function y(t){return!!t&&"object"==typeof t}function b(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function k(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=W,o[++i]=n);return o}function E(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r],u=e?e(s,r,t):s;r&&n===u||(n=u,a[++o]=s)}return a}function w(t){for(var e=-1,n=t.length;++e<n&&b(t.charCodeAt(e)););return e}function x(t){for(var e=t.length;e--&&b(t.charCodeAt(e)););return e}function T(t){return Kt[t]}function C(t){function e(t){if(y(t)&&!Ss(t)&&!(t instanceof i)){if(t instanceof r)return t;if(ea.call(t,"__chain__")&&ea.call(t,"__wrapped__"))return dr(t)}return new r(t)}function n(){}function r(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oa,this.__views__=[]}function b(){var t=new i(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function Z(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function rt(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ss(t),r=e<0,i=n?t.length:0,o=Wn(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,f=0,d=wa(u,this.__takeCount__);if(!n||i<z||i==u&&d==u)return nn(r&&n?t.reverse():t,this.__actions__);var p=[];t:for(;u--&&f<d;){c+=e;for(var m=-1,g=t[c];++m<h;){var v=l[m],_=v.iteratee,y=v.type,b=_(g);if(y==q)g=b;else if(!b){if(y==Y)continue t;break t}}p[f++]=g}return p}function ot(){this.__data__={}}function Wt(t){return this.has(t)&&delete this.__data__[t]}function Gt(t){return"__proto__"==t?A:this.__data__[t]}function Kt(t){return"__proto__"!=t&&ea.call(this.__data__,t)}function Qt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function $t(t){var e=t?t.length:0;for(this.data={hash:va(null),set:new ha};e--;)this.push(t[e])}function Xt(t,e){var n=t.data,r="string"==typeof e||Li(e)?n.set.has(e):n.hash[e];return r?0:-1}function Jt(t){var e=this.data;"string"==typeof t||Li(t)?e.set.add(t):e.hash[t]=!0}function Zt(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,a=Ho(r+o);++n<r;)a[n]=t[n];for(;++i<o;)a[n++]=e[i];return a}function te(t,e){var n=-1,r=t.length;for(e||(e=Ho(r));++n<r;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function ne(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e,n,r){for(var i=-1,o=t.length,a=r,s=a;++i<o;){var u=t[i],c=+e(u);n(c,a)&&(a=c,s=u)}return s}function se(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function ue(t,e){for(var n=-1,r=t.length,i=Ho(r);++n<r;)i[n]=e(t[n],n,t);return i}function ce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function le(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function he(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function fe(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function de(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function pe(t,e){return t===A?e:t}function me(t,e,n,r){return t!==A&&ea.call(r,n)?t:e}function ge(t,e,n){for(var r=-1,i=Bs(e),o=i.length;++r<o;){var a=i[r],s=t[a],u=n(s,e[a],a,t,e);(u===u?u===s:s!==s)&&(s!==A||a in t)||(t[a]=u)}return t}function ve(t,e){return null==e?t:ye(e,Bs(e),t)}function _e(t,e){for(var n=-1,r=null==t,i=!r&&Xn(t),o=i?t.length:0,a=e.length,s=Ho(a);++n<a;){var u=e[n];i?s[n]=Jn(u,o)?t[u]:A:s[n]=r?A:t[u]}return s}function ye(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function be(t,e,n){var r=typeof t;return"function"==r?e===A?t:an(t,e,n):null==t?Oo:"object"==r?Fe(t):e===A?Lo(t):Be(t,e)}function ke(t,e,n,r,i,o,a){var s;if(n&&(s=i?n(t,r,i):n(t)),s!==A)return s;if(!Li(t))return t;var u=Ss(t);if(u){if(s=Gn(t),!e)return te(t,s)}else{var c=ra.call(t),l=c==J;if(c!=et&&c!=G&&(!l||i))return Vt[c]?Qn(t,c,e):i?t:{};if(s=Kn(l?{}:t),!e)return ve(s,t)}o||(o=[]),a||(a=[]);for(var h=o.length;h--;)if(o[h]==t)return a[h];return o.push(t),a.push(s),(u?ee:Pe)(t,function(r,i){s[i]=ke(r,e,n,i,t,o,a)}),s}function Ee(t,e,n){if("function"!=typeof t)throw new $o(V);return fa(function(){t.apply(A,n)},e)}function we(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=Yn(),a=o==s,u=a&&e.length>=z?mn(e):null,c=e.length;u&&(o=Xt,a=!1,e=u);t:for(;++i<n;){var l=t[i];if(a&&l===l){for(var h=c;h--;)if(e[h]===l)continue t;r.push(l)}else o(e,l,0)<0&&r.push(l)}return r}function xe(t,e){var n=!0;return ja(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Te(t,e,n,r){var i=r,o=i;return ja(t,function(t,a,s){var u=+e(t,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=t)}),o}function Ce(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),r=r===A||r>i?i:+r||0,r<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)t[n++]=e;return t}function Ae(t,e){var n=[];return ja(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Oe(t,e,n,r){var i;return n(t,function(t,n,o){if(e(t,n,o))return i=r?n:t,!1}),i}function Se(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];y(a)&&Xn(a)&&(n||Ss(a)||Ti(a))?e?Se(a,e,n,r):ce(r,a):n||(r[r.length]=a)}return r}function Ie(t,e){return Ua(t,e,to)}function Pe(t,e){return Ua(t,e,Bs)}function Re(t,e){return Fa(t,e,Bs)}function Ne(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];Ni(t[a])&&(o[++i]=a)}return o}function Le(t,e,n){if(null!=t){n!==A&&n in hr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&r<i;)t=t[e[r++]];return r&&r==i?t:A}}function Me(t,e,n,r,i,o){return t===e||(null==t||null==e||!Li(t)&&!y(e)?t!==t&&e!==e:je(t,e,Me,n,r,i,o))}function je(t,e,n,r,i,o,a){var s=Ss(t),u=Ss(e),c=K,l=K;s||(c=ra.call(t),c==G?c=et:c!=et&&(s=Yi(t))),u||(l=ra.call(e),l==G?l=et:l!=et&&(u=Yi(e)));var h=c==et,f=l==et,d=c==l;if(d&&!s&&!h)return Fn(t,e,c);if(!i){var p=h&&ea.call(t,"__wrapped__"),m=f&&ea.call(e,"__wrapped__");if(p||m)return n(p?t.value():t,m?e.value():e,r,i,o,a)}if(!d)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g]==e;o.push(t),a.push(e);var v=(s?Un:Bn)(t,e,n,r,i,o,a);return o.pop(),a.pop(),v}function De(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=hr(t);r--;){var a=e[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){a=e[r];var s=a[0],u=t[s],c=a[1];if(o&&a[2]){if(u===A&&!(s in t))return!1}else{var l=n?n(u,c,s):A;if(!(l===A?Me(c,u,n,!0):l))return!1}}return!0}function Ue(t,e){var n=-1,r=Xn(t)?Ho(t.length):[];return ja(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Fe(t){var e=qn(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(r!==A||n in hr(t)))}}return function(t){return De(t,e)}}function Be(t,e){var n=Ss(t),r=tr(t)&&rr(e),i=t+"";return t=fr(t),function(o){if(null==o)return!1;var a=i;if(o=hr(o),(n||!r)&&!(a in o)){if(o=1==t.length?o:Le(o,Ke(t,0,-1)),null==o)return!1;a=Cr(t),o=hr(o)}return o[a]===e?e!==A||a in o:Me(e,o[a],A,!0)}}function He(t,e,n,r,i){if(!Li(t))return t;var o=Xn(e)&&(Ss(e)||Yi(e)),a=o?A:Bs(e);return ee(a||e,function(s,u){if(a&&(u=s,s=e[u]),y(s))r||(r=[]),i||(i=[]),ze(t,e,u,He,n,r,i);else{var c=t[u],l=n?n(c,s,u,t,e):A,h=l===A;h&&(l=s),l===A&&(!o||u in t)||!h&&(l===l?l===c:c!==c)||(t[u]=l)}}),t}function ze(t,e,n,r,i,o,a){for(var s=o.length,u=e[n];s--;)if(o[s]==u)return void(t[n]=a[s]);var c=t[n],l=i?i(c,u,n,t,e):A,h=l===A;h&&(l=u,Xn(u)&&(Ss(u)||Yi(u))?l=Ss(c)?c:Xn(c)?te(c):[]:Bi(u)||Ti(u)?l=Ti(c)?Ki(c):Bi(c)?c:{}:h=!1),o.push(u),a.push(l),h?t[n]=r(l,u,i,o,a):(l===l?l!==c:c===c)&&(t[n]=l)}function Ye(t){return function(e){return null==e?A:e[t]}}function qe(t){var e=t+"";return t=fr(t),function(n){return Le(n,t,e)}}function Ve(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Jn(r)){var i=r;da.call(t,r,1)}}return t}function We(t,e){return t+_a(Ca()*(e-t+1))}function Ge(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Ke(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,e<0&&(e=-e>i?0:i+e),n=n===A||n>i?i:+n||0,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Ho(i);++r<i;)o[r]=t[r+e];return o}function Qe(t,e){var n;return ja(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function $e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Xe(t,e,n){var r=Hn(),i=-1;e=ue(e,function(t){return r(t)});var o=Ue(t,function(t){var n=ue(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return $e(o,function(t,e){return d(t,e,n)})}function Je(t,e){var n=0;return ja(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Ze(t,e){var n=-1,r=Yn(),i=t.length,o=r==s,a=o&&i>=z,u=a?mn():null,c=[];u?(r=Xt,o=!1):(a=!1,u=e?[]:c);t:for(;++n<i;){var l=t[n],h=e?e(l,n,t):l;if(o&&l===l){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),c.push(l)}else r(u,h,0)<0&&((e||a)&&u.push(h),c.push(l))}return c}function tn(t,e){for(var n=-1,r=e.length,i=Ho(r);++n<r;)i[n]=t[e[n]];return i}function en(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ke(t,r?0:o,r?o+1:i):Ke(t,r?o+1:0,r?i:o)}function nn(t,e){var n=t;n instanceof i&&(n=n.value());for(var r=-1,o=e.length;++r<o;){var a=e[r];n=a.func.apply(a.thisArg,ce([n],a.args))}return n}function rn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=Pa){for(;r<i;){var o=r+i>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?r=o+1:i=o}return i}return on(t,e,Oo,n)}function on(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s=null===e,u=e===A;i<o;){var c=_a((i+o)/2),l=n(t[c]),h=l!==A,f=l===l;if(a)var d=f||r;else d=s?f&&h&&(r||null!=l):u?f&&(r||h):null!=l&&(r?l<=e:l<e);d?i=c+1:o=c}return wa(o,Ia)}function an(t,e,n){if("function"!=typeof t)return Oo;if(e===A)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function sn(t){var e=new aa(t.byteLength),n=new pa(e);return n.set(new pa(t)),e}function un(t,e,n){for(var r=n.length,i=-1,o=Ea(t.length-r,0),a=-1,s=e.length,u=Ho(s+o);++a<s;)u[a]=e[a];for(;++i<r;)u[n[i]]=t[i];for(;o--;)u[a++]=t[i++];return u}function cn(t,e,n){for(var r=-1,i=n.length,o=-1,a=Ea(t.length-i,0),s=-1,u=e.length,c=Ho(a+u);++o<a;)c[o]=t[o];for(var l=o;++s<u;)c[l+s]=e[s];for(;++r<i;)c[l+n[r]]=t[o++];return c}function ln(t,e){return function(n,r,i){var o=e?e():{};if(r=Hn(r,i,3),Ss(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];t(o,u,r(u,a,n),n)}else ja(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function hn(t){return vi(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2?n[i-2]:A,a=i>2?n[2]:A,s=i>1?n[i-1]:A;for("function"==typeof o?(o=an(o,s,5),i-=2):(o="function"==typeof s?s:A,i-=o?1:0),a&&Zn(n[0],n[1],a)&&(o=i<3?A:o,i=1);++r<i;){var u=n[r];u&&t(e,u,o)}return e})}function fn(t,e){return function(n,r){var i=n?za(n):0;if(!nr(i))return t(n,r);for(var o=e?i:-1,a=hr(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function dn(t){return function(e,n,r){for(var i=hr(e),o=r(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return e}}function pn(t,e){function n(){var i=this&&this!==re&&this instanceof n?r:t;return i.apply(e,arguments)}var r=vn(t);return n}function mn(t){return va&&ha?new $t(t):null}function gn(t){return function(e){for(var n=-1,r=To(lo(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function vn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ma(t.prototype),r=t.apply(n,e);return Li(r)?r:n}}function _n(t){function e(n,r,i){i&&Zn(n,r,i)&&(r=A);var o=Dn(n,t,A,A,A,A,A,r);return o.placeholder=e.placeholder,o}return e}function yn(t,e){return vi(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(A,n))})}function bn(t,e){return function(n,r,i){if(i&&Zn(n,r,i)&&(r=A),r=Hn(r,i,3),1==r.length){n=Ss(n)?n:lr(n);var o=ae(n,r,t,e);if(!n.length||o!==e)return o}return Te(n,r,t,e)}}function kn(t,e){return function(n,r,i){if(r=Hn(r,i,3),Ss(n)){var o=a(n,r,e);return o>-1?n[o]:A}return Oe(n,r,t)}}function En(t){return function(e,n,r){return e&&e.length?(n=Hn(n,r,3),a(e,n,t)):-1}}function wn(t){return function(e,n,r){return n=Hn(n,r,3),Oe(e,n,t,!0)}}function xn(t){return function(){for(var e,n=arguments.length,i=t?n:-1,o=0,a=Ho(n);t?i--:++i<n;){var s=a[o++]=arguments[i];if("function"!=typeof s)throw new $o(V);!e&&r.prototype.thru&&"wrapper"==zn(s)&&(e=new r([],(!0)))}for(i=e?-1:n;++i<n;){s=a[i];var u=zn(s),c="wrapper"==u?Ha(s):A;e=c&&er(c[0])&&c[1]==(j|R|L|D)&&!c[4].length&&1==c[9]?e[zn(c[0])].apply(e,c[3]):1==s.length&&er(s)?e[u]():e.thru(s)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&Ss(r)&&r.length>=z)return e.plant(r).value();for(var i=0,o=n?a[i].apply(this,t):r;++i<n;)o=a[i].call(this,o);return o}}}function Tn(t,e){return function(n,r,i){return"function"==typeof r&&i===A&&Ss(n)?t(n,r):e(n,an(r,i,3))}}function Cn(t){return function(e,n,r){return"function"==typeof n&&r===A||(n=an(n,r,3)),t(e,n,to)}}function An(t){return function(e,n,r){return"function"==typeof n&&r===A||(n=an(n,r,3)),t(e,n)}}function On(t){return function(e,n,r){var i={};return n=Hn(n,r,3),Pe(e,function(e,r,o){var a=n(e,r,o);r=t?a:r,e=t?e:a,i[r]=e}),i}}function Sn(t){return function(e,n,r){return e=c(e),(t?e:"")+Nn(e,n,r)+(t?"":e)}}function In(t){var e=vi(function(n,r){var i=k(r,e.placeholder);return Dn(n,t,A,r,i)});return e}function Pn(t,e){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===A&&Ss(n)?t(n,r,i,a):Ge(n,Hn(r,o,4),i,a,e)}}function Rn(t,e,n,r,i,o,a,s,u,c){function l(){for(var _=arguments.length,y=_,b=Ho(_);y--;)b[y]=arguments[y];if(r&&(b=un(b,r,i)),o&&(b=cn(b,o,a)),p||g){var E=l.placeholder,w=k(b,E);if(_-=w.length,_<c){var x=s?te(s):A,T=Ea(c-_,0),C=p?w:A,O=p?A:w,P=p?b:A,R=p?A:b;e|=p?L:M,e&=~(p?M:L),m||(e&=~(S|I));var N=[t,e,n,P,C,R,O,x,u,T],j=Rn.apply(A,N);return er(t)&&Ya(j,N),j.placeholder=E,j}}var D=f?n:this,U=d?D[t]:t;return s&&(b=ur(b,s)),h&&u<b.length&&(b.length=u),this&&this!==re&&this instanceof l&&(U=v||vn(t)),U.apply(D,b)}var h=e&j,f=e&S,d=e&I,p=e&R,m=e&P,g=e&N,v=d?A:vn(t);return l}function Nn(t,e,n){var r=t.length;if(e=+e,r>=e||!ba(e))return"";var i=e-r;return n=null==n?" ":n+"",vo(n,ga(i/n.length)).slice(0,i)}function Ln(t,e,n,r){function i(){for(var e=-1,s=arguments.length,u=-1,c=r.length,l=Ho(c+s);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++e];var h=this&&this!==re&&this instanceof i?a:t;return h.apply(o?n:this,l)}var o=e&S,a=vn(t);return i}function Mn(t){var e=Vo[t];return function(t,n){return n=n===A?0:+n||0,n?(n=ca(10,n),e(t*n)/n):e(t)}}function jn(t){return function(e,n,r,i){var o=Hn(r);return null==r&&o===be?rn(e,n,t):on(e,n,o(r,i,1),t)}}function Dn(t,e,n,r,i,o,a,s){var u=e&I;if(!u&&"function"!=typeof t)throw new $o(V);var c=r?r.length:0;if(c||(e&=~(L|M),r=i=A),c-=i?i.length:0,e&M){var l=r,h=i;r=i=A}var f=u?A:Ha(t),d=[t,e,n,r,i,l,h,o,a,s];if(f&&(ir(d,f),e=d[1],s=d[9]),d[9]=null==s?u?0:t.length:Ea(s-c,0)||0,e==S)var p=pn(d[0],d[2]);else p=e!=L&&e!=(S|L)||d[4].length?Rn.apply(A,d):Ln.apply(A,d);var m=f?Ba:Ya;return m(p,d)}function Un(t,e,n,r,i,o,a){var s=-1,u=t.length,c=e.length;if(u!=c&&!(i&&c>u))return!1;for(;++s<u;){var l=t[s],h=e[s],f=r?r(i?h:l,i?l:h,s):A;if(f!==A){if(f)continue;return!1}if(i){if(!fe(e,function(t){return l===t||n(l,t,r,i,o,a)}))return!1}else if(l!==h&&!n(l,h,r,i,o,a))return!1}return!0}function Fn(t,e,n){switch(n){case Q:case $:return+t==+e;case X:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case nt:case it:return t==e+""}return!1}function Bn(t,e,n,r,i,o,a){var s=Bs(t),u=s.length,c=Bs(e),l=c.length;if(u!=l&&!i)return!1;for(var h=u;h--;){var f=s[h];if(!(i?f in e:ea.call(e,f)))return!1}for(var d=i;++h<u;){f=s[h];var p=t[f],m=e[f],g=r?r(i?m:p,i?p:m,f):A;if(!(g===A?n(p,m,r,i,o,a):g))return!1;d||(d="constructor"==f)}if(!d){var v=t.constructor,_=e.constructor;if(v!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _))return!1}return!0}function Hn(t,n,r){var i=e.callback||Co;return i=i===Co?be:i,r?i(t,n,r):i}function zn(t){for(var e=t.name,n=La[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Yn(t,n,r){var i=e.indexOf||xr;return i=i===xr?s:i,t?i(t,n,r):i}function qn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=rr(e[n][1]);return e}function Vn(t,e){var n=null==t?A:t[e];return Di(n)?n:A}function Wn(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wa(e,t+a);break;case"takeRight":t=Ea(t,e-a)}}return{start:t,end:e}}function Gn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ea.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Kn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Go),new e}function Qn(t,e,n){var r=t.constructor;switch(e){case at:return sn(t);case Q:case $:return new r((+t));case st:case ut:case ct:case lt:case ht:case ft:case dt:case pt:case mt:var i=t.buffer;return new r(n?sn(i):i,t.byteOffset,t.length);case tt:case it:return new r(t);case nt:var o=new r(t.source,Lt.exec(t));o.lastIndex=t.lastIndex}return o}function $n(t,e,n){null==t||tr(e,t)||(e=fr(e),t=1==e.length?t:Le(t,Ke(e,0,-1)),e=Cr(e));var r=null==t?t:t[e];return null==r?A:r.apply(t,n)}function Xn(t){return null!=t&&nr(za(t))}function Jn(t,e){return t="number"==typeof t||Dt.test(t)?+t:-1,e=null==e?Ra:e,t>-1&&t%1==0&&t<e}function Zn(t,e,n){if(!Li(n))return!1;var r=typeof e;if("number"==r?Xn(n)&&Jn(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function tr(t,e){var n=typeof t;if("string"==n&&At.test(t)||"number"==n)return!0;if(Ss(t))return!1;var r=!Ct.test(t);return r||null!=e&&t in hr(e)}function er(t){var n=zn(t);if(!(n in i.prototype))return!1;var r=e[n];if(t===r)return!0;var o=Ha(r);return!!o&&t===o[0]}function nr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ra}function rr(t){return t===t&&!Li(t)}function ir(t,e){var n=t[1],r=e[1],i=n|r,o=i<j,a=r==j&&n==R||r==j&&n==D&&t[7].length<=e[8]||r==(j|D)&&n==R;if(!o&&!a)return t;r&S&&(t[2]=e[2],i|=n&S?0:P);var s=e[3];if(s){var u=t[3];t[3]=u?un(u,s,e[4]):te(s),t[4]=u?k(t[3],W):te(e[4])}return s=e[5],s&&(u=t[5],t[5]=u?cn(u,s,e[6]):te(s),t[6]=u?k(t[5],W):te(e[6])),s=e[7],s&&(t[7]=te(s)),r&j&&(t[8]=null==t[8]?e[8]:wa(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function or(t,e){return t===A?e:Is(t,e,or)}function ar(t,e){t=hr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function sr(t,e){var n={};return Ie(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function ur(t,e){for(var n=t.length,r=wa(e.length,n),i=te(t);r--;){var o=e[r];t[r]=Jn(o,n)?i[o]:A}return t}function cr(t){for(var e=to(t),n=e.length,r=n&&t.length,i=!!r&&nr(r)&&(Ss(t)||Ti(t)),o=-1,a=[];++o<n;){var s=e[o];(i&&Jn(s,r)||ea.call(t,s))&&a.push(s)}return a}function lr(t){return null==t?[]:Xn(t)?Li(t)?t:Go(t):oo(t)}function hr(t){return Li(t)?t:Go(t)}function fr(t){if(Ss(t))return t;var e=[];return c(t).replace(Ot,function(t,n,r,i){e.push(r?i.replace(Rt,"$1"):n||t)}),e}function dr(t){return t instanceof i?t.clone():new r(t.__wrapped__,t.__chain__,te(t.__actions__))}function pr(t,e,n){e=(n?Zn(t,e,n):null==e)?1:Ea(_a(e)||1,1);for(var r=0,i=t?t.length:0,o=-1,a=Ho(ga(i/e));r<i;)a[++o]=Ke(t,r,r+=e);return a}function mr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function gr(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),Ke(t,e<0?0:e)):[]}function vr(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ke(t,0,e<0?0:e)):[]}function _r(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!0,!0):[]}function yr(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!0):[]}function br(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Zn(t,e,n)&&(n=0,r=i),Ce(t,e,n,r)):[]}function kr(t){return t?t[0]:A}function Er(t,e,n){var r=t?t.length:0;return n&&Zn(t,e,n)&&(e=!1),r?Se(t,e):[]}function wr(t){var e=t?t.length:0;return e?Se(t,!0):[]}function xr(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?Ea(r+n,0):n;else if(n){var i=rn(t,e);return i<r&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return s(t,e,n||0)}function Tr(t){return vr(t,1)}function Cr(t){var e=t?t.length:0;return e?t[e-1]:A}function Ar(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?Ea(r+n,0):wa(n||0,r-1))+1;else if(n){i=rn(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return _(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Or(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Yn(),i=t.length;++n<i;)for(var o=0,a=t[n];(o=r(e,a,o))>-1;)da.call(e,o,1);return e}function Sr(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(e=Hn(e,n,3);++i<a;){var s=t[i];e(s,i,t)&&(r.push(s),o.push(i))}return Ve(t,o),r}function Ir(t){return gr(t,1)}function Pr(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Zn(t,e,n)&&(e=0,n=r),Ke(t,e,n)):[]}function Rr(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),Ke(t,0,e<0?0:e)):[]}function Nr(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ke(t,e<0?0:e)):[]}function Lr(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!1,!0):[]}function Mr(t,e,n){return t&&t.length?en(t,Hn(e,n,3)):[]}function jr(t,e,n,r){var i=t?t.length:0;if(!i)return[];null!=e&&"boolean"!=typeof e&&(r=n,n=Zn(t,e,r)?A:e,e=!1);var o=Hn();return null==n&&o===be||(n=o(n,r,3)),e&&Yn()==s?E(t,n):Ze(t,n)}function Dr(t){if(!t||!t.length)return[];var e=-1,n=0;t=se(t,function(t){if(Xn(t))return n=Ea(t.length,n),!0});for(var r=Ho(n);++e<n;)r[e]=ue(t,Ye(e));return r}function Ur(t,e,n){var r=t?t.length:0;if(!r)return[];var i=Dr(t);return null==e?i:(e=an(e,n,4),ue(i,function(t){return le(t,e,A,!0)}))}function Fr(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Xn(n))var r=r?ce(we(r,n),we(n,r)):n}return r?Ze(r):[]}function Br(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Ss(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Hr(t){var n=e(t);return n.__chain__=!0,n}function zr(t,e,n){return e.call(n,t),t}function Yr(t,e,n){return e.call(n,t)}function qr(){return Hr(this)}function Vr(){return new r(this.value(),this.__chain__)}function Wr(t){for(var e,r=this;r instanceof n;){var i=dr(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function Gr(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof i){var n=t;return this.__actions__.length&&(n=new i(this)),n=n.reverse(),n.__actions__.push({func:Yr,args:[e],thisArg:A}),new r(n,this.__chain__)}return this.thru(e)}function Kr(){return this.value()+""}function Qr(){return nn(this.__wrapped__,this.__actions__)}function $r(t,e,n){var r=Ss(t)?oe:xe;return n&&Zn(t,e,n)&&(e=A),"function"==typeof e&&n===A||(e=Hn(e,n,3)),r(t,e)}function Xr(t,e,n){var r=Ss(t)?se:Ae;return e=Hn(e,n,3),r(t,e)}function Jr(t,e){return is(t,Fe(e))}function Zr(t,e,n,r){var i=t?za(t):0;return nr(i)||(t=oo(t),i=t.length),n="number"!=typeof n||r&&Zn(e,n,r)?0:n<0?Ea(i+n,0):n||0,"string"==typeof t||!Ss(t)&&zi(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Yn(t,e,n)>-1}function ti(t,e,n){var r=Ss(t)?ue:Ue;return e=Hn(e,n,3),r(t,e)}function ei(t,e){return ti(t,Lo(e))}function ni(t,e,n){var r=Ss(t)?se:Ae;return e=Hn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function ri(t,e,n){if(n?Zn(t,e,n):null==e){t=lr(t);var r=t.length;return r>0?t[We(0,r-1)]:A}var i=-1,o=Gi(t),r=o.length,a=r-1;for(e=wa(e<0?0:+e||0,r);++i<e;){var s=We(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=e,o}function ii(t){return ri(t,Oa)}function oi(t){var e=t?za(t):0;return nr(e)?e:Bs(t).length}function ai(t,e,n){var r=Ss(t)?fe:Qe;return n&&Zn(t,e,n)&&(e=A),"function"==typeof e&&n===A||(e=Hn(e,n,3)),r(t,e)}function si(t,e,n){if(null==t)return[];n&&Zn(t,e,n)&&(e=A);var r=-1;e=Hn(e,n,3);var i=Ue(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}});return $e(i,f)}function ui(t,e,n,r){return null==t?[]:(r&&Zn(e,n,r)&&(n=A),Ss(e)||(e=null==e?[]:[e]),Ss(n)||(n=null==n?[]:[n]),Xe(t,e,n))}function ci(t,e){return Xr(t,Fe(e))}function li(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new $o(V);var n=t;t=e,e=n}return t=ba(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function hi(t,e,n){return n&&Zn(t,e,n)&&(e=A),e=t&&null==e?t.length:Ea(+e||0,0),Dn(t,j,A,A,A,A,e)}function fi(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new $o(V);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=A),n}}function di(t,e,n){function r(){d&&sa(d),c&&sa(c),m=0,c=d=p=A}function i(e,n){n&&sa(n),c=d=p=A,e&&(m=ms(),l=t.apply(f,u),d||c||(u=f=A))}function o(){var t=e-(ms()-h);t<=0||t>e?i(p,c):d=fa(o,t)}function a(){i(v,d)}function s(){if(u=arguments,h=ms(),f=this,p=v&&(d||!_),g===!1)var n=_&&!d;else{c||_||(m=h);var r=g-(h-m),i=r<=0||r>g;i?(c&&(c=sa(c)),m=h,l=t.apply(f,u)):c||(c=fa(a,r))}return i&&d?d=sa(d):d||e===g||(d=fa(o,e)),n&&(i=!0,l=t.apply(f,u)),!i||d||c||(u=f=A),l}var u,c,l,h,f,d,p,m=0,g=!1,v=!0;if("function"!=typeof t)throw new $o(V);if(e=e<0?0:+e||0,n===!0){var _=!0;v=!1}else Li(n)&&(_=!!n.leading,g="maxWait"in n&&Ea(+n.maxWait||0,e),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function pi(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new $o(V);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new pi.Cache,n}function mi(t){if("function"!=typeof t)throw new $o(V);return function(){return!t.apply(this,arguments)}}function gi(t){return fi(2,t)}function vi(t,e){if("function"!=typeof t)throw new $o(V);return e=Ea(e===A?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=Ea(n.length-e,0),o=Ho(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=Ho(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=o,t.apply(this,a)}}function _i(t){if("function"!=typeof t)throw new $o(V);return function(e){return t.apply(this,e)}}function yi(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new $o(V);return n===!1?r=!1:Li(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),di(t,e,{leading:r,maxWait:+e,trailing:i})}function bi(t,e){return e=null==e?Oo:e,Dn(e,L,A,[t],[])}function ki(t,e,n,r){return e&&"boolean"!=typeof e&&Zn(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?ke(t,e,an(n,r,1)):ke(t,e)}function Ei(t,e,n){return"function"==typeof e?ke(t,!0,an(e,n,1)):ke(t,!0)}function wi(t,e){return t>e}function xi(t,e){return t>=e}function Ti(t){return y(t)&&Xn(t)&&ea.call(t,"callee")&&!la.call(t,"callee")}function Ci(t){return t===!0||t===!1||y(t)&&ra.call(t)==Q}function Ai(t){return y(t)&&ra.call(t)==$}function Oi(t){return!!t&&1===t.nodeType&&y(t)&&!Bi(t)}function Si(t){return null==t||(Xn(t)&&(Ss(t)||zi(t)||Ti(t)||y(t)&&Ni(t.splice))?!t.length:!Bs(t).length)}function Ii(t,e,n,r){n="function"==typeof n?an(n,r,3):A;var i=n?n(t,e):A;return i===A?Me(t,e,n):!!i}function Pi(t){return y(t)&&"string"==typeof t.message&&ra.call(t)==X}function Ri(t){return"number"==typeof t&&ba(t)}function Ni(t){return Li(t)&&ra.call(t)==J}function Li(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Mi(t,e,n,r){return n="function"==typeof n?an(n,r,3):A,De(t,qn(e),n)}function ji(t){return Fi(t)&&t!=+t}function Di(t){return null!=t&&(Ni(t)?oa.test(ta.call(t)):y(t)&&jt.test(t))}function Ui(t){return null===t}function Fi(t){return"number"==typeof t||y(t)&&ra.call(t)==tt}function Bi(t){var e;if(!y(t)||ra.call(t)!=et||Ti(t)||!ea.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Ie(t,function(t,e){n=e}),n===A||ea.call(t,n)}function Hi(t){return Li(t)&&ra.call(t)==nt}function zi(t){return"string"==typeof t||y(t)&&ra.call(t)==it}function Yi(t){return y(t)&&nr(t.length)&&!!qt[ra.call(t)]}function qi(t){return t===A}function Vi(t,e){return t<e}function Wi(t,e){return t<=e}function Gi(t){var e=t?za(t):0;return nr(e)?e?te(t):[]:oo(t)}function Ki(t){return ye(t,to(t))}function Qi(t,e,n){var r=Ma(t);return n&&Zn(t,e,n)&&(e=A),e?ve(r,e):r}function $i(t){return Ne(t,to(t))}function Xi(t,e,n){var r=null==t?A:Le(t,fr(e),e+"");return r===A?n:r}function Ji(t,e){if(null==t)return!1;var n=ea.call(t,e);if(!n&&!tr(e)){if(e=fr(e),t=1==e.length?t:Le(t,Ke(e,0,-1)),null==t)return!1;e=Cr(e),n=ea.call(t,e)}return n||nr(t.length)&&Jn(e,t.length)&&(Ss(t)||Ti(t))}function Zi(t,e,n){n&&Zn(t,e,n)&&(e=A);for(var r=-1,i=Bs(t),o=i.length,a={};++r<o;){var s=i[r],u=t[s];e?ea.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function to(t){if(null==t)return[];Li(t)||(t=Go(t));var e=t.length;e=e&&nr(e)&&(Ss(t)||Ti(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=Ho(e),a=e>0;++r<e;)o[r]=r+"";for(var s in t)a&&Jn(s,e)||"constructor"==s&&(i||!ea.call(t,s))||o.push(s);return o}function eo(t){t=hr(t);for(var e=-1,n=Bs(t),r=n.length,i=Ho(r);++e<r;){
var o=n[e];i[e]=[o,t[o]]}return i}function no(t,e,n){var r=null==t?A:t[e];return r===A&&(null==t||tr(e,t)||(e=fr(e),t=1==e.length?t:Le(t,Ke(e,0,-1)),r=null==t?A:t[Cr(e)]),r=r===A?n:r),Ni(r)?r.call(t):r}function ro(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||tr(e,t)?[r]:fr(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=e[i];Li(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=Jn(e[i+1])?[]:{})),s=s[u]}return t}function io(t,e,n,r){var i=Ss(t)||Yi(t);if(e=Hn(e,r,4),null==n)if(i||Li(t)){var o=t.constructor;n=i?Ss(t)?new o:[]:Ma(Ni(o)?o.prototype:A)}else n={};return(i?ee:Pe)(t,function(t,r,i){return e(n,t,r,i)}),n}function oo(t){return tn(t,Bs(t))}function ao(t){return tn(t,to(t))}function so(t,e,n){return e=+e||0,n===A?(n=e,e=0):n=+n||0,t>=wa(e,n)&&t<Ea(e,n)}function uo(t,e,n){n&&Zn(t,e,n)&&(e=n=A);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Ca();return wa(t+o*(e-t+ua("1e-"+((o+"").length-1))),e)}return We(t,e)}function co(t){return t=c(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function lo(t){return t=c(t),t&&t.replace(Ut,p).replace(Pt,"")}function ho(t,e,n){t=c(t),e+="";var r=t.length;return n=n===A?r:wa(n<0?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function fo(t){return t=c(t),t&&Et.test(t)?t.replace(bt,m):t}function po(t){return t=c(t),t&&It.test(t)?t.replace(St,g):t||"(?:)"}function mo(t,e,n){t=c(t),e=+e;var r=t.length;if(r>=e||!ba(e))return t;var i=(e-r)/2,o=_a(i),a=ga(i);return n=Nn("",a,n),n.slice(0,o)+t+n}function go(t,e,n){return(n?Zn(t,e,n):null==e)?e=0:e&&(e=+e),t=bo(t),Ta(t,e||(Mt.test(t)?16:10))}function vo(t,e){var n="";if(t=c(t),e=+e,e<1||!t||!ba(e))return n;do e%2&&(n+=t),e=_a(e/2),t+=t;while(e);return n}function _o(t,e,n){return t=c(t),n=null==n?0:wa(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function yo(t,n,r){var i=e.templateSettings;r&&Zn(t,n,r)&&(n=r=A),t=c(t),n=ge(ve({},r||n),i,me);var o,a,s=ge(ve({},n.imports),i.imports,me),u=Bs(s),l=tn(s,u),h=0,f=n.interpolate||Ft,d="__p += '",p=Ko((n.escape||Ft).source+"|"+f.source+"|"+(f===Tt?Nt:Ft).source+"|"+(n.evaluate||Ft).source+"|$","g"),m="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Yt+"]")+"\n";t.replace(p,function(e,n,r,i,s,u){return r||(r=i),d+=t.slice(h,u).replace(Bt,v),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=u+e.length,e}),d+="';\n";var g=n.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(gt,""):d).replace(vt,"$1").replace(_t,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var _=Xs(function(){return qo(u,m+"return "+d).apply(A,l)});if(_.source=d,Pi(_))throw _;return _}function bo(t,e,n){var r=t;return(t=c(t))?(n?Zn(r,e,n):null==e)?t.slice(w(t),x(t)+1):(e+="",t.slice(l(t,e),h(t,e)+1)):t}function ko(t,e,n){var r=t;return t=c(t),t?(n?Zn(r,e,n):null==e)?t.slice(w(t)):t.slice(l(t,e+"")):t}function Eo(t,e,n){var r=t;return t=c(t),t?(n?Zn(r,e,n):null==e)?t.slice(0,x(t)+1):t.slice(0,h(t,e+"")+1):t}function wo(t,e,n){n&&Zn(t,e,n)&&(e=A);var r=U,i=F;if(null!=e)if(Li(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?c(e.omission):i}else r=+e||0;if(t=c(t),r>=t.length)return t;var a=r-i.length;if(a<1)return i;var s=t.slice(0,a);if(null==o)return s+i;if(Hi(o)){if(t.slice(a).search(o)){var u,l,h=t.slice(0,a);for(o.global||(o=Ko(o.source,(Lt.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(h);)l=u.index;s=s.slice(0,null==l?a:l)}}else if(t.indexOf(o,a)!=a){var f=s.lastIndexOf(o);f>-1&&(s=s.slice(0,f))}return s+i}function xo(t){return t=c(t),t&&kt.test(t)?t.replace(yt,T):t}function To(t,e,n){return n&&Zn(t,e,n)&&(e=A),t=c(t),t.match(e||Ht)||[]}function Co(t,e,n){return n&&Zn(t,e,n)&&(e=A),y(t)?So(t):be(t,e)}function Ao(t){return function(){return t}}function Oo(t){return t}function So(t){return Fe(ke(t,!0))}function Io(t,e){return Be(t,ke(e,!0))}function Po(t,e,n){if(null==n){var r=Li(e),i=r?Bs(e):A,o=i&&i.length?Ne(e,i):A;(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Ne(e,Bs(e)));var a=!0,s=-1,u=Ni(t),c=o.length;n===!1?a=!1:Li(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var l=o[s],h=e[l];t[l]=h,u&&(t.prototype[l]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__),i=r.__actions__=te(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,ce([this.value()],arguments))}}(h))}return t}function Ro(){return re._=ia,this}function No(){}function Lo(t){return tr(t)?Ye(t):qe(t)}function Mo(t){return function(e){return Le(t,fr(e),e+"")}}function jo(t,e,n){n&&Zn(t,e,n)&&(e=n=A),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=Ea(ga((e-t)/(n||1)),0),o=Ho(i);++r<i;)o[r]=t,t+=n;return o}function Do(t,e,n){if(t=_a(t),t<1||!ba(t))return[];var r=-1,i=Ho(wa(t,Sa));for(e=an(e,n,1);++r<t;)r<Sa?i[r]=e(r):e(r);return i}function Uo(t){var e=++na;return c(t)+e}function Fo(t,e){return(+t||0)+(+e||0)}function Bo(t,e,n){return n&&Zn(t,e,n)&&(e=A),e=Hn(e,n,3),1==e.length?de(Ss(t)?t:lr(t),e):Je(t,e)}t=t?ie.defaults(re.Object(),t,ie.pick(re,zt)):re;var Ho=t.Array,zo=t.Date,Yo=t.Error,qo=t.Function,Vo=t.Math,Wo=t.Number,Go=t.Object,Ko=t.RegExp,Qo=t.String,$o=t.TypeError,Xo=Ho.prototype,Jo=Go.prototype,Zo=Qo.prototype,ta=qo.prototype.toString,ea=Jo.hasOwnProperty,na=0,ra=Jo.toString,ia=re._,oa=Ko("^"+ta.call(ea).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=t.ArrayBuffer,sa=t.clearTimeout,ua=t.parseFloat,ca=Vo.pow,la=Jo.propertyIsEnumerable,ha=Vn(t,"Set"),fa=t.setTimeout,da=Xo.splice,pa=t.Uint8Array,ma=Vn(t,"WeakMap"),ga=Vo.ceil,va=Vn(Go,"create"),_a=Vo.floor,ya=Vn(Ho,"isArray"),ba=t.isFinite,ka=Vn(Go,"keys"),Ea=Vo.max,wa=Vo.min,xa=Vn(zo,"now"),Ta=t.parseInt,Ca=Vo.random,Aa=Wo.NEGATIVE_INFINITY,Oa=Wo.POSITIVE_INFINITY,Sa=4294967295,Ia=Sa-1,Pa=Sa>>>1,Ra=9007199254740991,Na=ma&&new ma,La={};e.support={};e.templateSettings={escape:wt,evaluate:xt,interpolate:Tt,variable:"",imports:{_:e}};var Ma=function(){function t(){}return function(e){if(Li(e)){t.prototype=e;var n=new t;t.prototype=A}return n||{}}}(),ja=fn(Pe),Da=fn(Re,!0),Ua=dn(),Fa=dn(!0),Ba=Na?function(t,e){return Na.set(t,e),t}:Oo,Ha=Na?function(t){return Na.get(t)}:No,za=Ye("length"),Ya=function(){var t=0,e=0;return function(n,r){var i=ms(),o=H-(i-e);if(e=i,o>0){if(++t>=B)return n}else t=0;return Ba(n,r)}}(),qa=vi(function(t,e){return y(t)&&Xn(t)?we(t,Se(e,!1,!0)):[]}),Va=En(),Wa=En(!0),Ga=vi(function(t){for(var e=t.length,n=e,r=Ho(h),i=Yn(),o=i==s,a=[];n--;){var u=t[n]=Xn(u=t[n])?u:[];r[n]=o&&u.length>=120?mn(n&&u):null}var c=t[0],l=-1,h=c?c.length:0,f=r[0];t:for(;++l<h;)if(u=c[l],(f?Xt(f,u):i(a,u,0))<0){for(var n=e;--n;){var d=r[n];if((d?Xt(d,u):i(t[n],u,0))<0)continue t}f&&f.push(u),a.push(u)}return a}),Ka=vi(function(t,e){e=Se(e);var n=_e(t,e);return Ve(t,e.sort(o)),n}),Qa=jn(),$a=jn(!0),Xa=vi(function(t){return Ze(Se(t,!1,!0))}),Ja=vi(function(t,e){return Xn(t)?we(t,e):[]}),Za=vi(Dr),ts=vi(function(t){var e=t.length,n=e>2?t[e-2]:A,r=e>1?t[e-1]:A;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):A,r=A),t.length=e,Ur(t,n,r)}),es=vi(function(t){return t=Se(t),this.thru(function(e){return Zt(Ss(e)?e:[hr(e)],t)})}),ns=vi(function(t,e){return _e(t,Se(e))}),rs=ln(function(t,e,n){ea.call(t,n)?++t[n]:t[n]=1}),is=kn(ja),os=kn(Da,!0),as=Tn(ee,ja),ss=Tn(ne,Da),us=ln(function(t,e,n){ea.call(t,n)?t[n].push(e):t[n]=[e]}),cs=ln(function(t,e,n){t[n]=e}),ls=vi(function(t,e,n){var r=-1,i="function"==typeof e,o=tr(e),a=Xn(t)?Ho(t.length):[];return ja(t,function(t){var s=i?e:o&&null!=t?t[e]:A;a[++r]=s?s.apply(t,n):$n(t,e,n)}),a}),hs=ln(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),fs=Pn(le,ja),ds=Pn(he,Da),ps=vi(function(t,e){if(null==t)return[];var n=e[2];return n&&Zn(e[0],e[1],n)&&(e.length=1),Xe(t,Se(e),[])}),ms=xa||function(){return(new zo).getTime()},gs=vi(function(t,e,n){var r=S;if(n.length){var i=k(n,gs.placeholder);r|=L}return Dn(t,r,e,n,i)}),vs=vi(function(t,e){e=e.length?Se(e):$i(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Dn(t[i],S,t)}return t}),_s=vi(function(t,e,n){var r=S|I;if(n.length){var i=k(n,_s.placeholder);r|=L}return Dn(e,r,t,n,i)}),ys=_n(R),bs=_n(N),ks=vi(function(t,e){return Ee(t,1,e)}),Es=vi(function(t,e,n){return Ee(t,e,n)}),ws=xn(),xs=xn(!0),Ts=vi(function(t,e){if(e=Se(e),"function"!=typeof t||!oe(e,u))throw new $o(V);var n=e.length;return vi(function(r){for(var i=wa(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),Cs=In(L),As=In(M),Os=vi(function(t,e){return Dn(t,D,A,A,A,Se(e))}),Ss=ya||function(t){return y(t)&&nr(t.length)&&ra.call(t)==K},Is=hn(He),Ps=hn(function(t,e,n){return n?ge(t,e,n):ve(t,e)}),Rs=yn(Ps,pe),Ns=yn(Is,or),Ls=wn(Pe),Ms=wn(Re),js=Cn(Ua),Ds=Cn(Fa),Us=An(Pe),Fs=An(Re),Bs=ka?function(t){var e=null==t?A:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Xn(t)?cr(t):Li(t)?ka(t):[]}:cr,Hs=On(!0),zs=On(),Ys=vi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ue(Se(e),Qo);return ar(t,we(to(t),e))}var n=an(e[0],e[1],3);return sr(t,function(t,e,r){return!n(t,e,r)})}),qs=vi(function(t,e){return null==t?{}:"function"==typeof e[0]?sr(t,an(e[0],e[1],3)):ar(t,Se(e))}),Vs=gn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Ws=gn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Gs=Sn(),Ks=Sn(!0),Qs=gn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),$s=gn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Xs=vi(function(t,e){try{return t.apply(A,e)}catch(n){return Pi(n)?n:new Yo(n)}}),Js=vi(function(t,e){return function(n){return $n(n,t,e)}}),Zs=vi(function(t,e){return function(n){return $n(t,n,e)}}),tu=Mn("ceil"),eu=Mn("floor"),nu=bn(wi,Aa),ru=bn(Vi,Oa),iu=Mn("round");return e.prototype=n.prototype,r.prototype=Ma(n.prototype),r.prototype.constructor=r,i.prototype=Ma(n.prototype),i.prototype.constructor=i,ot.prototype["delete"]=Wt,ot.prototype.get=Gt,ot.prototype.has=Kt,ot.prototype.set=Qt,$t.prototype.push=Jt,pi.Cache=ot,e.after=li,e.ary=hi,e.assign=Ps,e.at=ns,e.before=fi,e.bind=gs,e.bindAll=vs,e.bindKey=_s,e.callback=Co,e.chain=Hr,e.chunk=pr,e.compact=mr,e.constant=Ao,e.countBy=rs,e.create=Qi,e.curry=ys,e.curryRight=bs,e.debounce=di,e.defaults=Rs,e.defaultsDeep=Ns,e.defer=ks,e.delay=Es,e.difference=qa,e.drop=gr,e.dropRight=vr,e.dropRightWhile=_r,e.dropWhile=yr,e.fill=br,e.filter=Xr,e.flatten=Er,e.flattenDeep=wr,e.flow=ws,e.flowRight=xs,e.forEach=as,e.forEachRight=ss,e.forIn=js,e.forInRight=Ds,e.forOwn=Us,e.forOwnRight=Fs,e.functions=$i,e.groupBy=us,e.indexBy=cs,e.initial=Tr,e.intersection=Ga,e.invert=Zi,e.invoke=ls,e.keys=Bs,e.keysIn=to,e.map=ti,e.mapKeys=Hs,e.mapValues=zs,e.matches=So,e.matchesProperty=Io,e.memoize=pi,e.merge=Is,e.method=Js,e.methodOf=Zs,e.mixin=Po,e.modArgs=Ts,e.negate=mi,e.omit=Ys,e.once=gi,e.pairs=eo,e.partial=Cs,e.partialRight=As,e.partition=hs,e.pick=qs,e.pluck=ei,e.property=Lo,e.propertyOf=Mo,e.pull=Or,e.pullAt=Ka,e.range=jo,e.rearg=Os,e.reject=ni,e.remove=Sr,e.rest=Ir,e.restParam=vi,e.set=ro,e.shuffle=ii,e.slice=Pr,e.sortBy=si,e.sortByAll=ps,e.sortByOrder=ui,e.spread=_i,e.take=Rr,e.takeRight=Nr,e.takeRightWhile=Lr,e.takeWhile=Mr,e.tap=zr,e.throttle=yi,e.thru=Yr,e.times=Do,e.toArray=Gi,e.toPlainObject=Ki,e.transform=io,e.union=Xa,e.uniq=jr,e.unzip=Dr,e.unzipWith=Ur,e.values=oo,e.valuesIn=ao,e.where=ci,e.without=Ja,e.wrap=bi,e.xor=Fr,e.zip=Za,e.zipObject=Br,e.zipWith=ts,e.backflow=xs,e.collect=ti,e.compose=xs,e.each=as,e.eachRight=ss,e.extend=Ps,e.iteratee=Co,e.methods=$i,e.object=Br,e.select=Xr,e.tail=Ir,e.unique=jr,Po(e,e),e.add=Fo,e.attempt=Xs,e.camelCase=Vs,e.capitalize=co,e.ceil=tu,e.clone=ki,e.cloneDeep=Ei,e.deburr=lo,e.endsWith=ho,e.escape=fo,e.escapeRegExp=po,e.every=$r,e.find=is,e.findIndex=Va,e.findKey=Ls,e.findLast=os,e.findLastIndex=Wa,e.findLastKey=Ms,e.findWhere=Jr,e.first=kr,e.floor=eu,e.get=Xi,e.gt=wi,e.gte=xi,e.has=Ji,e.identity=Oo,e.includes=Zr,e.indexOf=xr,e.inRange=so,e.isArguments=Ti,e.isArray=Ss,e.isBoolean=Ci,e.isDate=Ai,e.isElement=Oi,e.isEmpty=Si,e.isEqual=Ii,e.isError=Pi,e.isFinite=Ri,e.isFunction=Ni,e.isMatch=Mi,e.isNaN=ji,e.isNative=Di,e.isNull=Ui,e.isNumber=Fi,e.isObject=Li,e.isPlainObject=Bi,e.isRegExp=Hi,e.isString=zi,e.isTypedArray=Yi,e.isUndefined=qi,e.kebabCase=Ws,e.last=Cr,e.lastIndexOf=Ar,e.lt=Vi,e.lte=Wi,e.max=nu,e.min=ru,e.noConflict=Ro,e.noop=No,e.now=ms,e.pad=mo,e.padLeft=Gs,e.padRight=Ks,e.parseInt=go,e.random=uo,e.reduce=fs,e.reduceRight=ds,e.repeat=vo,e.result=no,e.round=iu,e.runInContext=C,e.size=oi,e.snakeCase=Qs,e.some=ai,e.sortedIndex=Qa,e.sortedLastIndex=$a,e.startCase=$s,e.startsWith=_o,e.sum=Bo,e.template=yo,e.trim=bo,e.trimLeft=ko,e.trimRight=Eo,e.trunc=wo,e.unescape=xo,e.uniqueId=Uo,e.words=To,e.all=$r,e.any=ai,e.contains=Zr,e.eq=Ii,e.detect=is,e.foldl=fs,e.foldr=ds,e.head=kr,e.include=Zr,e.inject=fs,Po(e,function(){var t={};return Pe(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=ri,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ri(e,t)}):ri(this.value())},e.VERSION=O,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){i.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new i(this);n=null==n?1:Ea(_a(n)||0,0);var o=this.clone();return r?o.__takeCount__=wa(o.__takeCount__,n):o.__views__.push({size:n,type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=q;i.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:Hn(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?Fe:Lo;i.prototype[t]=function(t){return this[n](r(t))}}),i.prototype.compact=function(){return this.filter(Oo)},i.prototype.reject=function(t,e){return t=Hn(t,e,1),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new i(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==A&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},i.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},i.prototype.toArray=function(){return this.take(Oa)},Pe(i.prototype,function(t,n){var o=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),s=e[a?"take"+("last"==n?"Right":""):n];s&&(e.prototype[n]=function(){var e=a?[1]:arguments,n=this.__chain__,u=this.__wrapped__,c=!!this.__actions__.length,l=u instanceof i,h=e[0],f=l||Ss(u);f&&o&&"function"==typeof h&&1!=h.length&&(l=f=!1);var d=function(t){return a&&n?s(t,1)[0]:s.apply(A,ce([t],e))},p={func:Yr,args:[d],thisArg:A},m=l&&!c;if(a&&!n)return m?(u=u.clone(),u.__actions__.push(p),t.call(u)):s.call(A,this.value())[0];if(!a&&f){u=m?u:new i(this);var g=t.apply(u,e);return g.__actions__.push(p),new r(g,n)}return this.thru(d)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Zo:Xo)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Pe(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name,o=La[i]||(La[i]=[]);o.push({name:n,func:r})}}),La[Rn(A,I).name]=[{name:"wrapper",func:A}],i.prototype.clone=b,i.prototype.reverse=Z,i.prototype.value=rt,e.prototype.chain=qr,e.prototype.commit=Vr,e.prototype.concat=es,e.prototype.plant=Wr,e.prototype.reverse=Gr,e.prototype.toString=Kr,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Qr,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var A,O="3.10.1",S=1,I=2,P=4,R=8,N=16,L=32,M=64,j=128,D=256,U=30,F="...",B=150,H=16,z=200,Y=1,q=2,V="Expected a function",W="__lodash_placeholder__",G="[object Arguments]",K="[object Array]",Q="[object Boolean]",$="[object Date]",X="[object Error]",J="[object Function]",Z="[object Map]",tt="[object Number]",et="[object Object]",nt="[object RegExp]",rt="[object Set]",it="[object String]",ot="[object WeakMap]",at="[object ArrayBuffer]",st="[object Float32Array]",ut="[object Float64Array]",ct="[object Int8Array]",lt="[object Int16Array]",ht="[object Int32Array]",ft="[object Uint8Array]",dt="[object Uint8ClampedArray]",pt="[object Uint16Array]",mt="[object Uint32Array]",gt=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,kt=RegExp(yt.source),Et=RegExp(bt.source),wt=/<%-([\s\S]+?)%>/g,xt=/<%([\s\S]+?)%>/g,Tt=/<%=([\s\S]+?)%>/g,Ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,At=/^\w*$/,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,St=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,It=RegExp(St.source),Pt=/[\u0300-\u036f\ufe20-\ufe23]/g,Rt=/\\(\\)?/g,Nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lt=/\w*$/,Mt=/^0[xX]/,jt=/^\[object .+?Constructor\]$/,Dt=/^\d+$/,Ut=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ft=/($^)/,Bt=/['\n\r\u2028\u2029\\]/g,Ht=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),zt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Yt=-1,qt={};qt[st]=qt[ut]=qt[ct]=qt[lt]=qt[ht]=qt[ft]=qt[dt]=qt[pt]=qt[mt]=!0,qt[G]=qt[K]=qt[at]=qt[Q]=qt[$]=qt[X]=qt[J]=qt[Z]=qt[tt]=qt[et]=qt[nt]=qt[rt]=qt[it]=qt[ot]=!1;var Vt={};Vt[G]=Vt[K]=Vt[at]=Vt[Q]=Vt[$]=Vt[st]=Vt[ut]=Vt[ct]=Vt[lt]=Vt[ht]=Vt[tt]=Vt[et]=Vt[nt]=Vt[it]=Vt[ft]=Vt[dt]=Vt[pt]=Vt[mt]=!0,Vt[X]=Vt[J]=Vt[Z]=Vt[rt]=Vt[ot]=!1;var Wt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Kt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Qt={"function":!0,object:!0},$t={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jt=Qt[typeof e]&&e&&!e.nodeType&&e,Zt=Qt[typeof t]&&t&&!t.nodeType&&t,te=Jt&&Zt&&"object"==typeof i&&i&&i.Object&&i,ee=Qt[typeof self]&&self&&self.Object&&self,ne=Qt[typeof window]&&window&&window.Object&&window,re=(Zt&&Zt.exports===Jt&&Jt,te||ne!==(this&&this.window)&&ne||ee||this),ie=C();re._=ie,r=function(){return ie}.call(e,n,e,t),!(r!==A&&(t.exports=r))}).call(this)}).call(e,n(186)(t),function(){return this}())},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(206),u=r(s),c=function(){function t(e,n){o(this,t),this.onUpdated=new u["default"],this.storage=e,this.cache=new Map,this.enabled=!0,this.query=n}return a(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=[],r=[],i=[],o=!0,a=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;this._processItem(l,n,i,r,e)}}catch(h){a=!0,s=h}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw s}}var f=[n,r,i].some(function(t){return t.length});return f&&this.onUpdated.dispatch(this,{inserted:n,excluded:i,updated:r,old:e}),this}},{key:"_processItem",value:function(t,e,n,r,i){var o=t.getId(),a=this.cache.has(o),s=this.query(t);if(s||a)return a?s?void this._updateItem(o,t,r,i):void this._excludeItem(o,n):void this._insertItem(o,t,e)}},{key:"_insertItem",value:function(t,e,n){e=e.clone(),this.cache.set(t,e),n.push(e)}},{key:"_excludeItem",value:function(t,e){var n=this.cache.get(t);e.push(n),this.cache["delete"](t)}},{key:"_updateItem",value:function(t,e,n,r){var i=this.cache.get(t);e=e.clone(),r.push(i),n.push(e),this.cache.set(t,e)}},{key:"remove",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return e.forEach(function(e){t.cache.has(e)&&(n.push(t.cache.get(e)),t.cache["delete"](e))}),n.length&&this.onUpdated.dispatch(this,{removed:n}),this}},{key:"reload",value:function(){return this.storage.reloadCollection(this),this}},{key:"destroy",value:function(){return this.storage.removeCollection(this),this.onUpdated.removeAll(),this.cache.clear(),this}},{key:"enable",value:function(){return this.enabled=!0,this.storage.activateCollection(this),this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"forEach",value:function(t,e){this.toArray().forEach(t,e)}},{key:"map",value:function(t,e){return this.toArray().map(t,e)}},{key:"reduce",value:function(t,e){return this.toArray().reduce(t,e)}},{key:"some",value:function(t,e){return this.toArray().some(t,e)}},{key:"every",value:function(t,e){return this.toArray().every(t,e)}},{key:"toArray",value:function(){return[].concat(i(this.values))}},{key:"values",get:function(){return this.cache.values()}},{key:"size",get:function(){return this.cache.size}}]),t}();e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(206),s=r(a),u=n(218),c=u.NAVIGATION_STATUS.BEFORE_NAVIGATE,l=u.NAVIGATION_STATUS.COMMITTED,h=u.NAVIGATION_STATUS.DOM_CONTENT_LOADED,f=u.NAVIGATION_STATUS.COMPLETED,d=u.NAVIGATION_STATUS.ERROR_OCCURRED,p=u.NAVIGATION_STATUS.HISTORY_STATE_UPDATED,m=u.NAVIGATION_STATUS.REFERENCE_FRAGMENT_UPDATED,g=function(){function t(){i(this,t),this._createSignals(),this._listenNav()}return o(t,[{key:"_createSignals",value:function(){this.onNavigationUpdated=new s["default"]}},{key:"_listenNav",value:function(){chrome.webNavigation.onBeforeNavigate.addListener(this._onBeforeNavigate.bind(this)),chrome.webNavigation.onCommitted.addListener(this._onCommitted.bind(this)),chrome.webNavigation.onDOMContentLoaded.addListener(this._onDOMContentLoaded.bind(this)),chrome.webNavigation.onCompleted.addListener(this._onCompleted.bind(this)),chrome.webNavigation.onErrorOccurred.addListener(this._onErrorOccurred.bind(this)),chrome.webNavigation.onReferenceFragmentUpdated&&chrome.webNavigation.onReferenceFragmentUpdated.addListener(this._onNavigationUpdated.bind(this,m)),chrome.webNavigation.onHistoryStateUpdated&&chrome.webNavigation.onHistoryStateUpdated.addListener(this._onNavigationUpdated.bind(this,p))}},{key:"_onNavigationUpdated",value:function(t,e){this._onCommitted(e,t)}},{key:"_onErrorOccurred",value:function(t){var e=t.frameId,n=t.url,r=t.tabId,i=t.error;0===e&&this.onNavigationUpdated.dispatch({tabId:r,error:i,url:n,status:d})}},{key:"_onCompleted",value:function(t){var e=t.frameId,n=t.tabId,r=t.url;0===e&&this.onNavigationUpdated.dispatch({tabId:n,url:r,status:f})}},{key:"_onDOMContentLoaded",value:function(t){var e=t.frameId,n=t.url,r=t.tabId;0===e&&this.onNavigationUpdated.dispatch({tabId:r,url:n,status:h})}},{key:"_onCommitted",value:function(t){var e=t.frameId,n=t.transitionType,r=t.transitionQualifiers,i=t.url,o=t.tabId,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;0===e&&this.onNavigationUpdated.dispatch({tabId:o,transitionType:n,transitionQualifiers:r,url:i,status:a})}},{key:"_onBeforeNavigate",value:function(t){var e=t.frameId,n=t.tabId,r=t.url;0===e&&this.onNavigationUpdated.dispatch({tabId:n,url:r,status:c})}}]),t}();e["default"]=g,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(223),s=r(a),u=["onListenerAdded","onListenerRemoved","onFirstListenerAdded","onLastListenerRemoved"],c=function(){function t(e,n){var r=this;i(this,t),this._listeners=[],this._mute=!1,this._name=e||"",this._noInnerEvents=Boolean(n),n||u.forEach(function(e){return r[e]=new t(e,(!0))})}return o(t,[{key:"addListener",value:function(t,e){this._ensureFunction(t),this._listeners.push({callback:t,context:e}),this._dispatchInnerAddEvents(t,e)}},{key:"removeListener",value:function(t,e){this._ensureFunction(t);var n=this._indexOfListener(t,e);n>=0&&this._listeners.splice(n,1),this._dispatchInnerRemoveEvents(t,e)}},{key:"hasListener",value:function(t,e){return this._ensureFunction(t),this._indexOfListener(t,e)>=0}},{key:"hasListeners",value:function(){return this._listeners.length>0}},{key:"dispatch",value:function(){var t=arguments;this._mute||this._listeners.forEach(function(e){e.callback.apply(e.context,t)})}},{key:"mute",value:function(){this._mute=!0}},{key:"unmute",value:function(){this._mute=!1}},{key:"_ensureFunction",value:function(t){if("function"!=typeof t)throw new Error("Channel "+this._name+": listener is not a function")}},{key:"_dispatchInnerAddEvents",value:function(t,e){this._noInnerEvents||(this.onListenerAdded.dispatch(t,e),1===this._listeners.length&&this.onFirstListenerAdded.dispatch(t,e))}},{key:"_dispatchInnerRemoveEvents",value:function(t,e){this._noInnerEvents||(this.onListenerRemoved.dispatch(t,e),0===this._listeners.length&&this.onLastListenerRemoved.dispatch(t,e))}},{key:"_indexOfListener",value:function(t,e){return s["default"].findIndex(this._listeners,{callback:t,context:e})}}]),t}();e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(28),i=n(41);t.exports={init:function(t){t()},get:function(t){return r(i,t)}}},function(t,e,n){"use strict";function r(t){a.set(s,t)}function i(t,e){return e.some(function(e){return String(t.testId)in e.types})}var o=n(170),a=n(3),s="application.experiments";e.getExperiments=function(){return a.get(s)||[]},e.getExperimentByName=function(t){var n=o(e.getExperiments(),{name:t});return n?n.data:null},e.updateExperiments=function(t,n,o){var a=e.getExperiments().filter(function(t){return i(t,n)}),s=t.createExperiments(n,a,{isInstall:o});r(s)}},function(t,e,n){"use strict";var r=n(149).Metrika,i=n(149).metrikaLoggerWriter,o=n(10),a=n(26),s=n(230),u=n(227);t.exports={run:function(){var t=chrome.runtime.getManifest().version,e=u.get("yasoft"),n=u.get("distribution"),c=u.get("branding"),l=chrome.runtime.id,h=u.get("metrika-counter-id"),f=new s.Metrika({id:h,clickmap:!1,trackLinks:!1,accurateTrackBounce:!0,defer:!0}),d=new r(f,document.URL,i.paramsKeysList),p=i.create(d,{version:t,yasoft:e,distribution:n,branding:c,gchid:l});h?(o.addWriter("metrika",p),o.addFormatter("metrika",a.metrikaFormatter),o.setLevels("metrika",["error"])):o.error("Can't attach metrika-logger, because there isn't counter id in config")}}},function(t,e){(function(){!function(t,e,n){function r(n,r,o,a){function c(t){var e=(new Date).getTime();t&&e<t&&(gt+=t-e+20),T.setTimeout(function(){c(e)},20,"timeCorrector")}function l(){var t=(new Date).getTime()+gt;return t<vt&&(t=vt+10),vt=t}function h(){return Math.round((l()-Rt)/50)}function f(t,e){e=Math.max(0,Math.min(e,65535)),T.mergeArrays(t,[e>>8,255&e])}function d(t,e){T.mergeArrays(t,[255&e])}function p(t,e){for(e=Math.max(0,0|e);127<e;)T.mergeArrays(t,[127&e|128]),e>>=7;T.mergeArrays(t,[e])}function m(t,e){255<e.length&&(e=e.substr(0,255)),T.mergeArrays(t,[e.length]);for(var n=0;n<e.length;n++)f(t,e.charCodeAt(n))}function g(t,e){p(t,e.length);for(var n=0;n<e.length;n++)p(t,e.charCodeAt(n))}function v(t,e,n,r,i,o){for(var a;n&&(a=B.getElementSize(n))&&(!a[0]||!a[1]);)n=B.getElementParent(n);if(!n)return null;if(a=n[Nt],!a||0>a)return null;var s={mousemove:2,click:32,dblclick:33,mousedown:4,mouseup:30,touch:12}[e];if(!s)return null;var u=B.getElementXY(n);return n=[],d(n,s),p(n,t),p(n,a),p(n,Math.max(0,r[0]-u[0])),p(n,Math.max(0,r[1]-u[1])),/^mouse(up|down)|click$/.test(e)&&(t=i||o,d(n,2>t?1:t==(i?2:4)?4:2)),n}function _(t,e,n,r){if(e=e[Nt],!e||0>e)return null;var i=[];return d(i,31),p(i,t),p(i,e),p(i,n[0]),p(i,n[1]),d(i,0),d(i,0),d(i,r),i}function y(t,e){var n=[];return d(n,3),p(n,t),p(n,e[0]),p(n,e[1]),n}function b(t,e,n){var r=[];return n=n[Nt],!n||0>n?null:(d(r,16),p(r,t),p(r,e[0]),p(r,e[1]),p(r,n),r)}function k(t,e,n){var r=[];return d(r,28),p(r,t),p(r,e[0]),p(r,e[1]),p(r,n[0]),p(r,n[1]),r}function E(t,e,n,r){var i=[];return d(i,5),p(i,t),f(i,e),d(i,n),t=r[Nt],(!t||0>t)&&(t=0),p(i,t),i}function w(t,e){var n,r;0==e.length?r=n="":100>=e.length?(n=e,r=""):200>=e.length?(n=e.substr(0,100),r=e.substr(100)):(n=e.substr(0,97),r=e.substr(e.length-97));var i=[];return d(i,29),p(i,t),g(i,n),g(i,r),i}function x(t){var e=[];return d(e,27),p(e,t),e}function C(t){var e=[];return d(e,14),p(e,t),e}function A(t){var e=[];return d(e,15),p(e,t),e}function O(t,e){var n=[];return d(n,17),p(n,t),p(n,e[Nt]),n}function S(t,e){var n=[];return d(n,18),p(n,t),p(n,e[Nt]),n}function I(t,e,n){var r=[];return d(r,19),p(r,t),p(r,e[Nt]),m(r,String(n)),r}function P(t){var e=t[Nt];if(!e||0>e||!/^INPUT|SELECT|TEXTAREA$/.test(t.nodeName)||!t.form||D(t.form))return null;var n=B.getFormNumber(t.form);if(0>n)return null;var r;if(r="INPUT"==t.nodeName?{text:0,color:0,date:0,datetime:0,"datetime-local":0,email:0,number:0,range:0,search:0,tel:0,time:0,url:0,month:0,week:0,password:2,radio:3,checkbox:4,file:6,image:7}[t.type]:{SELECT:1,TEXTAREA:5}[t.nodeName],"number"!=typeof r)return null;for(var i=-1,o=t.form.elements,a=o.length,s=0,u=0;s<a;s++)if(o[s].name==t.name){if(o[s]==t){i=u;break}u++}return 0>i?null:(o=[],d(o,7),p(o,e),p(o,n),p(o,r),g(o,t.name||""),p(o,i),o)}function R(t,e){var n=B.getFormNumber(e);if(0>n)return null;for(var r=e.elements,i=r.length,o=[],a=0;a<i;a++)if(!B.isEmptyField(r[a])){var s=r[a][Nt];s&&0<s&&T.mergeArrays(o,[s]);
}for(r=[],d(r,11),p(r,t),p(r,n),p(r,o.length),n=0;n<o.length;n++)p(r,o[n]);return r}function N(){var t=[];return d(t,13),t}function L(e,n,r){e=e.apply(t,n),pt.append(e,r)}function M(t){if(t[Nt])t:{var e=h(),n=t[Nt];if(0<n){var r=[];t=B.getElementRegion(t);var i=Lt[n],o=t[0]+"x"+t[1],a=t[2]+"x"+t[3];if(o!=i.pos&&(i.pos=o,d(r,9),p(r,e),p(r,n),p(r,t[0]),p(r,t[1])),a!=i.size&&(i.size=a,d(r,10),p(r,e),p(r,n),p(r,t[2]),p(r,t[3])),r.length){t=r;break t}}t=null}else{if((n=B.getElementParent(t))&&M(n),t[Nt]=_t,Lt[_t]={},_t++,t.nodeName)if(n=+t[Nt],!isFinite(n)||0>=n)e=null;else{var r=64,i=0,s=B.getElementParent(t),o=s&&s[Nt]?s[Nt]:0;0>o&&(o=0);var a=t.nodeName.toUpperCase(),u=mt[a];u||(r|=2);var c=B.getElementNeighborPosition(t);c||(r|=4);var l=B.getElementRegion(t);(s=s?B.getElementRegion(s):null)&&l[0]==s[0]&&l[1]==s[1]&&l[2]==s[2]&&l[3]==s[3]&&(r|=8),Lt[n].pos=l[0]+"x"+l[1],Lt[n].size=l[2]+"x"+l[3],t.id&&"string"==typeof t.id&&(r|=32),(s=B.calcTextChecksum(t))&&(r|=16);var g=B.calcAttribChecksum(t);g&&(i|=2);var v;t:{v=B.getElementChildren(B.getElementParent(t),t.tagName);for(var _=0;_<v.length;_++)if((!v[_].id||"string"!=typeof v[_].id)&&B.calcAttribChecksum(v[_])==g&&B.calcTextChecksum(v[_])==s){v=!0;break t}v=!1}v&&(r|=1,e=B.calcChildrenChecksum(t)),v=[],d(v,1),p(v,n),d(v,r),p(v,o),u?d(v,u):m(v,a),c&&p(v,c),8&r||(p(v,l[0]),p(v,l[1]),p(v,l[2]),p(v,l[3])),32&r&&m(v,t.id),s&&f(v,s),1&r&&f(v,e),d(v,i),g&&f(v,g),e=v}else t[Nt]=-1,e=null;pt.append(e,void 0),t=P(t)}pt.append(t,void 0)}function j(t,e){var n=t&&B.classNameExists(t,"(ym-disable-keys|-metrika-nokeys)");return e&&t&&(n=n||!!B.getElementsByClassName("(ym-disable-keys|-metrika-nokeys)",t).length),n}function D(t){return t&&B.classNameExists(t,"(ym-disable-submit|-metrika-noform)")}function U(t){var e=at.getTarget(t);if(e&&"SCROLLBAR"!=e.nodeName){if(/^INPUT|SELECT|TEXTAREA|BUTTON$/.test(e.tagName))if(e[Nt])M(e);else{var n=e.form;if(n)for(var n=n.elements,r=n.length,i=0;i<r;i++)/^INPUT|SELECT|TEXTAREA|BUTTON$/.test(n[i].tagName)&&!n[i][Nt]&&M(n[i]);else M(e)}else M(e);L(v,[h(),t.type,e,at.getPos(t),t.which,t.button])}}function F(n){U(n);t:{var r,i;if(t.getSelection){try{var o=t.getSelection()}catch(a){break t}r=o.toString(),i=o.anchorNode}else e.selection&&e.selection.createRange&&(n=e.selection.createRange(),r=n.text,i=n.parentElement());if("string"==typeof r){try{for(;i&&1!=i.nodeType;)i=i.parentNode}catch(a){break t}i&&$(i)||j(i,!0)||r==St||(St=r,L(w,[h(),r]))}}}function H(t){var e=l(),n=e-kt;if(!(10>n)){var r=at.getPos(t),i=Et[0]-r[0],o=Et[1]-r[1],i=i*i+o*o;0>=i||16>i&&100>n||20>n&&256>i||(kt=e,Et=r,U(t))}}function z(){var t=B.getDocumentScroll(),e=l();10>e-wt||10>Math.abs(t[0]-xt[0])&&10>Math.abs(t[1]-xt[1])||(wt=e,xt=t,L(y,[h(),t]))}function Y(t){if(t=at.getTarget(t)){var n=Math.random(),r=[t.scrollLeft,t.scrollTop];if(t.localId){if(n=Tt[t.localId],!n||10>Math.abs(r[0]-n[0])&&10>Math.abs(r[1]-n[1]))return}else{for(;Tt[n];)n=Math.random();t.localId=n}Tt[t.localId]=r,t!==e&&(M(t),L(b,[h(),r,t]))}}function q(){L(k,[h(),B.getViewportSize(),B.getDocumentSize()])}function V(){L(N,[],!0)}function W(t){return(t.shiftKey?2:0)|(t.ctrlKey?4:0)|(t.altKey?1:0)|(t.metaKey?8:0)|(t.ctrlKey||t.altKey?16:0)}function $(t){return"INPUT"==t.tagName&&("password"==t.type||t.name&&Ct.test(t.name)||t.id&&Ct.test(t.id))}function J(t,e,n){!(t=at.getTarget(t))||$(t)||j(t)||(M(t),L(E,[h(),e,n,t]))}function Z(t){var e=t.keyCode,n=W(t);(({3:1,8:1,9:1,13:1,16:1,17:1,18:1,19:1,20:1,27:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,45:1,46:1,91:1,92:1,93:1,106:1,110:1,111:1,144:1,145:1})[e]||112<=e&&123>=e||96<=e&&105>=e||16&n)&&(19==e&&4==(n&-17)&&(e=144),J(t,e,16|n),At=!1,T.setTimeout(function(){At=!0},1),!(67==e&&4&n)||1&n||2&n||et())}function tt(t){At&&!Ot&&0!==t.which&&(J(t,t.charCode||t.keyCode,W(t)),Ot=!0,T.setTimeout(function(){Ot=!1},1))}function et(){It||(It=!0,St&&L(x,[h()]),T.setTimeout(function(){It=!1},1))}function nt(){Pt||(Pt=!0,L(C,[h()]))}function rt(){Pt&&(Pt=!1,L(A,[h()]))}function it(t){(!Pt||t&&!t.fromElement)&&nt()}function ot(t){t&&!t.toElement&&rt()}function st(t){if((t=at.getTarget(t))&&/^INPUT|SELECT|TEXTAREA|BUTTON$/.test(t.tagName)){if(t[Nt])M(t);else{var e=t.form;if(e)for(var e=e.elements,n=e.length,r=0;r<n;r++)/^INPUT|SELECT|TEXTAREA|BUTTON$/.test(e[r].tagName)&&!e[r][Nt]&&M(e[r]);else M(t)}L(O,[h(),t])}}function ut(t){(t=at.getTarget(t))&&/^INPUT|SELECT|TEXTAREA|BUTTON$/.test(t.tagName)&&(M(t),L(S,[h(),t]))}function ct(t){if((t=at.getTarget(t))&&!$(t)&&!j(t)&&/^INPUT|SELECT|TEXTAREA$/.test(t.tagName)){var e=/^(checkbox|radio)$/.test(t.type)?t.checked:t.value;M(t),L(I,[h(),t,e])}}function lt(t){if((t=at.getTarget(t))&&!D(t)&&"FORM"==t.nodeName){for(var e=t.elements,n=0;n<e.length;n++)B.isEmptyField(e[n])||M(e[n]);L(R,[h(),t],!0)}}function ht(t){if(z(),t.touches&&t.touches.length){var n=at.getTarget(t);if(n&&n!=e){M(n);for(var r=0;r<t.touches.length;r++)L(v,[h(),"touch",n,[t.touches[r].pageX,t.touches[r].pageY],0,0])}}}function ft(t){var e=at.getTarget(t);if(e){var n;"wheel"==t.type?n=0<t.deltaY?1:0>t.deltaY?2:0:"mousewheel"==t.type&&(n=0<t.wheelDelta?2:0>t.wheelDelta?1:0),n&&(M(e),L(_,[h(),e,at.getPos(t),n]))}}function dt(t){(t=at.getTarget(t))&&"BODY"==t.tagName&&pt.append([],!0)}var pt=new G({protocol:n,counterId:r,counterType:o,meta:{url:s().href,hitId:a,timezone:yt,timestamp:bt}}),mt={A:1,ABBR:2,ACRONYM:3,ADDRESS:4,APPLET:5,AREA:6,B:7,BASE:8,BASEFONT:9,BDO:10,BIG:11,BLOCKQUOTE:12,BODY:13,BR:14,BUTTON:15,CAPTION:16,CENTER:17,CITE:18,CODE:19,COL:20,COLGROUP:21,DD:22,DEL:23,DFN:24,DIR:25,DIV:26,DL:27,DT:28,EM:29,FIELDSET:30,FONT:31,FORM:32,FRAME:33,FRAMESET:34,H1:35,H2:36,H3:37,H4:38,H5:39,H6:40,HEAD:41,HR:42,HTML:43,I:44,IFRAME:45,IMG:46,INPUT:47,INS:48,ISINDEX:49,KBD:50,LABEL:51,LEGEND:52,LI:53,LINK:54,MAP:55,MENU:56,META:57,NOFRAMES:58,NOSCRIPT:59,OBJECT:60,OL:61,OPTGROUP:62,OPTION:63,P:64,PARAM:65,PRE:66,Q:67,S:68,SAMP:69,SCRIPT:70,SELECT:71,SMALL:72,SPAN:73,STRIKE:74,STRONG:75,STYLE:76,SUB:77,SUP:78,TABLE:79,TBODY:80,TD:81,TEXTAREA:82,TFOOT:83,TH:84,THEAD:85,TITLE:86,TR:87,TT:88,U:89,UL:90,VAR:91,NOINDEX:100},gt=0,vt=0;c(0);var _t=1,kt=0,Et=[0,0],wt=0,xt=[0,0],Tt={},Ct=/^(password|passwd|pswd)$/,At=!0,Ot=!1,St="",It=!1,Pt=!0,Rt=l(),Nt="metrikaId_"+Math.random(),Lt={},Mt=":submit"+Math.random();return T.isMetrikaPlayer()||(Q.on(e,"mousemove",H),Q.on(e,"click,dblclick,mousedown",U),Q.on(e,"mouseup",F),Q.on(t,"scroll",z),"onmousewheel"in e?Q.on(e,"mousewheel",ft):Q.on(e,"wheel",ft),Q.on(t,"beforeunload",V),X||Q.on(t,"unload",V),Q.on(t,"resize",q),Q.on(e,"keydown",Z),Q.on(e,"keypress",tt),Q.on(e,"copy",et),Q.on(e,"touchmove,touchstart",ht),e.body&&Q.on(e,"mouseleave",dt),e.attachEvent&&!t.opera?(Q.on(e,"focusin",it),Q.on(e,"focusout",ot)):(Q.on(t,"focus",nt),Q.on(t,"blur",rt),Q.on(e,"blur",rt)),e.addEventListener?(Q.on(e,"scroll",Y),Q.on(e,"focus",st),Q.on(e,"blur",ut),Q.on(e,"change",ct),Q.on(e,"submit",lt)):e.attachEvent&&(Q.on(e,"focusin",st),Q.on(e,"focusout",ut),function(){for(var t=e.getElementsByTagName("form"),n=0;n<t.length;n++){for(var r=t[n].getElementsByTagName("*"),i=0;i<r.length;i++)/^INPUT|SELECT|TEXTAREA$/.test(r[i].tagName)&&Q.on(r[i],"change",ct);Q.on(t[n],"submit",lt)}}()),function(){var t=e.getElementsByTagName("form");if(t.length)for(var n=0;n<t.length;n++){var r=t[n].submit;("function"==typeof r||"object"==typeof r&&/^\s*function submit\(\)/.test(String(r)))&&(t[n][Mt]=r,t[n].submit=function(){return lt({target:this}),this[Mt]()})}}(),"0:0"!=B.getDocumentScroll().join(":")&&z(),q()),{start:function(){pt.activate()},stop:function(){pt.clear(),Q.un(e,"mousemove",H),Q.un(e,"click,dblclick,mousedown",U),Q.un(e,"mouseup",F),Q.un(e,"mousewheel",ft),Q.un(e,"wheel",ft),Q.un(t,"scroll",z),Q.un(t,"beforeunload",V),Q.un(t,"unload",V),Q.un(t,"resize",q),Q.un(e,"keydown",Z),Q.un(e,"keypress",tt),Q.un(e,"copy",et),Q.un(e,"touchmove",ht),Q.un(e,"touchstart",ht),e.body&&Q.un(e,"mouseleave",dt),Q.un(e,"focusin",it),Q.un(e,"focusout",ot),Q.un(t,"focus",nt),Q.un(t,"blur",rt),Q.un(e,"blur",rt),e.removeEventListener?(Q.un(e,"scroll",Y),Q.un(e,"focus",st),Q.un(e,"blur",ut),Q.un(e,"change",ct),Q.un(e,"submit",lt)):e.detachEvent&&(Q.un(e,"focusin",st),Q.un(e,"focusout",ut),function(){for(var t=e.getElementsByTagName("form"),n=0;n<t.length;n++){for(var r=t[n].getElementsByTagName("*"),i=0;i<r.length;i++)/^INPUT|SELECT|TEXTAREA$/.test(r[i].tagName)&&Q.un(r[i],"change",ct);Q.un(t[n],"submit",lt)}}()),function(){for(var t=e.getElementsByTagName("form"),n=0;n<t.length;n++)t[n][Mt]&&(t[n].submit=t[n][Mt])}()},uploadPages:function(n,r){function i(){Q.un(e,"DOMContentLoaded",i),Q.un(t,"load",i);for(var a=n.split(/\n/),c=s().href,l=/regexp:/,h=0;h<a.length;h++){var f=a[h];if(f)if(l.test(f)){f=u(f.replace(l,""));try{var d=new RegExp(f)}catch(p){}if(d&&d.test(c)){o.uploadPage(r);break}}else if(-1!==c.indexOf(f)){o.uploadPage(r);break}}}var o=this;"complete"==e.readyState?i():(Q.on(e,"DOMContentLoaded",i),Q.on(t,"load",i))},uploadPage:i(function(u){if("function"==typeof t.toStaticHTML&&-1<t.toStaticHTML.toString().indexOf("NoScript"))return!1;var c=e.documentElement;if(c&&19e4<(""+c.innerHTML).length)return!1;var l=t.XMLHttpRequest?new t.XMLHttpRequest:new ActiveXObject("Msxml2.XMLHTTP"),h=B.getDocumentCharset(),f="text/html"+(h?";charset="+h:""),d=new K({protocol:n,counterId:r,counterType:o});return"html"==u?(u=RegExp("<script [^>]*?//mc\\.yandex\\.ru/watch/.*?</script>","gi"),d.sendContent(B.getDocumentHTML().replace(u,""),f,a,yt,bt),!0):(l&&(l.open("get",s().href,!0),l.onreadystatechange=i(function(){if(4==l.readyState){var t=l.getResponseHeader("content-type")||"";h&&-1===t.indexOf("charset=")&&(t=f),d.sendContent(l.responseText,t,a,yt,bt)}},"updatePage.1"),l.overrideMimeType&&h&&l.overrideMimeType(f),l.send(null)),!0)},"uploadPage")}}function i(t,e,n){return function(){try{return t.apply(this,arguments)}catch(r){n||o(r,e)}}}function o(t,e){var n;if(.01>Math.random())try{(new V).log("jserrs",Et,t.message,e,_t.href,"","string"==typeof t.stack&&t.stack.replace(/\n/g,"\\n"))}catch(r){n=["cp: "+e,t.name+": "+t.message,"debug: ","code: "+Et,"stack: "+t.stack],(new Image).src="//an.yandex.ru/jserr/101500?cnt-class=100&errmsg="+encodeURIComponent(n.join("; ").replace(/\r?\n/g,"\\n"))}}function a(e,n,r){return t.setTimeout(i(e,r||"setTimeout"),n)}function s(){for(var e,n,r={},i="hash host hostname href pathname port protocol search".split(" "),o=i.length,a=o;a--;)r[i[a]]="";try{for(e=t.location,a=o;a--;)n=i[a],r[n]=""+e[n]}catch(s){_t&&(r=_t)}return r}function u(t){return t?(""+t).replace(/^\s+/,"").replace(/\s+$/,""):""}function c(){return-1!=s().hostname.search(/(?:^|\.)(?:ya|yandex)\.(?:\w+|com\.\w+)$/)}function l(e){return-1!==(""+t.navigator.userAgent).toLowerCase().search(e)}function h(t){var e,n=t.length,r="";for(e=0;e<n;e++)r+=String.fromCharCode(t.charCodeAt(e)+50);return F.encode(Y.encode(r))}function f(t){var e,n,r="";for(t=F.decode(t),e=0,n=t.length;e<n;e++)r+=String.fromCharCode(t.charCodeAt(e)-50);return r}function d(t){return u(t&&t.innerHTML&&t.innerHTML.replace(/<\/?[^>]+>/gi,""))}function p(t,e){var n,r;if(!t||!e)return!1;for(n=[],r=0;r<e.length;r++)n.push(e[r].replace(/\^/g,"\\^").replace(/\$/g,"\\$").replace(/\./g,"\\.").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\|/g,"\\|").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\?/g,"\\?").replace(/\*/g,"\\*").replace(/\+/g,"\\+").replace(/\{/g,"\\{").replace(/\}/g,"\\}"));return new RegExp("\\.("+n.join("|")+")$","i").test(t)}function m(t){t=t.target||t.srcElement;var e;if(!t)return!1;for(3==t.nodeType&&(t=t.parentNode),e=t&&t.nodeName&&t.nodeName.toString().toLowerCase();t&&t.parentNode&&t.parentNode.nodeName&&("a"!=e&&"area"!=e||!t.href);)e=(t=t.parentNode)&&t.nodeName&&t.nodeName.toString().toLowerCase();return!!t.href&&t}function g(t,e){return(t?t.replace(/^www\./,""):"").toLowerCase()==(e?e.replace(/^www\./,""):"").toLowerCase()}function v(t,e){function n(t){return t=t.split(":"),t=t[1]||"",t=t.replace(/^\/*/,"").replace(/^www\./,""),t.split("/")[0]}return t&&e?n(t)==n(e):!t&&!e}function _(){var e,n=t.performance||t.webkitPerformance,r=[];if((n=n&&n.timing)&&(e=n.navigationStart))for(r=[n.domainLookupEnd-n.domainLookupStart,n.connectEnd-n.connectStart,n.responseStart-n.requestStart,n.responseEnd-n.responseStart,n.fetchStart-e,n.redirectEnd-n.redirectStart,n.redirectCount],r.push(n.domInteractive&&n.domLoading?n.domInteractive-n.domLoading:null),r.push(n.domContentLoadedEventStart&&n.domContentLoadedEventEnd?n.domContentLoadedEventEnd-n.domContentLoadedEventStart:null),r.push(n.domComplete?n.domComplete-e:null),r.push(n.loadEventStart?n.loadEventStart-e:null),r.push(n.loadEventStart&&n.loadEventEnd?n.loadEventEnd-n.loadEventStart:null),r.push(n.domContentLoadedEventStart?n.domContentLoadedEventStart-e:null),n=0;n<r.length;n++)e=r[n],null!==e&&(0>e||36e5<e)&&(r[n]=null);return r}function y(t){var e,n,r=[],i=t._lastPerformanceTiming,o=_();if(i)for(e=0,n=i.length;e<n;e++)null===o[e]?r.push(o[e]):r.push(i[e]===o[e]?"":o[e]);else r=o;return t._lastPerformanceTiming=o,r.join(",")}function b(){var e;if("object"==typeof t.chrome&&t.chrome.loadTimes){if(e=t.chrome.loadTimes(),e.requestTime&&e.firstPaintTime)return~~(1e3*(e.firstPaintTime-e.requestTime))}else if(t.performance&&t.performance.timing&&(e=t.performance.timing,e.navigationStart&&e.msFirstPaint))return e.msFirstPaint-e.navigationStart;return null}function k(t){var n,r,i,o,a,s=e.referrer||"";if(new RegExp("^https?://"+_t.host+"/").test(s))return!1;for(n=t.patterns,o=0;o<n.length;o++)if(r=new RegExp(n[o],"i"),s.match(r)){if(r=t.params||[],!r.length)return!0;for(i=T.safeDecodeURIComponent((RegExp.$1||"").replace(/\+/g,"%20")),a=0;a<r.length;a++)if(i==T.safeDecodeURIComponent(r[a]))return!0}return!1}function E(t,n){var r,i,o,a,s=!1;if(t&&"string"!=typeof t&&t.length)for(a=0;a<t.length;a++)if(r=t[a].selector,i=t[a].text,o=r.charAt(0),r=r.slice(1),"#"==o)(o=e.getElementById(r))&&(s=!0,n&&vt.unshift([o,o.innerHTML]),o.innerHTML=i);else if("."==o)for(o=B.getElementsByClassName(r),r=0;r<o.length;r++){var s=!0,u=o[r],c=i;n&&vt.unshift([u,u.innerHTML]),u.innerHTML=c}return s}function w(){var t;for(t=0;t<vt.length;t++)vt[t][0].innerHTML=vt[t][1]}function x(t,e){var n,r,i,o,a,s="";if(t=t&&t.replace(/^\?/,""),e=e&&e.replace(/^#/,"")||"",t)for(r=t.split("&"),n=0;n<r.length;n++)a=r[n].split("="),"_openstat"===a[0]&&(s=a[1]);for(i=e.split("?"),n=0;n<i.length;n++)for(o=i[n].split("&"),r=0;r<o.length;r++)a=o[r].split("="),"_openstat"===a[0]&&(s=a[1]);return s&&(s=-1<s.indexOf(";")?T.safeDecodeURIComponent(s):Y.decode(F.decode(s.replace(/[-*_]/g,function(t){return{"*":"+","-":"/",_:"="}[t]||t})))),s&&(n=s.split(";"),4==n.length)?{service:n[0],campaign:n[1],ad:n[2],source:n[3]}:null}var T={mixin:function(t){var e,n;for(e=1;e<arguments.length;e++)if(arguments[e]){for(n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);arguments[e].hasOwnProperty("toString")&&(t.toString=arguments[e].toString)}return t}},C=function(t){t=t||{},T.mixin(this,t),this._initComponent()};C.prototype._initComponent=function(){},C.inherit=function(t){var e,n;return t=t||{},e="function"==typeof this?this:Object,t.hasOwnProperty("constructor")||(t.constructor=function(){e.apply(this,arguments)}),n=function(){},n.prototype=e.prototype,t.constructor.prototype=new n,T.mixin(t.constructor.prototype,t),t.constructor.prototype.constructor=t.constructor,t.constructor.superclass=e.prototype,t.constructor.inherit=C.inherit,t.constructor},T.isArray=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"==Object.prototype.toString.call(t)},T.mergeArrays=function(t){var e,n,r,i=arguments.length;for(e=1;e<i;e++)if(r=arguments[e],T.isArray(r)||r&&"[object Arguments]"===r.toString())for(n=0;n<r.length;n++)t[t.length]=r[n];return t},T.getNativeFunction=function(e,n){var r;return n=n||t,(r=n.constructor&&n.constructor.prototype&&n.constructor.prototype[e]||n[e])&&"apply"in r?function(){return r.apply(n,arguments)}:function(){}},T.setTimeout=function(t,e,n){return T.getNativeFunction("setTimeout")(i(t,n||"setTimeout"),e)},T.defer=function(t,e,n,r,i){return T.setTimeout(function(){t.apply(n,r||[])},e,i)},T.throttle=function(t,e,n,r){var i,o,a;return function(){o=arguments,a=this,i||function(){i=null,o&&(t.apply(n||a,o),o=null,i=T.setTimeout(arguments.callee,e,r))}()}};var A=C.inherit({storage:null,storageKey:"dataBuffer",maxBufferSize:255,flushTimeout:1e4,active:!0,meta:null,onFlush:function(){},onFlushCtx:null,bufferExpireTime:864e5,_initComponent:function(){var t;A.superclass._initComponent.apply(this,arguments),this._data=[],this._packetNumber=0,this._flushTID=null,this._saveToStorageThrottled=T.throttle(this._saveToStorage,300,this,"DataBuffer._saveToStorage"),this.storage&&((t=this.storage.get(this.storageKey))&&t.data&&t.meta&&t.time&&t.time+this.bufferExpireTime>+new Date&&this.onFlush.call(this.onFlushCtx||this,t.data,t.meta,t.pnum),this.clear())},getFlushSize:function(){return this._data.length},append:function(t,e){T.mergeArrays(this._data,t),this._saveToStorageThrottled(),this.active&&((e||this.getFlushSize()>=this.maxBufferSize)&&this._flush(),this._flushTID||(this._flushTID=T.defer(this._flush,this.flushTimeout,this,[],"DataBuffer._flush")))},activate:function(){this.active||(this.active=!0,this.append([]))},clear:function(){this._data.length=0,this._flushTID=null,this.storage&&this.storage.remove(this.storageKey)},_flush:function(){this.onFlush.call(this.onFlushCtx||this,this._data,this.meta,this._packetNumber),this._packetNumber++,this.clear()},_saveToStorage:function(){this.storage&&this._data.length&&this.storage.set(this.storageKey,{data:this._data,meta:this.meta,pnum:this._packetNumber,time:+new Date})}}),O=C.inherit({transports:[],postParams:[],dontSendRequests:!1,send:function(t,e,n,r){n=n||function(){},this.dontSendRequests?n.call(r):function i(a){var s;if(a<this.transports.length)try{s=new this.transports[a]({postParams:this.postParams}),s.request(t,e,function(t,e,o){t?n.call(r,e,o):i.call(this,a+1)},this)}catch(u){o(u,"send by "+(s&&s.id)),i.call(this,a+1)}}.call(this,0)}}),S={stringify:function(t){var e,n,r,i=[];for(e in t)if(t.hasOwnProperty(e))if(n=t[e],T.isArray(n))for(r=0;r<n.length;r++)i.push(encodeURIComponent(e)+"="+encodeURIComponent(String(n[r])));else i.push(encodeURIComponent(e)+"="+encodeURIComponent(String(n)));return i.join("&")}};T.forEachKey=function(t,e,n){for(var r in t)t.hasOwnProperty(r)&&e.call(n,r,t[r],t)},T.inArray=function(t,e){var n;for(n=0;n<t.length;n++)if(t[n]==e)return!0;return!1};var I=C.inherit({postParams:[],_buildUrl:function(t,e){var n=S.stringify(e);return t+(-1<t.indexOf("?")?"&":n?"?":"")+n},_splitParams:function(t){var e={},n={};return T.forEachKey(t,function(t,r){T.inArray(this.postParams,t)?n[t]=r:e[t]=r},this),{get:e,post:n}}}),P=I.inherit({id:"XHR",method:"POST",withCredentials:!0,request:function(e,n,r,i){var o,a;if(/[^a-z0-9.:-]/.test(_t.host)&&t.opera&&"function"==typeof t.opera.version&&(o=t.opera.version(),"string"==typeof o&&"12"==o.split(".")[0]))return r.call(i,!1);if(t.XMLHttpRequest&&(a=new XMLHttpRequest,"withCredentials"in a)){n=this._splitParams(n),e=this._buildUrl(e,n.get);try{a.open(this.method,e,!0)}catch(s){return r.call(i,!1)}return a.withCredentials=this.withCredentials,this._setHeaders(a),a.send(this._preparePostParams(n)),void(a.onreadystatechange=function(){4==a.readyState&&r.call(i,200==a.status,a.responseText)})}r.call(i,!1)},setMethod:function(t){this.method=t},_preparePostParams:function(t){return S.stringify(t.post)},_setHeaders:function(t){t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}});T.random=function(t,e){return 2>arguments.length&&(e=t,t=0),1>arguments.length&&(e=1073741824),Math.floor(Math.random()*(e-t))+t};var R=I.inherit({id:"form",enctype:"application/x-www-form-urlencoded",htmlfileOnly:!1,_initComponent:function(){R.superclass._initComponent.apply(this,arguments),"_htmlfile"in R.prototype||(R.prototype._htmlfile=this._createHtmlfile()),this._doc=this._htmlfile||(this.htmlfileOnly?null:e)},request:function(t,e,n,r){var i,o,a,s,u=this._doc;return u?(e=this._splitParams(e),i="ifr"+T.random(),o=u.createElement("div"),o.style.position="absolute",o.style.left="-99999px",o.style.top="-99999px",a=['<iframe name="',i,'"></iframe>','<form action="',this._buildUrl(t,e.get),'" method="post" target="',i,'" enctype="',this.enctype,'">'],T.forEachKey(e.post,function(t){T.mergeArrays(a,['<input type="hidden" autocomplete="off" autocorrect="off"',' autocapitalize="off" spellcheck="false" name="',t,'"/>'])}),T.mergeArrays(a,["</form>"]),o.innerHTML=a.join(""),u.body.appendChild(o),s=o.getElementsByTagName("form")[0],T.forEachKey(e.post,function(t,e){s[t].value=e}),s.submit(),T.setTimeout(function(){u.body.removeChild(o)},1e4,"TransportForm.request.2"),n.call(r,!0)):n.call(r,!1)},_createHtmlfile:function(){var e;try{if(t.ActiveXObject)return e=new ActiveXObject("htmlfile"),e.open(),e.write("<html><body></body></html>"),e.close(),e}catch(n){}return null}}),N=R.inherit({id:"htmlfile",htmlfileOnly:!0}),L=I.inherit({id:"img",request:function(t,n,r,o){t=this._buildUrl(t,n),n=e.createElement("img"),r=r||function(){},n.onload=i(function(){r.call(o,!0)},"TransportImage.request"),n.onerror=i(function(){r.call(o,!1)},"TransportImage.request"),n.src=t}}),M={stringify:function(t){try{return JSON.stringify(t)}catch(e){return"null"}}};T.toJSON=function(t){var e,r,i;if(t===n)return"";if(null===t)return"null";switch(t.constructor){case Boolean:return t.toString();case Number:return isFinite(t)?t.toString():"null";case String:return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"';case Array:for(e=[],r=0,i=t.length;r<i;r++)e[e.length]=T.toJSON(t[r]);return"["+e.join(",")+"]";case Object:e=[];for(r in t)t.hasOwnProperty(r)&&t[r]!==n&&(e[e.length]=T.toJSON(r)+":"+T.toJSON(t[r]));return"{"+e.join(",")+"}";default:M.stringify(t)}};var j=C.inherit({counterId:"",_initComponent:function(){j.superclass._initComponent.apply(this,arguments),this._ls=null;try{this._ls=t.localStorage}catch(e){}},set:function(t,e){if(this.isEnabled())try{!e||e&&T.isArray(e)&&!e.length?this.remove(t):this._ls.setItem(this._getLsKey(t),T.toJSON(e))}catch(n){}},get:function(t){if(this.isEnabled())try{return JSON.parse(this._ls.getItem(this._getLsKey(t)))}catch(e){}return null},remove:function(t){if(this.isEnabled())try{this._ls.removeItem(this._getLsKey(t))}catch(e){}},isEnabled:function(){return this._ls&&t.JSON&&"object"==typeof this._ls&&"object"==typeof t.JSON},getStorageId:function(){var t=this.get("lsid");return t||(t=Math.round(Math.random()*new Date),this.set("lsid",t)),t},clearStorageId:function(){this.remove("lsid")},_getLsKey:function(t){return"_ym"+this.counterId+"_"+t}}),D=C.inherit({counterId:"",onlyCurrentDomain:!1,skipPrefix:!1,_initComponent:function(){var t,e;if(D.superclass._initComponent.apply(this,arguments),this._domain=null,!this.onlyCurrentDomain)for(t=_t.host.split("."),e=2;;){if(!(e<=t.length)){this._domain=null;break}if(this._domain="."+t.slice(-e).join("."),e++,this.isEnabled())break}},create:function(t,n,r){t=[this._prepareName(t)+"="+encodeURIComponent(n)],r&&(n=new Date,n.setTime(n.getTime()+6e4*r),t.push("expires="+n.toGMTString())),this._domain&&t.push("domain="+this._domain),t.push("path=/");try{e.cookie=t.join(";")}catch(i){}},read:function(t){var n;try{n=e.cookie}catch(r){}return n&&n.match(new RegExp("(?:^|;\\s*)"+this._prepareName(t)+"=([^;]*)"))?decodeURIComponent(RegExp.$1):null},erase:function(t){this.create(t,"",-1)},isEnabled:function(){var t;return this.create("metrika_enabled","1",60),t=!!this.read("metrika_enabled"),this.erase("metrika_enabled"),t},_prepareName:function(t){return(this.skipPrefix?"":"_ym_")+t+(this.counterId?"_"+this.counterId:"")}});D.isEnabled=function(){return new D({onlyCurrentDomain:!0}).isEnabled()};var U=O.inherit({protocol:"",host:"mc.yandex.ru",resource:"",counterId:"",counterType:0,retry:!1,transports:[P,L,N],_initComponent:function(){U.superclass._initComponent.apply(this,arguments),this.retry&&(this._storage=new j)},send:function(t,e,n,r){var i=this._registerRequest(t,e);this._sendSavedRequest(i,t,e,n,r)},_sendSavedRequest:function(e,n,r,i,o){var a,s,u=t.Ya._metrika.firstReqStatus;return"process"!=u?(u||(t.Ya._metrika.firstReqStatus="process"),u={},this.counterType&&(u["cnt-class"]=this.counterType),T.mixin(u,n),r.st=Math.round((new Date).getTime()/1e3),r.u=U._userID,a=[this.protocol,"//",this.host,"/"+this.resource+"/"+this.counterId].join(""),s=[],r&&(T.forEachKey(r,function(t,e){"t"!=t&&T.mergeArrays(s,[t,e])}),r.t&&T.mergeArrays(s,["t",r.t])),s.length&&(u["browser-info"]=s.join(":")),U.superclass.send.call(this,a,u,function(){var n,r;if(t.Ya._metrika.firstReqStatus="complete",this._unregisterRequest(e),n=t.Ya._metrika.firstReqCallbacks,t.Ya._metrika.firstReqCallbacks=null,n)for(r=0;r<n.length;r++)n[r][0]._sendSavedRequest.apply(n[r][0],n[r][1]);i&&i.apply(o,arguments)},this)):void(t.Ya._metrika.firstReqCallbacks=T.mergeArrays(t.Ya._metrika.firstReqCallbacks||[],[[this,arguments]]))},_isRetryEnabled:function(){return this.retry&&this._storage&&this._storage.isEnabled()},_registerRequest:function(t,e){var n,r;if(this._isRetryEnabled()){for(e.rqnl=e.rqnl||0,e.rqnl++,n=this._storage.get("retryReqs")||{},r=1;n[r];)r++;return n[r]={protocol:this.protocol,host:this.host,resource:this.resource,counterId:this.counterId,counterType:this.counterType,postParams:this.postParams,params:t,browserInfo:e,ghid:Ya._globalMetrikaHitId,time:+new Date},this._storage.set("retryReqs",n),r}},_unregisterRequest:function(t){var e;t&&this._isRetryEnabled()&&(e=this._storage.get("retryReqs")||{},e[t]&&(delete e[t],this._storage.set("retryReqs",e)))},_getVersion:i(function(){return Et},"",!0)});U.initCookie=function(){var t=new D,e=t.read("uid");e||(e=Math.round((new Date).getTime()/1e3),e=e+""+T.random(),t.create("uid",e,1036800)),U._userID=e},U.retransmit=function(){var e,n=new j,r=n.get("retryReqs")||{};n.remove("retryReqs"),T.forEachKey(r,function(n,r){t.Ya._metrika.firstReqStatus||(t.Ya._metrika.firstReqStatus="complete"),r.ghid&&r.ghid!=Ya._globalMetrikaHitId&&r.time&&r.time+864e5>+new Date&&2>=r.browserInfo.rqnl&&(e=new U({protocol:r.protocol,host:r.host,resource:r.resource,counterId:r.counterId,counterType:r.counterType,postParams:r.postParams||[],retry:!0}),e.send(r.params,r.browserInfo))})},T.fletcher=function(t){for(var e,n,r,i=t.length,o=0,a=255,s=255;i;){e=21<i?21:i,i-=e;do n="string"==typeof t?t.charCodeAt(o):t[o],o++,255<n&&(r=n>>8,n&=255,n^=r),a+=n,s+=a;while(--e);a=(255&a)+(a>>8),s=(255&s)+(s>>8)}return t=(255&a)+(a>>8)<<8|(255&s)+(s>>8),65535==t?0:t};var F={abc:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",tail:"+/=",tailSafe:"*-_",encode:function(t,e){var n,r,i=(F.abc+(e?F.tailSafe:F.tail)).split(""),o=t.length,a=[],s=o-o%3;for(r=0;r<s;r+=3)n=(t[r]<<16)+(t[r+1]<<8)+t[r+2],T.mergeArrays(a,[i[n>>18&63],i[n>>12&63],i[n>>6&63],i[63&n]]);switch(o-s){case 1:n=t[s]<<4,T.mergeArrays(a,[i[n>>6&63],i[63&n],i[64],i[64]]);break;case 2:n=(t[s]<<10)+(t[s+1]<<2),T.mergeArrays(a,[i[n>>12&63],i[n>>6&63],i[63&n],i[64]])}return a.join("")}};T.trim=function(t,e){return t=String(t).replace(/^\s+|\s+$/g,""),e&&t.length>e&&(t=t.substr(0,e)),t},T.isFunction=function(t){return"function"==typeof t},T.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},T.arrayIndexOf=function(t,e){var n;for(n=0;n<t.length;n++)if(t[n]===e)return n;return-1},T.isObject=function(t){try{return t&&null!==t&&"[object Object]"==Object.prototype.toString.call(t)}catch(e){return!1}},T._playerRegexp=/^.+\.mtproxy\.yandex\.net$/,T.isMetrikaPlayer=function(){return"MetrikaPlayer"==t.name||this._playerRegexp.test(t.location.hostname)};var B={getDocumentCharset:function(){return(""+(e.characterSet||e.charset||"")).toLowerCase()},getRootElement:function(){var t=e.documentElement;return"CSS1Compat"==e.compatMode?t:e.body||t},getViewportSize:function(){var e=B.getRootElement();return[e.clientWidth||t.innerWidth,e.clientHeight||t.innerHeight]},getDocumentTitle:function(){var t=e.title;return"string"!=typeof t&&(t=(t=e.getElementsByTagName("title"))&&t.length?t[0].innerHTML:""),t}},H={_silverlightVersion:"",getSilverlightVersion:function(){var e,n,r,i;if(!H._silverlightVersion)if(t.ActiveXObject)try{r=new ActiveXObject("AgControl.AgControl"),e=function(t,e,r,i){for(;n(t,e);)e[r]+=i;e[r]-=i},n=function(t,e){return t.isVersionSupported(e[0]+"."+e[1]+"."+e[2]+"."+e[3])},i=[1,0,0,0],e(r,i,0,1),e(r,i,1,1),e(r,i,2,1e4),e(r,i,2,1e3),e(r,i,2,100),e(r,i,2,10),e(r,i,2,1),e(r,i,3,1),H._silverlightVersion=i.join(".")}catch(o){}else e=t.navigator,(e=e.plugins&&e.plugins["Silverlight Plug-In"])&&(H._silverlightVersion=e.description);return H._silverlightVersion||""},_flashVersion:0,getFlashVersion:function(){var e,n,r;if(!H._flashVersion)if(e=t.navigator,"undefined"!=typeof e.plugins&&"object"==typeof e.plugins["Shockwave Flash"])n=e.plugins["Shockwave Flash"],r=n.version,((n=n.description)||r)&&(e=e.mimeTypes,("undefined"==typeof e||!e["application/x-shockwave-flash"]||e["application/x-shockwave-flash"].enabledPlugin)&&(r?H._flashVersion=r:n&&(H._flashVersion=n.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,"."))));else if("undefined"!=typeof t.ActiveXObject)try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),(n=r.GetVariable("$version"))&&(H._flashVersion=n.split(" ")[1].replace(/,/g,".").replace(/[^.\d]/g,""))}catch(i){}return H._flashVersion},getLanguage:function(){return(t.navigator?navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage:"").toLowerCase()},getJavaEnabled:function(){try{return navigator.javaEnabled()}catch(t){return!1}}};T.fnv32a=function(t){var e,n,r=2166136261;for(e=0,n=t.length;e<n;++e)r^=t.charCodeAt(e),r+=(r<<1)+(r<<4)+(r<<7)+(r<<8)+(r<<24);return r>>>0},H.getFingerPrint=function(){var t,e,n=[];if(navigator.plugins&&navigator.plugins.length)for(e=0;e<navigator.plugins.length;e++)t=navigator.plugins[e],T.mergeArrays(n,[t.name,t.version,t.description,t.filename]);if(navigator.mimeTypes&&navigator.mimeTypes.length)for(e=0;e<navigator.mimeTypes.length;e++)t=navigator.mimeTypes[e],T.mergeArrays(n,[t.type,t.description,t.suffixes]);return T.fnv32a(n.join(";"))+"01"},H.getPlatform=function(){var t="";try{t=""+navigator.platform}catch(e){}return t},H.getNotificationPermission=function(){var t;try{t=Notification.permission}catch(e){}switch(t){case"denied":return 1;case"granted":return 2}},H.isIframe=function(){try{return t.top!=t.self}catch(e){return!1}},H._nMap={other:"0",none:"1",unknown:"2",wifi:"3",ethernet:"4",bluetooth:"5",cellular:"6",wimax:"7",mixed:"8"},H.netType=function(){var t=(navigator.connection||{type:""}).type;return H._nMap[t]||t},H.isSafari=function(){try{return navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&!navigator.userAgent.match("CriOS")}catch(t){}return!1},B.removeNode=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)};var z={url:"https://mc.yandex.ru/metrika/",_value:null,init:function(){var t=this._getLs().read("isad");t?this._set(t):this._getReqStatus()||this._send()},getVal:function(){return this._value},_set:function(t){this._value="1"==t||"2"==t?t:null},_send:function(){var t=e.createElement("img"),n=this;t.onload=function(){n._saveReq(!1),B.removeNode(this)},t.onerror=function(){n._saveReq(!0),B.removeNode(this)},this._setReqStatus("process"),t.src=this.url+String.fromCharCode(97,100,118,101,114,116,46,103,105,102),H.isSafari()&&(t.style.position="absolute",t.style.visibility="hidden",t.style.width="0px",t.style.height="0px",B.getRootElement().appendChild(t))},_saveReq:function(t){this._value=t=t?"1":"2",this._setReqStatus("complete"),this._getLs().create("isad",t,1200)},_setReqStatus:function(e){try{t.Ya._metrika.adStatus=e}catch(n){}},_getReqStatus:function(){try{return t.Ya._metrika.adStatus}catch(e){return"complete"}},_getLs:function(){return this._ls||(this._ls=new D),
this._ls}},Y={encode:function(t){var e,n,r,i=[];for(e=0,r=t.length;e<r;e++)n=t.charCodeAt(e),128>n?i.push(n):(127<n&&2048>n?i.push(n>>6|192):(i.push(n>>12|224),i.push(n>>6&63|128)),i.push(63&n|128));return i},decode:function(t){for(var e,n,r,i="",o=0;o<t.length;)e=t.charCodeAt(o),128>e?(i+=String.fromCharCode(e),o++):191<e&&224>e?(n=t.charCodeAt(o+1),i+=String.fromCharCode((31&e)<<6|63&n),o+=2):(n=t.charCodeAt(o+1),r=t.charCodeAt(o+2),i+=String.fromCharCode((15&e)<<12|(63&n)<<6|63&r),o+=3);return i}};F.decode=function(t,e){for(var n,r,i,o,a,s=F.abc+(e?F.tailSafe:F.tail),u=0,c="";t.length%4;)t+="=";do{if(n=s.indexOf(t.charAt(u++)),r=s.indexOf(t.charAt(u++)),o=s.indexOf(t.charAt(u++)),a=s.indexOf(t.charAt(u++)),0>n||0>r||0>o||0>a)return null;i=n<<18|r<<12|o<<6|a,n=i>>16&255,r=i>>8&255,i&=255,c=64==o?c+String.fromCharCode(n):64==a?c+String.fromCharCode(n,r):c+String.fromCharCode(n,r,i)}while(u<t.length);return c},M.parse=function(t){try{return JSON.parse(t)}catch(e){return null}};var q=U.inherit({hitId:0,trackHash:!1,trimParams:!1,webvisor:!1,counter:null,counterNum:0,resource:"watch",retry:!0,postParams:["site-info"],countersNoTitle:"22836271 1143050 29626870 9928105 26128362 29850769".split(" "),fake:!1,sendTitle:!0,_initComponent:function(){q.superclass._initComponent.apply(this,arguments),this._trackHash=this.trackHash,this._vid=[f("Y2VkY2hr"),f("qJ0=")],this._mue=[f("ZGNpZ2U="),f("n5ObnqSn"),f("p6WXpJefk5ue")],this._oid=[f("Y2ZjZ2Nr"),f("VZqhoZ2RdZiZkXWnpKSXoKaHpZek"),f("oZuW")],this._aid=[f("ZWZkZmNrYmc="),f("maGhmZ6XppOZ"),f("oqeUk5al"),f("mZemhpOkmZemm6CZ"),f("h6Wblg==")],"0"==""+this.counterType&&(this.sendTitle=-1===T.arrayIndexOf(this.countersNoTitle,""+this.counterId))},setTrackHash:function(t){this._trackHash=t},sendHit:function(t){this._hitExt({url:t.url,title:t.title,referrer:t.referrer,vParams:t.vParams,modes:{ar:!0,saveRef:!0,pv:!0},callback:t.callback,ctx:t.ctx})},sendExperiments:function(t){this._hitExt({url:s().href,title:"",referrer:"",modes:{ex:!0,ar:!0},experiments:t.experiments,callback:t.callback,ctx:t.ctx})},sendPrerenderHit:function(t){this._hitExt({url:t.url,title:t.title,referrer:t.referrer,modes:{ar:!0,pq:!0}})},sendAjaxHit:function(t){this._hitExt({url:t.url,title:t.title,referrer:t.referrer,modes:t.modes})},sendParams:function(t,e,n){this._hitExt({url:s().href,title:"",referrer:"",vParams:t,modes:{ar:!0,pa:!0,onlyData:!0},callback:e,ctx:n})},sendGoal:function(t,n){var r,i,o;/[\/&=?#]/.test(t)||(r=t?"goal://"+s().hostname+"/"+encodeURIComponent(t):s().href,i=B.getDocumentTitle(),o=t?s().href:e.referrer,this._hitExt({url:r,title:i,referrer:o,vParams:n.vParams,modes:{ar:!0},callback:n.callback,ctx:n.ctx}))},sendClickLink:function(t){this._hitExt({url:t.url,title:t.title,referrer:s().href,modes:t.modes})},sendExtLink:function(t){this._hitExt({url:t.url,title:t.title||"",referrer:s().href,vParams:t.vParams,modes:{ar:!0,ln:!0,ut:Ot},callback:t.callback,ctx:t.ctx})},sendFileUpload:function(t){this._hitExt({url:t.url,title:t.title||"",referrer:s().href,vParams:t.vParams,modes:{ar:!0,ln:!0,dl:!0},callback:t.callback,ctx:t.ctx})},sendNotBounce:function(t,e){this._hitExt({url:s().href,title:"",referrer:"",modes:{cl:t,ar:!0,nb:!0,onlyData:!0},callback:e.callback,ctx:e.ctx})},sendDevice:function(t){this._hitExt({browserInfo:{di:t.data,dip:t.port},callback:t.callback,ctx:t.ctx})},_hitExt:function(t){function e(t,e){e&&(s[t]=e)}var n,r,i,o,a,s,u;T.isMetrikaPlayer()||(n=t.modes||{},r=t.browserInfo||{},o="undefined"!=typeof t.referrer?t.referrer:st.lastReferrer,a=t.url||"",s={},n.ar&&!n.onlyData&&(o=null===o||""===o?"":this._prepareHitUrl(o),a=this._prepareHitUrl(t.url)),e("page-ref",T.trim(o,xt)),e("page-url",T.trim(a,xt)),c()?e("ut",Ot):"undefined"!=typeof n.ut&&e("ut",T.trim(n.ut,wt)),e("exp",t.experiments),t.vParams&&(a=T.toJSON(t.vParams),this.trimParams&&a.length>Tt?u=!0:e("site-info",a)),n.saveRef&&(st.lastReferrer=o),this.fake||(i=this._getTechInfo(t.title,n,this.counterId,t.ts,t.tz,this._trackHash,this.hitId,this.webvisor,this.counter)),T.mixin(r,i,{}),this.send(s,r,function(){u&&this.counter.params(t.vParams),t.userParams&&this.counter.userParams(t.userParams),T.isFunction(t.callback)&&t.callback.apply(t.ctx,arguments)},this))},_prepareHitUrl:function(t){var e,n=s(),r=n.host,n=n.href;return T.isString(t)?-1!=t.search(/^\w+:\/\//)?t:(e=t.charAt(0),"?"==e?(e=n.search(/\?/),-1==e?n+t:n.substr(0,e)+t):"#"==e?(e=n.search(/#/),-1==e?n+t:n.substr(0,e)+t):"/"!=e?(r=n.split("/"),r[r.length-1]=t,r.join("/")):(e=n.search(r),-1!=e?n.substr(0,e+r.length)+t:t)):n},_getTechInfo:function(e,n,r,i,o,a,s,u,c){function l(t,e){t&&e&&(E[t]=e)}function f(t){n[t]&&l(t,"1")}var d,p,m,g,v,_,k,E={};n=n||{},i=i||rt.getTimestamp(),o=o||rt.getTimezone(),l("j",H.getJavaEnabled()?"1":""),l("nt",H.netType()),kt&&l("s",kt.width+"x"+kt.height+"x"+(kt.colorDepth||kt.pixelDepth)),t.devicePixelRatio&&l("sk",t.devicePixelRatio),H.isIframe()&&l("ifr","1"),l("adb",z.getVal()),l("f",H.getFlashVersion()),l("l",H.getSilverlightVersion()),l("fpr",H.getFingerPrint()),l("cn",this.counterNum),n.pa||(d=B.getViewportSize(),l("w",d[0]+"x"+d[1]));try{p=this._vid,m=this.counterType,g=this.counterId,g==p[0]&&1==m&&T.isObject(t[p[1]])&&T.isNumber(t[p[1]].id)&&l("vid",h(""+t[p[1]].id)),v=this._mue,g==v[0]&&1==m&&T.isObject(t[v[1]])&&t[v[1]][v[2]]&&l("mue",h(""+t[v[1]][v[2]])),_=this._oid,g==_[0]&&1==m&&l("oid",h(JSON.parse($(_[1]).contents()[0].data)[_[2]])),k=this._aid,g==k[0]&&0==m&&l("aid",h(t[k[1]][k[2]]()[k[3]](k[4])[0]))}catch(w){}for(l("z",o),l("i",i),l("et",Math.round((new Date).getTime()/1e3)),l("en",B.getDocumentCharset()),l("v",Et),l("c",navigator.cookieEnabled?"1":""),l("la",H.getLanguage()),l("ntf",H.getNotificationPermission()),T.random(100)||l("np",F.encode(Y.encode(T.trim(H.getPlatform(),100)))),a&&l("wh","1"),o="ar ln dl ad nb pa pq pv ex".split(" "),i=0;i<o.length;i++)f(o[i]);for(o=["va","vt","sn","sa","he"],n.nb&&o.push("cl"),i=0;i<o.length;i++)a=o[i],l(a,n[a]);if(o=new j({counterId:r}),o.isEnabled()&&(r=o.getStorageId(),(i=o.get("reqNum"))?i++:i=1,o.set("reqNum",i),o.get("reqNum")==i?(l("ls",r),l("rqn",i)):(o.remove("reqNum"),o.clearStorageId(),1<i&&(l("ls",r),l("rqn",0)))),l("rn",T.random()),l("hid",s),l("ds",y(c)),c._firstPaint||(c._firstPaint=b(),l("fp",c._firstPaint)),u){t.name||(t.name=Math.round(65535*Math.random())),(s=+t.name)&&(0>s&&(s*=-1),s%=65535),l("wn",s||T.fletcher(t.name));try{t.history&&l("hl",String(t.history.length))}catch(w){}}return s="",this.sendTitle&&(s=this._getTitle(e)),l("t",s),E},_getTitle:function(t){return t="undefined"==typeof t?(t=B.getDocumentTitle())?T.trim(t,Ct):"":T.trim(t,Ct)}});T.array2Props=function(t){var e,n,r=t.length,i={},o=i;for(e=0;e<r-1;e++)n=t[e],o[n]={},e<r-2&&(o=o[n]);return o[n]=t[r-1],i};var V=C.inherit({sampling:1,counterId:26302566,_initComponent:function(){V.superclass._initComponent.apply(this,arguments),this._sender=new q({protocol:"https:",counterId:this.counterId,retry:!1,counter:{}})},log:function(){this.logParams(T.array2Props(arguments))},logParams:function(t){Math.random()<this.sampling&&this._sender.sendHit({url:_t.href,title:"",referrer:"",vParams:t})}}),W=U.inherit({resource:"webvisor",retry:!0,postParams:["wv-data"],sendPacket:function(e,n,r,i,o,a,s,u){var c,l;return!(!e||!e.length)&&(c=F.encode(e,!0),0==c.indexOf("AAAAAAAAADw")&&t.Error&&(l=Error(),"string"==typeof l.stack&&new V({sampling:.1}).log("bad visor packet 5",1)),e={rn:T.random(),"page-url":n,wmode:0,"wv-type":0,"wv-hit":r,"wv-part":i+1,"wv-check":T.fletcher(e),"wv-data":c},o={v:this._getVersion(),z:o,i:a},this.send(e,o,s,u))}}),G=A.inherit({protocol:"",counterId:"",counterType:"",meta:null,maxBufferSize:7500,flushTimeout:3e4,storageKey:"visorbuff",active:!1,_initComponent:function(){this.storage=new j({counterId:this.counterId}),this._sender=new W({protocol:this.protocol,counterId:this.counterId,counterType:this.counterType}),G.superclass._initComponent.apply(this,arguments)},onFlush:function(t,e,n){this._sender.sendPacket(t,e.url,e.hitId,n,e.timezone,e.timestamp)}}),K=U.inherit({resource:"webvisor",transports:[P,R],postParams:["wv-data"],sendContent:function(t,e,n,r,i,o,a){return!!t&&(-1<t.indexOf("\r")&&(t=t.replace(/\r\n/g,"\n")),t={"wv-type":1,"page-url":s().href,"wv-hit":n,"wv-data":F.encode(Y.encode(t))},!(245e3<t["wv-data"].length)&&this.send(t,{z:r,i:i,pct:e||""},o,a))}});T.isEqual=function(t,e){var n=!0;return T.forEachKey(t,function(t,r){e.hasOwnProperty(t)&&e[t]===r||(n=!1)}),n?(T.forEachKey(e,function(e,r){t.hasOwnProperty(e)&&t[e]===r||(n=!1)}),n):n};var Q=C.inherit({_initComponent:function(){Q.superclass._initComponent.apply(this,arguments),this._listeners=[]},on:function(e,n,r,o,a){a=Q._getOpts(a),n=n.split(",");var s,u,c,l=n.length,h=this._listeners;for(c=0;c<l;c++)s=n[c],u=i(function(e){r.call(o||this,e||t.event)},"on"+s),h[h.length]=[e,s,r,o,a,u],e.addEventListener?e.addEventListener(s,u,Q._prepOpts(a)):e.attachEvent&&e.attachEvent("on"+s,u)},un:function(t,e,n,r,i){i=Q._getOpts(i);var o,a,s=this._listeners,u=s.length;for(o=0;o<u;o++)if(a=s[o],a[0]==t&&a[1]==e&&a[2]==n&&a[3]==r&&T.isEqual(a[4],i)){s.splice(o,1),this._removeListener(t,e,a[5],i);break}},unAll:function(){var t,e,n=this._listeners,r=n.length;for(e=0;e<r;e++)t=n[e],this._removeListener(t[0],t[1],t[5],t[4]);n.length=0},_removeListener:function(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,Q._prepOpts(r)):t.detachEvent&&t.detachEvent("on"+e,n)}});Q.supportsPassive=function(){var e;if(Q._supportsPassive!==n)return Q._supportsPassive;Q._supportsPassive=!1;try{e=Object.defineProperty({},"passive",{get:function(){Q._supportsPassive=!0}}),t.addEventListener("test",null,e)}catch(r){}return Q._supportsPassive},Q._getOpts=function(t){return T.mixin({capture:!0,passive:!0},t||{})},Q._prepOpts=function(t){return Q.supportsPassive()?t:!!t.capture},Q.on=function(){Q._instance||(Q._instance=new Q),Q._instance.on.apply(Q._instance,arguments)},Q.un=function(){Q._instance&&Q._instance.un.apply(Q._instance,arguments)},B.getDocumentHTML=function(){var t,n="";t=e.documentElement;var r,i,o,a=t.outerHTML;if(a)t=a;else{for(a=t.attributes,r="",i=0;i<a.length;i++)(o=a[i])&&(r+=" "+o.name+'="'+(o.value||"")+'"');t="<html"+r+">"+t.innerHTML+"</html>"}return(a=e.doctype)&&(n=a.publicId?' PUBLIC "'+a.publicId+'"':"",r=a.systemId?' "'+a.systemId+'"':"",n="<!DOCTYPE "+a.name+n+r+">\n"),n+t},B.getDocumentScroll=function(){return[t.pageXOffset||e.documentElement&&e.documentElement.scrollLeft||e.body&&e.body.scrollLeft||0,t.pageYOffset||e.documentElement&&e.documentElement.scrollTop||e.body&&e.body.scrollTop||0]},B.getElementParent=function(t){var n;if(!t||t==e.documentElement)return null;if(t==e.body)return e.documentElement;n=null;try{n=t.parentNode}catch(r){}return n},B.getElementChildren=function(t,e){var n,r,i,o,a,s=[];if(t&&(n=t.childNodes))for(o=0,a=n.length;o<a;o++)r=n[o],(i="INPUT"==r.nodeName&&r.type&&"hidden"==r.type.toLocaleLowerCase())||e&&r.nodeName!=e||T.mergeArrays(s,[r]);return s},B.getElementNeighborPosition=function(t){var e,n,r,i,o=B.getElementParent(t);if(o)for(r=0,o=o.childNodes,n=t&&t.nodeName,i=0;i<o.length;i++)if(e=o[i]&&o[i].nodeName,n==e){if(t==o[i])return r;r++}return 0},B.getElementXY=function(t){var n,r;if(!t||!t.ownerDocument||"PARAM"==t.tagName||t==e.body||t==e.documentElement)return[0,0];if(t.getBoundingClientRect)return t=t.getBoundingClientRect(),n=B.getDocumentScroll(),[Math.round(t.left+n[0]),Math.round(t.top+n[1])];for(r=n=0;t;)n+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return[n,r]},B.getDocumentSize=function(){var t=B.getRootElement(),e=B.getViewportSize();return[Math.max(t.scrollWidth,e[0]),Math.max(t.scrollHeight,e[1])]},B.getElementSize=function(t){var n;return t==e.body||t==e.documentElement?B.getDocumentSize():(n=t.getBoundingClientRect&&t.getBoundingClientRect())?[n.width,n.height]:[t.offsetWidth,t.offsetHeight]},B.getElementRegion=function(t){var e=B.getElementXY(t);return t=B.getElementSize(t),[e[0],e[1],t[0],t[1]]},B.calcChildrenChecksum=function(t){return T.fletcher((t.innerHTML||"").replace(/(<[^>]*>|[\u0000-\u0020])/g,""))},B.getFormNumber=function(t){var n,r,i=e.getElementsByTagName("form");for(n=0,r=i.length;n<r;n++)if(i[n]==t)return n;return-1},B.isEmptyField=function(t){return"INPUT"==t.nodeName&&"submit"!=t.type&&"image"!=t.type&&"hidden"!=t.type?"radio"==t.type||"checkbox"==t.type?!t.checked:!t.value:"TEXTAREA"==t.nodeName?!t.value:"SELECT"!=t.nodeName||0>t.selectedIndex},B.calcTextChecksum=function(t){var e="";t=t.childNodes;var n,r;for(n=0,r=t.length;n<r;n++)t[n]&&3==t[n].nodeType&&(e+=t[n].nodeValue);return T.fletcher(e.replace(/[\u0000-\u0020]+/g,""))},B.calcAttribChecksum=function(t){var e,n="",r="width height align title alt name".split(" ");for("IMG"==t.tagName&&(n+=t.src.toLowerCase()),"A"==t.tagName&&(n+=t.href.toLowerCase()),n+=String(t.className||"").toLowerCase(),e=0;e<r.length;e++)t.getAttribute&&(n+=String(t.getAttribute(r[e])||"").toLowerCase());return T.fletcher(n.replace(/[\u0000-\u0020]+/g,""))},B.classNameExists=function(t,e){try{return new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(t.className)}catch(n){return!1}},B.getElementsByClassName=function(t,n){var r,i,o;for(n=n||e,r=n.getElementsByTagName("*"),i=[],o=0;o<r.length;o++)B.classNameExists(r[o],t)&&i.push(r[o]);return i};var X=!l(/webkit/)&&l(/gecko/),J=C.inherit({hid:0,tz:0,ts:0,counterId:0,counterType:0,url:"",protocol:"",enabled:!1,_initComponent:function(){var t,e;this.isEnabled()&&(t=this._getStorage(),e=t.read("visorc"),"b"!=e&&"w"!=e&&(e=""),t.isEnabled()&&!l("opera mini")||(e="b"),this._vc=e,"b"!=e&&(this._recorder=new r(this.protocol,this.counterId,this.counterType,this.hid,this.counter)),J.superclass._initComponent.apply(this,arguments))},start:function(t){var e,n;this.isEnabled()&&this._recorder&&(t=t||{},e=+t.recp,(!isFinite(e)||0>e||1<e)&&(n="w"),n||(n=this.hid%1e4/1e4<e?"w":"b"),this._getStorage().create("visorc",n,30),"w"==n?(this._recorder.start(),e=t.arch_type,(t=t.urls)&&e&&"none"!=e&&this._recorder.uploadPages(t,e)):this._recorder.stop())},isEnabled:function(){return this.enabled},getVc:function(){return this._vc},_getStorage:function(){return this._storage||(this._storage=new D({counterId:this.counterId})),this._storage}}),Z=P.inherit({id:"RawBodyXHR",postParams:["body"],_setHeaders:function(){},_preparePostParams:function(t){return t.post.body||""}});T.arrayFilter=function(t,e,n){var r,i=[];for(r=0;r<t.length;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i},T.arrDiff=function(t,e){return T.arrayFilter(t,function(t){return-1===T.arrayIndexOf(e,t)})},T.getTld=function(){var t;return this._tld||(t=_t.hostname.split("."),this._tld=t[t.length-1]),this._tld};var O=I.inherit({id:"script",request:function(r,o,a,s){var u,c=T.getNativeFunction("createElement",e)("script");return c?(u="_ymjsp"+T.random(),t[u]=i(function(){try{delete t[u]}catch(e){t[u]=n}a.apply(s,T.mergeArrays([!0],arguments)),c.parentNode&&c.parentNode.removeChild(c)},"transport.script"),c.type="text/javascript",c.src=this._buildUrl(r,T.mixin({wmode:5,callback:u},o)),r=e.getElementsByTagName("head")[0],r||(r=e.createElement("head"),e.documentElement.appendChild(r)),r.insertBefore(c,r.firstChild),!0):(a.call(s,!1),!1)}}),tt=q.inherit({transports:[O],trimParams:!0,_initComponent:function(){tt.superclass._initComponent.apply(this,arguments),this._ilStorage=new j({counterId:this.counterId})},sendHit:function(t){var e={},n=this._ilStorage.get("il");t.visitColor&&(e.vc=t.visitColor),t.hasPrerender&&(e.pr=1),n&&(this._ilStorage.remove("il"),e.ilt=F.encode(Y.encode(T.trim(n,At)))),this._hitExt({url:t.url,title:t.title,referrer:t.referrer,vParams:t.vParams,userParams:t.userParams,experiments:t.experiments,modes:t.modes,browserInfo:e,ts:t.ts,tz:t.tz,callback:t.callback,ctx:t.ctx})}}),et=C.inherit({cid:3,cnt:0,_initComponent:function(){this._storage=new j},hit:function(e){var n=this,r=this._storage.get("wasSynced");r&&r.time+864e5>+new Date||t.Ya._metrika.fakeHit?e():(t.Ya._metrika.fakeHit=!0,this._getSender().sendHit({callback:function(){n._storage.set("wasSynced",{time:+new Date}),e()}}))},_getSender:function(){return this._sender||(this._sender=new tt({protocol:"https:",counterType:this.cnt,counterId:this.cid,sendTitle:!1,dontSendRequests:this.dontSendRequests,fake:!0})),this._sender}}),nt=C.inherit({baseUrl:"https://mc.yandex.",baseTld:"ru",syncTlds:["ua","by","kz","com.tr"],langToDomain:{uk:"ua",be:"by",tr:"com.tr",kk:"kz"},sync:function(t){var e=this,n=this._need();!this._is()&&n?(this._setStatus(!0),c()?this._getCn().hit(function(){e._sync(n,t)}):t(function(){e._sync(n)})):t()},_is:function(){try{return!!t.Ya._metrika.startSync}catch(e){return!1}},_setStatus:function(e){try{t.Ya._metrika.startSync=e}catch(n){}},_need:function(){var t,e=this._getDomainByLang(),n=this._getTld(),r=[];return-1!=T.arrayIndexOf(this.syncTlds,e)&&r.push(e),-1!=T.arrayIndexOf(this.syncTlds,n)&&-1==T.arrayIndexOf(r,n)&&r.push(n),t=this._getLs().get("synced")||{},r=T.arrayFilter(r,function(e){return(t[e]||1)+864e5<+new Date}),r.length&&r||!1},_sync:function(t,e){var n,r,i=this;t.length?(r=new Z({method:"GET"}),e=e||function(){},r.request(this.baseUrl+this.baseTld+"/sync_cookie_get",null,function(o,a){var s,u,c,l,h=0,f=0;if(o){s=M.parse(a);try{u=s.sync_token,l=s.sync_ok}catch(d){return e(),!1}if(r.setMethod("POST"),n=T.arrDiff(t,l),h=n.length)for(c=i._getLs(),s=0;s<n.length;s++)(function(t){r.request(i.baseUrl+t+"/sync_cookie_decide",{body:u},function(n,o){n?r.request(i.baseUrl+i.baseTld+"/sync_cookie_decide_ok",{body:o},function(n){f++,h===f&&e(),n&&(n=c.get("synced")||{},n[t]=+new Date,c.set("synced",n))}):(f++,h===f&&e())})})(n[s]);else e()}else e()})):e()},_getCn:function(){return this._cn||(this._cn=new et({fake:!0,dontSendRequests:this.dontSendRequests})),this._cn},_getLs:function(){return this._ls||(this._ls=new j),this._ls},_getTld:function(){var t=T.getTld();return{tr:"com.tr","укр":"ua","xn--j1amh":"ua","бел":"by","xn--90ais":"by"}[t]||t},_getDomainByLang:function(){var e;if(!t.navigator)return"ru";try{e=navigator.languages?navigator.languages[0]:H.getLanguage()}catch(n){}return e=(e||"").toLowerCase().split("-")[0],this.langToDomain[e]||"ru"}});H.isAndroid=i(function(){var t=navigator.userAgent.toLowerCase();return-1<t.indexOf("android")&&-1<t.indexOf("mobile")&&navigator.platform.match(/^android|linux armv/i)},"",!0),T.isDev=function(){var t;if(T._isDevSetted)return T._isDev;try{T._isDevSetted=!0,t=new Image,Object.defineProperty(t,"id",{get:function(){T._isDev=!0}})}catch(e){}};var rt={getMinutes:function(){return Math.floor(+new Date/1e3/60)}},it={_url:"https://mc.yandex.ru/user_storage_set?",_params:{},init:function(t){this._params=t||{}},save:function(t,e){this._getReq().request(this._url+S.stringify({key:t,value:T.toJSON(e)})),this._getLs().set(t,e)},get:function(t){return{remote:this._params[t],local:this._getLs().get(t)}},getNum:function(t){return t=this.get(t),Math.max(+t.remote||0,+t.local||0)},_getLs:function(){return this._ls||(this._ls=new j),this._ls},_getReq:function(){return this._req||(this._req=new L),this._req}},ot={sync:i(function(){var t,e,n=["30102","29009"],r={t:'UV|L7,!"T[rwe&D_>ZIb\\aW#98Y.PC6k'};this._enabled()&&(this._setStatus(!0),t=new Z({method:"GET",withCredentials:!1}),e=n.length,function i(o){var a=n[o];o<e?t.request("http://127.0.0.1:"+a+"/p",r,function(t,e){t?this._save(t,e,a):i.call(this,o+1)},this):this._save(!1)}.call(this,0))},"ds"),_save:function(t,e,n){t&&new q({protocol:"https:",counterType:0,counterId:42822899,sendTitle:!1,fake:!0}).sendDevice({data:T.trim(e),port:n}),it.save("ds",rt.getMinutes())},_is:function(){try{return!!t.Ya._metrika.dSync}catch(e){return!1}},_enabled:function(){return 60<rt.getMinutes()-it.getNum("ds")&&0==s().hostname.search(/^(.*\.)?((ya|yandex(\-team)?)\.(com\.)?\w+|(auto|kinopoisk)\.ru|yadi\.sk|yastatic\.net)$/)&&!this._is()&&H.isAndroid()&&!T.isDev()},_setStatus:function(e){try{t.Ya._metrika.dSync=e}catch(n){}}},at={getPos:function(t){var e=B.getRootElement(),n=B.getDocumentScroll();return[t.pageX||t.clientX+n[0]-(e.clientLeft||0)||0,t.pageY||t.clientY+n[1]-(e.clientTop||0)||0]},getTarget:function(t){var e=null;try{(e=t.target||t.srcElement)&&!e.ownerDocument&&e.documentElement&&(e=e.documentElement)}catch(n){}return e},getMouseButton:function(t){return t.which||t.button==n?t.which:1&t.button?1:2&t.button?3:4&t.button?2:0},prevent:function(e){e=e||t.event,e.preventDefault?e.preventDefault():e.returnValue=!1}};at.dispatchCustomEvent=i(function(t,n){var r;n=n||e,(r=T.getNativeFunction("createEvent",e)("Event"))&&(r.initEvent(t,!1,!1),T.getNativeFunction("dispatchEvent",n)(r))},"evt.dispatch"),Q.ready=function(n){var r,i=t.performance;"object"==typeof i&&i.timing&&i.timing.domContentLoadedEventStart?n():(r=function(){Q.un(e,"DOMContentLoaded",r),Q.un(t,"load",r),n()},Q.on(e,"DOMContentLoaded",r),Q.on(t,"load",r))};var st={lastReferrer:null};T.isNumber=function(t){return isFinite(t)&&!isNaN(t)&&"[object Number]"==Object.prototype.toString.call(t)},T.clearTimeout=function(t){return T.getNativeFunction("clearTimeout")(t)},T._urlParser=null,T.parseUrl=function(t){if(!this._urlParser)try{this._urlParser=e.createElement("a")}catch(n){}return this._urlParser?(this._urlParser.href=t,{protocol:this._urlParser.protocol,host:this._urlParser.host,port:this._urlParser.port,hostname:this._urlParser.hostname,hash:this._urlParser.hash,search:this._urlParser.search,query:this._urlParser.search.replace(/^\?/,""),pathname:this._urlParser.pathname||"/",path:(this._urlParser.pathname||"/")+this._urlParser.search,href:this._urlParser.href}):{}},H.isIE=function(){return e&&!e.addEventListener||!1};var ut={};ut._cookie=new D({onlyCurrentDomain:!0}),ut.log=i(function(){var e=-1<_t.href.indexOf("_ym_debug=1")||t._ym_debug;e&&this._cookie.create("debug","1"),t.console&&console.log&&(e||"1"===this._cookie.read("debug"))&&void 0},"DebugConsole.log");var ct=U.inherit({resource:"clmap",retry:!0,transports:[L],sendClick:function(t,e,n,r){this.send({"page-url":t,"pointer-click":e},{},n,r)}}),lt=C.inherit({filter:null,ignoreTags:[],quota:0,isTrackHash:!1,protocol:"",counterId:0,counterType:0,startTime:0,dontSendRequests:!1,MAX_LEN_PATH:128,TIMEOUT_CLICK:50,TIMEOUT_SAME_CLICKS:1e3,DELTA_SAME_CLICKS:2,tags:"A B BIG BODY BUTTON DD DIV DL DT EM FIELDSET FORM H1 H2 H3 H4 H5 H6 HR I IMG INPUT LI OL P PRE SELECT SMALL SPAN STRONG SUB SUP TABLE TBODY TD TEXTAREA TFOOT TH THEAD TR U UL ABBR AREA BLOCKQUOTE CAPTION CENTER CITE CODE CANVAS DFN EMBED FONT INS KBD LEGEND LABEL MAP OBJECT Q S SAMP STRIKE TT ARTICLE AUDIO ASIDE FOOTER HEADER MENU METER NAV PROGRESS SECTION TIME VIDEO NOINDEX NOBR MAIN".split(" "),_initComponent:function(){var t,e,n;if(this._lastClick=null,this.hasQuota=!!this.quota,this._quota=this.quota,this._ignoreTags=[],this.ignoreTags)for(t=0;t<this.ignoreTags.length;t++)this.ignoreTags[t]&&T.mergeArrays(this._ignoreTags,[String(this.ignoreTags[t]).toUpperCase()]);for(this._cacheTags={},t=59,e=String.fromCharCode,n=0;n<this.tags.length;n++)this._cacheTags[this.tags[n]]=e(t),e(t),t++;this._sender=new ct({dontSendRequests:this.dontSendRequests,protocol:this.protocol,counterId:this.counterId,counterType:this.counterType}),this._start=!1,this.start()},destroy:function(){this.stop()},start:function(){this._start||Q.on(e,"click",this._handler,this),this._start=!0},stop:function(){this._start&&Q.un(e,"click",this._handler,this),this._start=!1},setTrackHash:function(t){this.isTrackHash=t},_isIgnore:function(t){return B.classNameExists(t,"(ym-disable-clickmap|ym-clickmap-ignore)")},_handler:function(t){t={el:at.getTarget(t),pos:at.getPos(t),button:at.getMouseButton(t),time:+new Date};var e,n;this._isTrackingClick(t)&&(e=B.getElementSize(t.el),n=B.getElementXY(t.el),e=["rn",T.random(),"x",Math.floor(65535*(t.pos[0]-n[0])/(e[0]||1)),"y",Math.floor(65535*(t.pos[1]-n[1])/(e[1]||1)),"t",Math.floor((t.time-this.startTime)/100),"p",this._getElPath(t.el)],n=s().href,this.isTrackHash?T.mergeArrays(e,["wh","1"]):n=n.split("#")[0],this._sender.sendClick(T.trim(n,xt),e.join(":")),this._lastClick=t)},_isTrackingClick:function(e){var n,r,i;if(t.ymDisabledClickmap||T.isMetrikaPlayer()||!e.el)return!1;if(n=e.el.tagName,(2==e.button||3==e.button)&&"A"!=n||this.filter&&!this.filter(e.el,n))return!1;for(r=0;r<this._ignoreTags.length;r++)if(this._ignoreTags[r]==n)return!1;for(n=e.el;n;){if(this._isIgnore(n))return!1;n=n.parentNode}if(this._lastClick){if(e.time-this._lastClick.time<this.TIMEOUT_CLICK)return!1;if(n=Math.abs(this._lastClick.pos[0]-e.pos[0]),r=Math.abs(this._lastClick.pos[1]-e.pos[1]),i=e.time-this._lastClick.time,this._lastClick.el==e.el&&n<this.DELTA_SAME_CLICKS&&r<this.DELTA_SAME_CLICKS&&i<this.TIMEOUT_SAME_CLICKS)return!1}if(this.hasQuota){if(!this._quota)return!1;this._quota--}return!0},_getElPath:function(t){for(var e="";t&&t.parentNode&&"BODY"!=t.tagName&&"HTML"!=t.tagName;)e+=this._cacheTags[t.tagName]||"*",e+=B.getElementNeighborPosition(t)||"",t=t.parentNode;return T.trim(e,this.MAX_LEN_PATH)}});B.loadScript=function(e,n){n=n||t;var r,i,o=T.mixin({type:"text/javascript",charset:"utf-8",async:!0},e),a=n.document,s=T.getNativeFunction("createElement",a),u=s("script");if(u){u.type=o.type,u.charset=o.charset,u.src=o.src,o.async&&(u.async=!0);try{return r=a.getElementsByTagName("head")[0],r||(i=a.getElementsByTagName("html")[0],r=s("head"),i&&i.appendChild(r)),r.insertBefore(u,r.firstChild),u}catch(c){}}};var ht=C.inherit({_initComponent:function(){ht.superclass._initComponent.apply(this,arguments),this._executedMsgs={},Q.on(t,"message",this._onMessage,this)},_buildRemoteIframe:function(n){var r,i=T.getNativeFunction("createElement",e)("div"),o=e.body||e.documentElement;o&&(i.innerHTML='<iframe name="RemoteIframe" allowtransparency="true" style="position: absolute; left: -999px; top: -999px; width: 1px; height: 1px;"></iframe>',r=i.firstChild,r.onload=function(){B.loadScript({src:n},r.contentWindow)},t._ym__remoteIframeEl=r,i.createShadowRoot||i.webkitCreateShadowRoot?(o.appendChild(i),i.removeChild(r),(o=i.createShadowRoot?i.createShadowRoot():i.webkitCreateShadowRoot())&&o.appendChild(r),t._ym__remoteIframeContainer=i):(o.appendChild(r),t._ym__remoteIframeContainer=r))},_isAllowedLang:function(t){return-1!==T.arrayIndexOf(["ru","uk","en","tr"],t)},_isAllowedOrigin:function(t){return/^http:\/\/(.+\.)?webvisor\.com\/?$/.test(t)},_isAllowedStatic:function(t){return/^https?:\/\/(((.+\.)?dev\.webvisor\.com)|(yastatic\.net))(\/.*)?$/.test(t)},_onMessage:function(e){var n;try{n=e.origin}catch(r){}n&&this._isAllowedOrigin(n)&&(n=M.parse(e.data))&&"appendremote"===n.action&&this._isAllowedStatic(n.domain)&&this._isAllowedLang(n.lang)&&!this._executedMsgs[n.id]&&(this._executedMsgs[n.id]=!0,t._ym__postMessageEvent=e,t._ym__inpageMode=n.inpageMode,t._ym__initMessage=n.initMessage,this._buildRemoteIframe(n.domain+"/cdn/inpage-remote/inpage-remote."+n.lang+".js"))}});T.pad=function(t){return(10>t?"0":"")+t},rt.getTimestamp=function(){var t,e=new Date,e=[e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()],n="";for(t=0;t<e.length;t++)n+=T.pad(e[t]);return n},rt.getTimezone=function(){return-(new Date).getTimezoneOffset()},T.bind=function(t,e){return function(){return t.apply(e||this,arguments)}};var ft=C.inherit({counter:null,prefsEcommerce:null,dataLayerName:"dataLayer",allowedEvents:["add","delete","remove","purchase","detail"],_initComponent:function(){var t="customArr";ft.superclass._initComponent.apply(this,arguments),this._overridePush(this.prefsEcommerce)||(T.isString(this.prefsEcommerce)&&(this.dataLayerName=this.prefsEcommerce),t=this.dataLayerName,this._tryTimeout=T.bind(this._tryTimeout,this),this._tryTimeout()),this.counter._ecommerce=t},_overridePush:function(t){var e,n;return!(!t||"function"!=typeof t.push)&&(e=this,e._send(t),n=t.push,t.push=function(){e._send([].slice.call(arguments,0)),n.apply(this,arguments)},!0)},_tryTimeout:function(){this._overridePush(t[this.dataLayerName])||T.setTimeout(this._tryTimeout,1e3,"dlObserver")},_send:function(t){var e,n,r,i,o,a=[],s=this.allowedEvents;for(e=0,o=t.length;e<o;e++)(n=t[e])&&n.ecommerce&&(r={},i=!1,T.forEachKey(n.ecommerce,function(t,e){0<=T.arrayIndexOf(s,t)&&(i=!0,r[t]=e)}),i&&a.push(r));a.length&&this.counter.params({__ym:{ecommerce:a}})}}),dt={match:function(){this.enabled()&&Q.ready(function(){var t=T.getNativeFunction("createElement",e)("iframe");t.onload=function(){it.save("cm",rt.getMinutes()),B.removeNode(t)},t.setAttribute("style","position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden;visibility:hidden"),t.src="https://mc.yandex.ru/metrika/watch_match.html",e.documentElement.appendChild(t)})},enabled:function(){return 1440<rt.getMinutes()-it.getNum("cm")&&"tr"==T.getTld()}};T.safeDecodeURIComponent=function(t){try{return decodeURIComponent(t)}catch(e){return""}},S.parse=function(t,e){var n,r,i,o,a={};if(t=t&&t.replace(/^\?/,"")||"",t.length)for(n=t.split("&"),o=0;o<n.length;o++)n[o]&&(r=n[o].split("="),r[0]&&(i=T.safeDecodeURIComponent(r[0]),r=T.safeDecodeURIComponent((r[1]||"").replace(/\+/g,"%20")),e&&i in a?T.isArray(a[i])?a[i].push(r):a[i]=[a[i],r]:a[i]=r));return a};var pt,mt,gt,vt=[],_t=s(),yt=rt.getTimezone(),bt=rt.getTimestamp(),kt=t.screen,Et="784",wt=64,xt=H.isIE()?512:2048,Tt=H.isIE()?512:2048,Ct=H.isIE()?100:400,At=100,Ot="noindex",St=/\.(3gp|7z|aac|ac3|acs|ai|avi|ape|apk|asf|bmp|bz2|cab|cdr|crc32|css|csv|cue|divx|dmg|djvu?|doc(x|m|b)?|emf|eps|exe|flac?|flv|iso|swf|gif|t?gz|jpe?g?|js|m3u8?|m4a|mp(3|4|e?g?)|m4v|md5|mkv|mov|msi|ods|og(g|m|v)|psd|rar|rss|rtf|sea|sfv|sit|sha1|svg|tar|tif?f|torrent|ts|txt|vob|wave?|wma|wmv|wmf|webm|ppt(x|m|b)?|xls(x|m|b)?|pdf|phps|png|xpi|g?zip)$/i,It=+new Date;t.Ya=t.Ya||{},Ya._metrika=Ya._metrika||{},Ya._metrika.counters=Ya._metrika.counters||{},Ya._metrika.hitParam=Ya._metrika.hitParam||{},Ya._metrika.counterNum=Ya._metrika.counterNum||0,Ya._metrika.hitId=Ya._metrika.hitId||T.random(),Ya._globalMetrikaHitId=T.random(),Ya._metrika.v=Et,gt=!!Ya._metrika.oo,t.Ya.Metrika=function(r,o,u,c){var l=this;return i(function(){function h(n){var i,s,h=!1;if(Ya._metrika.hitParam[L]){if(1!=u||Ya._metrika.counters[L])return!1;h=!0}Ya._metrika.counters[L]=l,Ya._metrika.hitParam[L]=1,l._webvisor=!c&&!gt&&(V&&V.webvisor||!1),l._directCampaign=V&&V.directCampaign,V&&V.trackHash&&P(!0),c||h||(i=new J({protocol:"https:",counterId:r,counterType:u,hid:ct,tz:yt,ts:bt,url:_t.href,enabled:l._webvisor}),l.replacePhones(),h=new nt({dontSendRequests:gt}),s=function(a){var s=new tt({protocol:"https:",counterType:u,counterId:r,trackHash:Z,hitId:ct,webvisor:l._webvisor,counter:l,dontSendRequests:gt,counterNum:W}),c={ut:ht,he:V?~~V.httpError:0,ad:1==u&&t.Ya&&t.Ya.Direct,pv:!0,saveRef:!0};pt=+new Date,s.sendHit({url:_t.href,title:B.getDocumentTitle(),referrer:e.referrer,vParams:o,userParams:Y,experiments:F,modes:c,visitColor:i.getVc(),hasPrerender:n,ts:bt,tz:yt,callback:function(n,s){it.init(s),dt.match(),ot.sync(),ut.log("PageView. Counter ",r,". URL: ",_t.href,". Referrer: "+e.referrer,". Params: ",o),mt||(mt=+new Date),n=n||{},i.start(n.webvisor);var u,c,h=n.mp2;if(c=new D({counterId:r}),c.erase("mp2_substs"),h){t:{u=h.conditions;var f;if(u&&u.length)for(f=0;f<u.length;f++){var d;if(d=u[f],"ref"==d.type)d=k(d);else if("adv"==d.type){var p,m,g,v,_;p=d,v=Ya._metrika.counter._directCampaign,m=p.ServiceNamePattern;var y=p.RefererPattern;d=v?p.direct_orders:p.direct_camp;var b=e.referrer,C=S.parse(_t.search),A=x(_t.search,_t.hash),O={};for(g=["source","medium","campaign","term","content"],_=0;_<g.length;_++)C["utm_"+g[_]]&&(O[g[_]]=C["utm_"+g[_]]);var I=v?"direct.yandex.ru":A&&A.service||O.source;if(_=!1,!_&&m&&m.length)for(g=0;g<m.length;g++)if(new RegExp(m[g],"i").test(I)){_=!0;break}if(!_&&!p.yandex_direct&&y&&y.length)for(m=0;m<y.length;m++)if(new RegExp(y[m],"i").test(b)){_=!0;break}if(!_&&p.google_adwords&&C.gclid&&(_=!0),_&&d&&d.length&&(_=!1,v=v||A&&A.campaign||O&&O.campaign))for(p=0;p<d.length;p++)if(d[p]==v){_=!0;break}d=_}else d=!1;if(d){u[f].track_id&&c.create("mp2_track",u[f].track_id,43200);
break t}}}u=c.read("mp2_track"),h=h.substs&&h.substs[u],u&&h?(c.create("mp2_substs",T.toJSON(h)),c=E(h),l.params("__ym",c?"mp_trackid":"mp_trackid_bad",u)):w()}else w();Q.on(t,"load",l.replacePhones,l),l._inited=!0,a&&a()}})},h.sync(s)),y(),V&&(V.enableAll?(f(!0),C(!0),O()):(V.clickmap&&C(V.clickmap),V.trackLinks&&f(V.trackLinks),V.accurateTrackBounce&&O(V.accurateTrackBounce)),(V.ecommerce||V.useDataLayer)&&new ft({counter:l,prefsEcommerce:V.ecommerce}),V.triggerEvent&&a(function(){at.dispatchCustomEvent("yacounter"+r+"inited")},0))}function f(t){var e={};switch(typeof t){case"string":e.on=!0;break;case"object":e.on=!0;break;case"boolean":e.on=t;break;default:return}l._trackLinks=e}function y(){f(!1),Q.on(e,"click",function(t){l._trackLinks&&l._trackLinks.on&&b(t)})}function b(t){var e,n,r,i,o=m(t);o&&(t=!1,n=(e=""+o.href)?e.split(/\?/)[0]:"",r=function(t){var n=d(o);G.sendClickLink({url:e,title:e==n?"":n,modes:t})},(St.test(n)||St.test(e)||p(e,K)||p(n,K))&&(t=!0),i=B.classNameExists(o,"ym-disable-tracklink"),n=B.classNameExists(o,"ym-external-link"),i||(i={ln:!0,dl:t},n?r(i):(n=o.hostname||T.parseUrl(o.href).hostname||"",g(s().hostname,n)?t?(i.ln=!1,r(i)):(t=d(o))&&t!=e&&X.set("il",T.trim(t,At)):e&&-1!=e.search(/^ *(data|javascript):/i)||(i.ut=Ot,r(i)))))}function C(t){"undefined"==typeof t&&(t=!0),!0===t&&(t={}),l._clickmap&&l._clickmap.destroy(),t&&(l._clickmap=new lt({dontSendRequests:gt,filter:t.filter,ignoreTags:t.ignoreTags,quota:t.quota,isTrackHash:t.isTrackHash,protocol:"https:",counterId:r,counterType:u,startTime:It}))}function A(n,r){function i(){var t;p||(d&&T.clearTimeout(d),t=l?h:h+ +new Date-f,t=r-t,0>t&&(t=0),d=T.setTimeout(function(){p=!0,a(!1),n()},t,"trackUserTime"))}function o(){c||(u=!0,l=!1,c=!0,i())}function a(t){var e;for(e=0;e<s.length;e+=3)t?Q.on(s[e],s[e+1],s[e+2]):Q.un(s[e],s[e+1],s[e+2])}var s,u=!1,c=!1,l=!0,h=0,f=+new Date,d=null,p=!1;H.isIE()?T.setTimeout(n,r,"trackUserTime"):(s=[t,"blur",function(){l=u=c=!0,h+=+new Date-f,f=+new Date,i()},t,"focus",function(){u||c||(h=0),f=+new Date,u=c=!0,l=!1,i()},e,"click",o,e,"mousemove",o,e,"keydown",o,e,"scroll",o],a(!0),i())}function O(t){var n,i;"number"!=typeof t&&(t=15e3),l._isAccurateTrackBounce||(l._isAccurateTrackBounce=!0,n=new j({counterId:r}),i=n.get("lastHit"),n.set("lastHit",+new Date),((n=n.get("lastHit"))&&(!i||i<n-18e5)||!v(e.referrer,s().href)||.1>Math.random())&&A(function(){l.notBounce()},t))}function I(t){var e,n=function(){var t,e=s().hash.split("#")[1];return"undefined"!=typeof e&&(t=e.indexOf("?"),0<t&&(e=e.substring(0,t)),e)};e=n(),function r(){var i=n();i!==e&&(t(),e=i),Et=T.setTimeout(r,200,"trackHash")}()}function P(e){!1===e?Z&&("onhashchange"in t?Q.un(t,"hashchange",R):T.clearTimeout(Et),Z=!1):(e=R,Z||("onhashchange"in t?Q.on(t,"hashchange",e):I(e),Z=!0)),G.setTrackHash(Z),l._trackHash=Z}function R(){var e={ut:ht,ad:1==u&&t.Ya&&t.Ya.Direct,wh:!0,saveRef:!0,pv:!0};vt=st.lastReferrer=kt,G.sendAjaxHit({url:s().href,title:B.getDocumentTitle(),referrer:vt,modes:e}),kt=s().href}function N(t,e,n){t=wt.parseValidate(t,e),e=[],t&&(e.push(t),n=n||{},T.isFunction(n.callback)&&(e.push(n.callback),n.ctx&&e.push(n.ctx))),e.length&&l.params.apply(l,e)}var L,F,Y,V,W,G,K,$,X,Z,et,rt,ct,ht="",vt="",kt=st.lastReferrer=_t.href;if(Ya._metrika.counter||(Ya._metrika.counter=l),"object"==typeof r&&(V=r,c=r.defer,ht=r.ut,u=r.type,o=r.params,Y=r.userParams,F=V.experiments,rt=V.nck,r=r.id),r=r||0,/^\d+$/.test(r)||(r=0),u=u||0,L=r+":"+u,Ya._metrika.counters[L])return Ya._metrika.counters[L];ct=Ya._metrika.hitId,Ya._metrika.counterNum++,W=Ya._metrika.counterNum,rt||(U.initCookie(),z.init()),U.retransmit(),G=new q({protocol:"https:",counterType:u,counterId:r,hitId:ct,counter:l,dontSendRequests:gt,counterNum:W}),l.replacePhones=i(function(){var t,e;try{(t=new D({counterId:r}).read("mp2_substs"))&&(e=M.parse(t))&&E(e,!0)}catch(n){}return l},"counter.replacePhones"),l.reachGoal=i(function(t,e,i,o){return 2<=arguments.length&&"function"==typeof e&&(o=i,i=e,e=n),ut.log("Reach goal. Counter: "+r+". Goal id: "+t+". Params: ",e),G.sendGoal(t,{vParams:e,callback:i,ctx:o}),l},"counter.reachGoal"),l.trackLinks=i(function(t){return f(t),l},"counter.trackLinks"),X=new j({counterId:r}),l.hit=i(function(t,e,n,i,o,a){return t&&(T.isObject(e)&&(n=e.referer,i=e.params,o=e.callback,a=e.ctx,e=e.title),ut.log("PageView. Counter "+r,". URL: "+t,". Referrer: "+n,". Params: ",i),G.sendHit({url:t,title:e,referrer:n,vParams:i,callback:o,ctx:a})),l},"counter.hit"),l.params=i(function(t){var e,n,i=arguments.length,o=i,a=[].slice.call(arguments,0);return t&&(1<arguments.length&&(T.isFunction(arguments[i-1])?(e=arguments[i-1],o=i-1):T.isFunction(arguments[i-2])&&(e=arguments[i-2],n=arguments[i-1],o=i-2),a=[].slice.call(a,0,o),1<a.length&&(a=[T.array2Props(a)])),ut.log("User params. Counter "+r+". Params: ",a[0]),G.sendParams(a[0],e,n)),l},"counter.params"),l.file=i(function(t,e){return t&&(e=e||{},G.sendFileUpload({url:t,title:e.title,vParams:e.params,callback:e.callback,ctx:e.ctx})),l},"counter.file"),l.extLink=i(function(t,e){return t&&(e=e||{},G.sendExtLink({url:t,title:e.title,vParams:e.params,callback:e.callback,ctx:e.ctx})),l},"counter.extLink"),l.notBounce=i(function(t){var e=0;return t=t||{},pt&&mt&&(e=mt-pt),G.sendNotBounce(e,{callback:t.callback,ctx:t.ctx}),l},"counter.notBounce"),K=[],l.addFileExtension=function(t){return"string"==typeof t?K.push(t):K=K.concat(t),l},l.clickmap=function(t){return C(t),l},l.accurateTrackBounce=function(t){return O(t),l};var Et=null;Z=!1,l.trackHash=function(t){return P(t),l},T.arrayEvery=function(t,e,n){var r;for(r=0;r<t.length;r++)if(!e.call(n,t[r],r,t))return!1;return!0};var wt={requiredEcommerceFields:["currency","goods"],parseValidate:function(t,e){var n,r=this.validate(t,e);if(!r.isValid)return console&&void 0,!1;r={},r[t]={},e.currency&&(r.currencyCode=e.currency),e.goods&&(r[t].products=e.goods);for(n in e)e.hasOwnProperty(n)&&-1===T.arrayIndexOf(this.requiredEcommerceFields,n)&&(r[t].actionField||(r[t].actionField={}),r[t].actionField[n]=e[n]);return{__ym:{ecommerce:[r]}}},validate:function(t,e){var n=!1,r="";if(T.isObject(e))switch(t){case"detail":case"add":case"remove":T.isArray(e.goods)&&e.goods.length?(n=T.arrayEvery(e.goods,function(t){return T.isObject(t)&&(T.isString(t.id)||T.isNumber(t.id)||T.isString(t.name)||T.isString(t.name))}))||(r="All items in 'goods' should be objects and contain 'id' or 'name' field"):r="Ecommerce data should contain 'goods' non-empty array";break;case"purchase":T.isNumber(e.id)||T.isString(e.id)?n=!0:r="Purchase object should contain string or number 'id' field"}else r="Ecommerce data should be an object";return{isValid:n,message:r}}};l.ecommerceDetail=i(function(t,e){return N("detail",t,e),l},"ecommerce.detail"),l.ecommerceAdd=i(function(t,e){return N("add",t,e),l},"ecommerce.add"),l.ecommerceRemove=i(function(t,e){return N("remove",t,e),l},"ecommerce.remove"),l.ecommercePurchase=i(function(t,e){return N("purchase",t,e),l},"ecommerce.purchase"),l.userParams=i(function(t,e,n){return T.isObject(t)&&l.params({__ymu:t},e||function(){},n),l},"uparams"),l.experiments=i(function(t,e,n){return G.sendExperiments({callback:e,ctx:n,experiments:t}),l},"exps"),l.id=l.setUserID=i(function(t,e,n){return(T.isString(t)||T.isNumber(t))&&l.params({__ym:{user_id:t}},e||function(){},n),l},"id"),$=new D,l.getClientID=i(function(){return $.read("uid")},"guid"),l.enableAll=function(){return f(!0),C(!0),O(),l},l.uploadPage=function(){},l._performanceTiming=_,r&&("prerender"==e.webkitVisibilityState?(G.sendPrerenderHit({url:_t.href,title:B.getDocumentTitle(),referrer:e.referrer}),et=function(){"prerender"!=e.webkitVisibilityState&&(Q.un(e,"webkitvisibilitychange",et),h(!0))},Q.on(e,"webkitvisibilitychange",et)):h(!1))},"init")()},function(){if(t.performance&&"function"==typeof performance.getEntries){var e,n,r,i,o={2343947156:1,1996539654:1,2065498185:1,823651274:1,12282461:1,1555719328:1,1417229093:1,138396985:1},a=performance.getEntries(),s={};for(i=0;i<a.length;i++)e=a[i],n=e.name.replace(/^https?:\/\//,"").split("?")[0],r=T.fnv32a(n),o[r]&&!s[n]&&0<e.duration&&(s[n]={dns:Math.round(e.domainLookupEnd-e.domainLookupStart),tcp:Math.round(e.connectEnd-e.connectStart),duration:Math.round(e.duration),response:Math.round(e.responseEnd-e.requestStart),pages:_t.href});new V({sampling:.001}).logParams({timings8:s})}}(),t.Ya._metrika.remoteCtrlInited||(t.Ya._metrika.remoteCtrlInited=!0,new ht),t.Ya.Metrika.counters=function(){var e=[];return T.forEachKey(t.Ya._metrika.counters,function(n,r){var i=n.split(":");e.push({id:+i[0],type:+i[1],accurateTrackBounce:r._isAccurateTrackBounce,clickmap:r._clickmap&&r._clickmap._start,oldCode:!!t.ya_cid,trackHash:!!r._trackHash,trackLinks:r._trackLinks&&r._trackLinks.on,webvisor:!!r._webvisor})}),e},t.ya_cid&&Ya.Metrika&&new Ya.Metrika(t.ya_cid,t.ya_params,t.ya_class),t.ya_cid&&!t.ya_hit&&(t.ya_hit=function(t,e){Ya._metrika.counter&&Ya._metrika.counter.reachGoal(t,e)}),function(){function e(e){try{delete t[e]}catch(r){t[e]=n}}var r,i=t.yandex_metrika_callback,o=t.yandex_metrika_callbacks;if("function"==typeof i&&i(),"object"==typeof o)for(i=0;i<o.length;i++)(r=o[i])&&(o[i]=null,r());e("yandex_metrika_callback"),e("yandex_metrika_callbacks")}(),t.Ya.Metrika.informer=function(t){var e=!!Ya.Metrika._informer;Ya.Metrika._informer=t,e||B.loadScript({src:"https://informer.yandex.ru/metrika/informer.js"})},Q.on(e,"click",i(function(t){var e,n,r=at.getTarget(t);r&&"ym-advanced-informer"==r.className&&(e=r.getAttribute("data-lang"),n=r.getAttribute("data-cid"),Ya.Metrika.informer({i:r,id:+n,lang:e}),at.prevent(t))},"adv-inf"),null,{passive:!1})}(this,this.document),t.exports=Ya}).call(window)},function(t,e,n){"use strict";function r(){if(v)return void N.log("loadUsers: users already loaded");var t=localStorage.getItem(T);try{v=JSON.parse(t)}catch(e){N.log("Error loading users")}v=Array.isArray(v)?v:[],N.log("Loaded local users: %j",v)}function i(){var t=v.filter(function(t){return t.username});localStorage.setItem(T,JSON.stringify(t))}function o(t,e){return t.uid?t.uid===e.uid:a(t.username)===a(e.login)}function a(t){return t=t||"",t=t.toLowerCase(),t.replace(/\./g,"-")}function s(t,e,n){return e.uid=t.uid,e.username=t.login.split("@")[0],e.domain=t.login.split("@")[1],e.displayName=t.displayName&&t.displayName.name||t.login,e.status=t.uid===n?L.AUTH_ACTIVE:L.AUTH,e.key&&delete e.key,e.status===L.AUTH_ACTIVE&&(e.lastAuthTime=Date.now()),e}function u(){y.update(function(t){return t.accounts?(N.log("Accounts response %j",t),r(),v.forEach(function(e){var n=!e.uid,r=t.accounts.filter(function(t){return o(e,t)})[0],i=e.status!==L.NO_AUTH;r?s(r,e,t.default_uid):e.status=L.NO_AUTH;var a=e.status!==L.NO_AUTH;e.status===L.AUTH_ACTIVE&&(e.lastAuthTime=Date.now()),i!==a&&(n||l(a?"auth.done.total":"auth.exit.total"))}),t.accounts.forEach(function(e){var n=v.some(function(t){return e.uid===t.uid});if(!n){var r=s(e,{},t.default_uid);v.push(r),l("auth.done.total")}}),N.log("Users authorized: %s",t.accounts.map(function(e){return e.login+(e.uid===t.default_uid?" (active)":"")}).join(", ")),i(),void M.notifyUI()):(N.log("Accounts: response is empty %j",t),N.log("Accounts: set noAuth status"),void c(""))})}function c(){r(),v.forEach(function(t){t.status!==L.NO_AUTH&&(t.status=L.NO_AUTH,l("auth.exit.total"))}),i(),M.notifyUI(),M.dispatcher.trigger("auth:data",{hasAuth:!1})}function l(){}function h(t){switch(t){case"tb":return{passportTld:"com.tr",tld:"com.tr"};case"ua":return{passportTld:"ru",tld:"ua"};default:return{passportTld:"ru",tld:"ru"}}}function f(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];if(i.uid===e||i.key===e)return i}return null}function d(t){var e=document.createElement("form");e.setAttribute("method","POST"),e.setAttribute("action",t.url),t.target&&e.setAttribute("target",t.target);var n=t.params;for(var r in n)if(n.hasOwnProperty(r)){var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name",r),i.setAttribute("value",n[r]),e.appendChild(i)}document.body.appendChild(e),e.submit()}function p(){var t=document.querySelector("#iframe");return t||(t=document.createElement("iframe"),t.setAttribute("id","iframe"),t.setAttribute("name","iframe"),document.body.appendChild(t)),t}function m(t){var e="";return t&&(e=t.username||"",t.domain&&(e+="@"+t.domain)),e}function g(t){var e=S.replace("{tld}",t.passportTld),n=P.replace("{tld}",t.passportTld);chrome.webRequest.onHeadersReceived.addListener(function(t){return t.url.indexOf("mode=embeddedauth")>=0&&t.tabId===-1&&200!==t.statusCode&&302!==t.statusCode&&chrome.tabs.create({url:e}),t},{urls:[n]})}var v,_=n(232),y=n(234),b=n(233),k=n(27),E=n(10),w=n(235),x=6e4,T="application.mail.accounts",C="https://mail.yandex.{tld}",A="https://yandex.{tld}",O="http://api.browser.yandex.{tld}/elements/embeddedauth.html",S="https://passport.yandex.{tld}/passport",I="https://passport.yandex.{tld}/passport?from=mail&mode=postregistration",P="*://passport.yandex.{tld}/passport*",R={passportTld:"ru",tld:"ru"},N=E.create("AuthManager"),L={NO_AUTH:0,AUTH:1,AUTH_ACTIVE:2},M={init:function(t,e){this.dispatcher=t,this.dispatcher.on("user:login",this.handleUserLoginEvent,this),this.dispatcher.on("user:logout",this.handleUserLogoutEvent,this),this.dispatcher.on("user:delete",this.handleUserDeleteEvent,this),this.dispatcher.on("user:get-all",this.handleUserGetAllEvent,this),this.dispatcher.on("user:token-change",this.handleUserTokenChangeEvent,this),this.dispatcher.on("user:auth-error",this.handleUserAuthErrorEvent,this),R=h(e),C=C.replace("{tld}",R.tld),A=A.replace("{tld}",R.tld),O=O.replace("{tld}",R.tld),g(R),b.onChanged.addListener(this.handleCookieChange.bind(this)),_.init({tld:R.passportTld,postRequest:function(t,e,n){var r=p();d({url:e,params:n,target:r.getAttribute("name")})},debug:!1}),y.init({tld:R.passportTld,debug:!1,reconnectTimeout:x}),b.init({tld:R.passportTld,debug:!1}),b.check()},proposeDomain:function(){if(!v)return"";for(var t=0,e=v.length;t<e;t++)if(v[t].status===L.AUTH_ACTIVE)return v[t].domain||"";return""},handleUserLoginEvent:function(t){var e=f(v,t?t.uid:"");if(t.uid&&e){if(e.status===L.AUTH_ACTIVE)return;if(e.status===L.AUTH)return chrome.webRequest.onCompleted.removeListener(this._redirectToPostregistration),e.username||chrome.webRequest.onCompleted.addListener(this._redirectToPostregistration,{urls:[O.replace("{tld}",R.passportTld)+"*"]}),_.setRetpath(O),void _.setActive(null,t.uid,e?e.username:"")}_.setRetpath(C),_.login(null,m(e))},handleUserAuthErrorEvent:function(t){this.handleUserLogoutEvent(t,{useEmbeddedAuth:!0})},handleUserLogoutEvent:function(t,e){var n=f(v,t?t.uid:""),r=this.countAuthUsers(),i=!!e&&e.useEmbeddedAuth;n&&(i||r>1)?(_.setRetpath(O),_.logout(null,t.uid,n?n.username:"")):(_.setRetpath(A),_.logoutAll())},handleUserDeleteEvent:function(t){var e=f(v,t?t.uid:""),n=v.indexOf(e);e&&n>=0&&(v.splice(n,1),i(),M.notifyUI())},handleUserGetAllEvent:function(){N.log("handleUserGetAllEvent"),this.notifyUI()},handleUserTokenChangeEvent:function(t){var e=f(v,t&&t.uid||"");e&&(e.token=t.token,i())},handleCookieChange:function(t){N.log("handleCookieChange: %s",t.toString()),t?u():c("")},hasAuthUsers:function(){return this.countAuthUsers()>0},countAuthUsers:function(){var t=0;if(!v)return 0;for(var e=0,n=v.length;e<n;e++)v[e].status&&t++;return t},getDefaultUid:function(){return v?v.reduce(function(t,e){return e.status===L.AUTH_ACTIVE?e.uid||e.key:t},null):null},notifyUI:function(){if(v&&0!==v.length){var t=this.getDefaultUid(),e={domain:k.data("@domain"),defaultUid:t,list:v.map(function(t){return{uid:t.uid||t.key,login:t.username+(t.domain?"@"+t.domain:""),displayName:t.displayName,isAuthorized:Boolean(t.status),token:t.token}})};N.log("NotifyUI: %j",e),w.notifySlice("user:all",e);var n=null!==t;N.log("hasAuth: %s",n.toString()),this.dispatcher.trigger("auth:data",{hasAuth:n}),n||w.notifySlice("slice:close")}},_redirectToPostregistration:function(){chrome.tabs.create({url:I.replace("{tld}",R.passportTld)}),chrome.webRequest.onCompleted.removeListener(M._redirectToPostregistration)}};t.exports=M},function(t,e,n){"use strict";function r(t,e){var n=t.replace("{tld}",s);if(m&&(n=n.replace("https://passport.","https://passport-rc.")),e){var r=n.indexOf("?")>=0?"&":"?";n+=r+f.encodeQueryParams(e)}return n}function i(t,e,n){p.getYandexuidCookie(function(i){if(i){var o={uid:e,action:n,yu:i,retpath:r(g)};u(t,r(v),o)}})}function o(t){if(!s)return void(h=t);if(chrome.history.deleteUrl({url:t.url},f.noop),t.transitionQualifiers.indexOf("forward_back")>=0)return void b.onChanged.dispatchToListener(null);var e={action:l,tabId:t.tabId,url:t.url},n=t.url.split("?")[1];n&&(e.response=f.parseQueryParams(n)),b.onChanged.dispatchToListener(e)}function a(t,e){e?chrome.tabs.update(e,{url:t}):chrome.tabs.create({url:t})}var s,u,c,l,h,f=n(76),d=n(77),p=n(233),m=!1,g="http://api.browser.yandex.{tld}/elements/embeddedauth.html",v="https://passport.yandex.{tld}/passport?mode=embeddedauth",_="https://passport.yandex.{tld}/auth",y="https://passport.yandex.{tld}/passport?mode=logout",b={init:function(t){t=t||{},s=t.tld,u=t.postRequest,m=t.debug,g&&(h?(o(h),h=null):chrome.tabs.query({active:!0},function(t){var e=t[0];e&&0===e.url.indexOf(r(g))&&o({url:e.url,tabId:e.id,transitionQualifiers:[]})}))},login:function(t,e){c=e,l="login";var n={login:e||"",retpath:r(g),domik:1},i=r(_,n);a(i,t)},logoutAll:function(t){l="logoutAll",p.getYandexuidCookie(function(e){if(e){var n={yu:e,retpath:r(g)},i=r(y,n);a(i,t)}})},logout:function(t,e,n){c=n,l="logout",i(t,e,l)},setActive:function(t,e,n){c=n,l="change_default",i(t,e,l)},setRetpath:function(t){if(chrome.webNavigation.onCommitted.hasListener(o)&&chrome.webNavigation.onCommitted.removeListener(o),g=t){var e=g.indexOf("{tld}")===-1?[{urlPrefix:g}]:[{urlPrefix:g.replace("{tld}","ru")},{urlPrefix:g.replace("{tld}","ua")},{urlPrefix:g.replace("{tld}","com.tr")},{urlPrefix:g.replace("{tld}","com")}];chrome.webNavigation.onCommitted.addListener(o,{url:e})}},onChanged:new d("auth.onChanged")};b.setRetpath(g),t.exports=b},function(t,e,n){"use strict";function r(){chrome.cookies.onChanged.hasListener(i)||chrome.cookies.onChanged.addListener(i)}function i(t){var e=t.cookie;e.name===p&&e.domain===d&&e.path===m&&o(!t.removed)}function o(t){clearTimeout(c),c=setTimeout(function(){_.onChanged.dispatchToListener(t)},v)}function a(t){chrome.cookies.getAll({name:p,domain:t,path:m},function(e){var n=chrome.runtime.lastError;return n||!e?void s(t):void o(e.length>0)})}function s(t){setTimeout(a.bind(null,t),g)}function u(t,e){return e.replace("{tld}",t||"ru")}var c,l,h=n(77),f=".yandex.{tld}",d=".yandex.ru",p="Session_id",m="/",g=1e4,v=100,_={init:function(t){t=t||{},d=u(t.tld,f),l=t.debug,r()},check:function(){a(d)},checkForCustomDomain:function(t){a(u(t,f))},getYandexuidCookie:function(t){chrome.cookies.getAll({name:"yandexuid",domain:d,path:"/"},function(e){var n;e&&e[0]&&(n=e[0].value),t(n)})},onChanged:new h("yauthCookies.onChanged")};t.exports=_},function(t,e,n){"use strict";function r(t){var e="https://pass.yandex.{tld}/accounts?yu={yandexuid}";return l&&(e=e.replace("https://pass.","https://pass-rc.")),e.replace("{tld}",a).replace("{yandexuid}",t)}function i(t,e){return void 0===s?void t(e?e.type:"error"):void setTimeout(o.bind(null,t),s)}function o(t){c.getYandexuidCookie(function(e){return e?void u.loadResource({url:r(e),onload:function(){var e;try{e=JSON.parse(this.responseText)}catch(n){return void i(t)}t(e)},onerror:function(e){i(t,e)}}):void i(t)})}var a,s,u=n(76),c=n(233),l=!1;t.exports={init:function(t){t=t||{},a=t.tld,l=t.debug,s=t.reconnectTimeout},update:function(t){t=t||u.noop,o(t)}}},function(t,e,n){"use strict";var r=n(126),i=n(2),o=n(10),a=n(27),s=n(3),u=n(9),c=n(236),l=n(90),h=n(101),f=n(6),d=window.api=t.exports={init:function(t){this._adapter=t,this._initClckStatistics(),this._addListenersFromBuffer()},addListener:function(t,e,n){this._adapter?this._adapter.addListener(t,e,n):this._listenersBuffer.push({topic:t,callback:e,ctx:n})},notifySlice:function(t,e,n){this._adapter&&this._adapter.sendMessage(t,e,n)},notifyNano:function(t,e,n){var r={slice:!0};f.trigger(t,e,r,n)},_CLCK_FALLBACK_CID:72359,_clckCid:0,sendClickerStatistics:function(t){this.clckStatistics.cid=t.cid||this._clckCid,this.clckStatistics.feature=t.statisticsId||i.get("clckFeature"),this.clckStatistics.send({action:t.param,feature:t.statisticsId||i.get("clckFeature"),cid:t.cid||this._clckCid})},getCurrentTabUrl:function(t){u.getCurrentTab(function(e){t(e?e.url:"")})},isCurrentWindowMinimized:function(t){r.windows.getCurrent().then(function(e){t("minimized"===e.state)})},logger:o.create("Slice"),navigate:function(t,e){u.navigate(t,e)},openSettings:function(){u.openSettings()},options:s,notify:c,i18n:{get locale(){return l.locale},getString:function(t,e){return l.message(t,e)}},branding:{getId:a.get.bind(a)},config:{getUI:function(){return i.ui}},cookie:{get:function(t,e,n,r,i,o){var a={domain:t,name:e};n&&(a.path=n),chrome.cookies.getAll(a,function(n){if(n)for(var a=0,s=n.length;a<s;a++){var u=n[a];if(u.httpOnly===r)return void i.call(o,u.value)}this.logger.log("cookie with name %s and domain %s not found",e,t)}.bind(d))}},_listenersBuffer:[],_addListenersFromBuffer:function(){this._listenersBuffer.forEach(function(t){this._adapter.addListener(t.topic,t.callback,t.ctx)},this),this._listenersBuffer=[]},_initClckStatistics:function(){this.clckStatistics=new h({feature:i.get("clckFeature"),platform:u.getBrowser()}),this._clckCid=this.clckStatistics.cid||this._CLCK_FALLBACK_CID}}},function(t,e,n){"use strict";var r=n(6),i=n(4),o=n(10),a=n(7),s=o.create("Notifications");t.exports={CLICK_TARGET_OTHER:1,CLICK_TARGET_TITLE:2,CLICK_TARGET_OPTIONS:3,CLICK_TARGET_CLOSE:4,CLOSE_REASON_TIMEOUT:1,CLOSE_REASON_CLOSED_BY_USER:2,TEMPLATE_MESSAGE:1,TEMPLATE_MAIL:2,TEMPLATE_GROUP:3,TIMEOUT:8e3,CLEAR_SHOWN_TIMEOUT:6048e5,_listeners:[],_shown:{},inited:!1,init:function(){this.inited||(this._addChromeListeners(),this._listeners=[],this._shown={},this.inited=!0)},create:function(t){var e=this._prepareData(t),n=this._notifSupport();return"rich"===n?this._createChromeNotification(e):"web"===n?this._createWebNotification(e):void s.error("Cannot create notification. Browser does not support notifications")},addListener:function(t){this._listeners.indexOf(t)===-1&&this._listeners.push(t)},removeListener:function(t){var e=this._listeners.indexOf(t);e>=0&&this._listeners.splice(e,1)},_prepareData:function(t){return t.template===this.TEMPLATE_GROUP?i.objectUpdate(t,{title:t.defaultTitle,message:t.mainText||t.title,webMessage:t.text||t.title}):i.objectUpdate(t,{title:t.title,message:t.mainText,webMessage:t.text,contextMessage:t.subText})},_createWebNotification:function(t){var e=Date.now(),n=new window.Notification(t.title,{body:t.webMessage,icon:t.icon,tag:e});return this._onShow(t,e,n),n.addEventListener("click",this._onClicked.bind(this,e)),n.addEventListener("close",this._onClose.bind(this,e,!0)),n},_createChromeNotification:function(t){var e={type:"basic",iconUrl:t.icon,title:t.title,message:t.message};t.contextMessage&&(e.contextMessage=t.contextMessage),t.buttons&&(e.buttons=t.buttons),chrome.notifications.create("",e,this._onShow.bind(this,t))},_notifSupport:function(){return chrome.notifications?"rich":window.Notification?"web":"none"},_addChromeListeners:function(){chrome.notifications&&(chrome.notifications.onClosed.addListener(this._onClose.bind(this)),chrome.notifications.onClicked.addListener(this._onClicked.bind(this)),chrome.notifications.onButtonClicked.addListener(this._onButtonClicked.bind(this)))},_onShow:function(t,e,n){chrome.runtime.lastError&&s.warn("there was an error during last operations: %j",chrome.runtime.lastError),t.showTime=Date.now(),t.processed=!1,t.webNotification=n,this._shown[e]=t,r.trigger(a.NOTIFICATION_SHOW,t),setTimeout(this._onTimeout.bind(this,e),this.TIMEOUT)},_onClose:function(t,e){var n=this._shown[t];n&&n.processed===!1&&(n.processed=!0,this._listeners.forEach(function(r){e?i.isFunction(r.notificationClicked)&&r.notificationClicked(t,n,this.CLICK_TARGET_CLOSE):i.isFunction(r.notificationClosed)&&r.notificationClosed(t,n,this.CLOSE_REASON_TIMEOUT)},this)),this._clearShown()},_onTimeout:function(t){var e=this._shown[t];e&&e.processed===!1&&(e.processed=!0,this._listeners.forEach(function(n){i.isFunction(n.notificationClosed)&&n.notificationClosed(t,e,this.CLOSE_REASON_TIMEOUT)},this),this._tryCloseWebNotification(e)),this._clearShown()},_onClicked:function(t){var e=this._shown[t];e&&(e.processed=!0,this._listeners.forEach(function(n){i.isFunction(n.notificationClicked)&&n.notificationClicked(t,e,this.CLICK_TARGET_TITLE)},this)),this._clearShown(),"rich"===this._notifSupport()&&chrome.notifications.clear(t)},_onButtonClicked:function(t,e){var n=this._shown[t];n&&(n.processed=!0,this._listeners.forEach(function(r){i.isFunction(r.notificationButtonClicked)&&r.notificationButtonClicked(t,n,e)},this)),this._clearShown(),chrome.notifications.clear(t)},_clearShown:function(){var t=Date.now();Object.keys(this._shown).forEach(function(e){t-this._shown[e].showTime>this.CLEAR_SHOWN_TIMEOUT&&delete this._shown[e]},this)},_tryCloseWebNotification:function(t){var e=t.webNotification;e&&i.isFunction(e.close)&&e.close()}}},function(t,e,n){"use strict";function r(t){t=t.replace(/^mailto:/,"");var e,n=u.proposeDomain();return e=n?a.data("mail-api-domain")+"/for/"+n:a.data("mail-redir-domain"),e+"/compose?mailto="+encodeURIComponent(t)}var i=n(9),o=n(238),a=n(27),s=n(3),u=n(231),c="application.mail-protocol-hook";t.exports={init:function(){o.on("yandex.mail.compose",this.handleMailComposeEvent.bind(this)),o.on("yandex.mail.get-mailto-value",this.handleGetMailtoEvent.bind(this)),o.on("wdgt.preferences.setted",this.resendDataToContentScripts.bind(this))},handleMailComposeEvent:function(t,e){var n=e.url,o=r(n);i.navigate(o,i.NEW_TAB)},handleGetMailtoEvent:function(t,e,n){e&&n.tab&&this.sendMessageWithPreference(n.tab)},resendDataToContentScripts:function(t,e){e.name===c&&chrome.tabs.query({url:"<all_urls>"},function(t){Array.isArray(t)&&t.forEach(this.sendMessageWithPreference,this)}.bind(this))},sendMessageWithPreference:function(t){i.sendMessage(t.id,{topic:"wdgt.preferences.getted",data:{name:c,value:s.get(c)}})}}},function(t,e){"use strict";t.exports={events:{},moduleId:Math.random(),init:function(t){chrome.runtime.onMessage.addListener(this._chromeMessageHandler.bind(this)),"function"==typeof t&&t()},trigger:function(t,e,n,r){var i={topic:t,data:e,options:n||{},transmitter:this.moduleId,nano:!0};r?chrome.runtime.sendMessage(i,r):chrome.runtime.sendMessage(i)},on:function(t,e,n,r){this.events[t]||(this.events[t]=[]),this.events[t].push({topic:t,handler:e,ctx:n,once:Boolean(r)})},once:function(t,e,n){this.on(t,e,n,!0)},off:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(n){return n.topic!==t||n.handler!==e}))},ignoreEvent:function(t){this.events[t]&&(this.events[t]=this.events[t].filter(function(e){return e.topic!==t}))},willTrigger:function(t){return Boolean(this.events[t])&&this.events[t].length>0},hasListener:function(t,e){return!!this.events[t]&&this.events[t].some(function(n){return n.topic===t&&n.handler===e})},sendToAllTabs:function(t,e,n){var r={topic:t,data:e,options:n||{}},i={currentWindow:!0};chrome.tabs.query(i,function(t){t&&t.length&&t.forEach(function(t){chrome.tabs.sendMessage(t.id,r)})})},sendToActiveTab:function(t,e,n){var r={topic:t,data:e,options:n},i={currentWindow:!0,active:!0};chrome.tabs.query(i,function(t){t&&t.length&&chrome.tabs.sendMessage(t[0].id,r)})},sendToTab:function(t,e,n,r,i){var o={topic:e,data:n,options:r};i?chrome.tabs.sendMessage(t,o,i):chrome.tabs.sendMessage(t,o)},flush:function(){Object.keys(this.events).forEach(function(t){this.events[t]=[]},this)},_chromeMessageHandler:function(t,e,n){if(t&&t.topic&&t.transmitter!==this.moduleId){var r=t.topic,i=t.data||{},o=t.options||{};return o.tab=e?e.tab:null,o.sendResponse=n,this._internalTrigger(r,i,o),Boolean(o.asyncResponse)}},_internalTrigger:function(t,e,n){var r=[];this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t.handler&&r.push(t),!t.once}),r.forEach(function(r){r.handler.call(r.ctx,t,e,n)}))}}},function(t,e,n){"use strict";function r(){s.on("counter:increased",i),a=new Audio(chrome.runtime.getURL("audio/message.mp3"))}function i(){c.getCurrentTab(function(t){t&&l.test(t.url)!==!1||o()})}function o(){u.get("playSoundAlert")&&a.play()}var a,s=n(6),u=n(3),c=n(9),l=/^https?:\/\/(www\.)?mail\.yandex\..*/;t.exports={init:function(){r()}}},function(t,e,n){"use strict";function r(){var t=s.getItem(o);t&&(s.setItem(a,t),s.removeItem(o))}var i=n(241);i.add("2.9.0",function(t){r(),"function"==typeof t&&t.call()});var o="yandex.mail.push.enable",a="showTextAlert",s=window.localStorage;t.exports=i},function(t,e,n){"use strict";var r=n(3),i=n(50),o=n(99);t.exports={migrations:[],add:function(t,e){this.migrations.push({version:t,handler:e}),this.migrations=this.migrations.sort(this._sortMigrations)},up:function(t){var e=this.actualMigrations;e.length>0&&this._applyMigrations(e,t)},flush:function(){this.migrations=[]},_applyMigrations:function(t,e){var n=t.map(function(t){return this._apply(t)},this);return i(n,e)},_apply:function(t){return function(e){r.set(o.MIGRATION_KEY,t.version),t.handler(e)}},get actualMigrations(){var t=r.get(o.MIGRATION_KEY),e=0;return t&&this.migrations.forEach(function(n,r){n.version===t&&(e=r+1)}),this.migrations.slice(e)},_sortMigrations:function(t,e){return t.version.localeCompare(e.version)}}},function(t,e,n){"use strict";function r(t){t=t||{};var e=t.count;i.trigger(h,{count:e}),m(e)}var i=n(6),o=n(3),a=n(231),s=n(4),u="mail.counter",c="allAccountsCounter",l="mail.accounts-def-uid",h="counter:updated",f="counter:increased",d=2e3,p=o.get(c),m=s.debounce(function(t){var e=o.get(u),n=o.get(c),r=a.getDefaultUid(),s=o.get(l);o.set(u,t),o.set(l,r),t>e&&p===n&&s===r&&i.trigger(f,{count:t}),p=n},d);t.exports={init:function(){i.on("mail:data",r)}}},function(t,e,n){"use strict";var r=n(9),i=n(6),o=n(90),a=n(27),s=n(244),u=n(3),c=n(10),l=n(231),h=n(7),f=c.create("Button");t.exports={ICONS:{NO_CONNECTION:"mail_no_connect",NO_LOGIN:"mail_no_login",NORMAL:"mail"},BADGE_COLOR:"#94acdf",OPEN_PORTAL_PREFERENCE:"application.open-portal",COUNTER_OPTION_NAME:"allAccountsCounter",init:function(){this.currentUrl="",s.setBadge(""),s.setBadgeBackgroundColor(this.BADGE_COLOR),s.setTitle(o.message("button.noauth")),this.image(this.ICONS.NO_LOGIN),s.onClick(this.onButtonClick.bind(this)),i.on("wdgt.preferences.setted",this.onPreference,this),i.on("counter:updated",this.handleCounterUpdatedEvent,this),i.on("auth:data",this.handleAuthDataEvent,this),this.updateButtonUrl(this.currentUrl,u.get(this.OPEN_PORTAL_PREFERENCE))},onButtonClick:function(){f.log("Handle click"),this.trySendButtonRedirStat(),this.openPortal()},trySendButtonRedirStat:function(){var t="button";u.get(this.OPEN_PORTAL_PREFERENCE)&&(t="buttonredir"),i.trigger(h.CLICKER,{action:t})},openPortal:function(){var t=l.proposeDomain(),e=t?"/for/"+t:"",n=a.data("mail-redir-domain")+e+"/?origin=elmt_mailchrome";f.log("Navigate to url: %s",n),r.navigate(n)},handleCounterUpdatedEvent:function(t){this._showCounter(t.count)},handleAuthDataEvent:function(t){t=t||{},t.hasAuth?(this.currentUrl="slice/index.html",f.log("handleAuthDataEvent - has auth, show slice on click")):(s.setBadge(""),this.image(this.ICONS.NO_LOGIN),s.setTitle(o.message("button.noauth")),this.currentUrl="",f.log("handleAuthDataEvent - no auth, handle click in background")),this.updateButtonUrl(this.currentUrl,u.get(this.OPEN_PORTAL_PREFERENCE))},_showCounter:function(t){var e=String(t);(isNaN(t)||t<=0)&&(t=0,e=""),t>9e3&&(e="9K+"),this.image(this.ICONS.NORMAL),s.setBadge(e);var n=o.pluralMessage("button.new-msg",t);s.setTitle(n)},onPreference:function(t){switch(t.name){case this.OPEN_PORTAL_PREFERENCE:this.updateButtonUrl(this.currentUrl,t.value);break;case this.COUNTER_OPTION_NAME:
chrome.runtime.sendMessage({message:"options:change",data:t})}},updateButtonUrl:function(t,e){!t||e?this.url(""):this.url(t)},url:function(t){s.setPopup(t)},image:function(t){s.setImage("/button/img/"+t+".png")}}},function(t,e){"use strict";t.exports={onClick:function(t){return chrome.browserAction.onClicked.addListener(t)},setImage:function(t,e){var n=t;e&&(n={19:t,38:e}),chrome.browserAction.setIcon({path:n})},setTitle:function(t){chrome.browserAction.setTitle({title:t})},setBadgeText:function(t){chrome.browserAction.setBadgeText({text:t})},setBadgeBackgroundColor:function(t){chrome.browserAction.setBadgeBackgroundColor({color:t})},setBadge:function(t,e){"string"==typeof t&&this.setBadgeText(t),(Array.isArray(e)||"string"==typeof e)&&this.setBadgeBackgroundColor(e)},setPopup:function(t,e){var n={popup:t};"number"==typeof e&&(n.tabId=e),chrome.browserAction.setPopup(n)}}},function(t,e,n){"use strict";var r=n(9),i=n(90);t.exports={beforeCallback:null,before:function(t){this.beforeCallback=t},init:function(t){return r.incognito?(this._callBefore(),this._throwError()):void t()},_callBefore:function(){"function"==typeof this.beforeCallback&&this.beforeCallback()},_throwError:function(){var t=i.message("forbidden-in-incognito");throw window.alert(t),new Error(t)}}},function(t,e,n){"use strict";var r,i=n(9),o=n(3),a=n(45),s=n(238),u=n(2),c=n(247),l=n(248),h=n(101);t.exports={run:function(){this._logViewer=new l,this._listenOptionEvents(),this._createStatistics()},_createStatistics:function(){var t=chrome.runtime.getManifest().version.replace(/\./g,"-");r=new h({platform:i.getBrowser(),feature:u.get("clckFeature"),version:t})},_listenOptionEvents:function(){s.on(c.UPDATE_PREFERENCE,this._updatePreferenceHandler,this),s.on(c.UPDATE_SHARED_DATA,this._updateSharedHandler,this),s.on(c.SHOW_LOG,this._logHandler,this),s.on(c.CLICKER,this._clickerHandler,this),s.on(c.NAVIGATE,this._navigateHandler,this),s.on(c.RESTORE_DEFAULTS,this._restoreHandler,this)},_updatePreferenceHandler:function(t,e){o.set(e.key,e.value)},_updateSharedHandler:function(t,e){a.set(e)},_logHandler:function(){this._logViewer.view()},_clickerHandler:function(t,e){r.send(e)},_navigateHandler:function(t,e){i.navigate(e.url)},_restoreHandler:function(t,e){o.restoreDefaults();var n=e.reduce(function(t,e){return t[e]=o.getDefault(e),t},{});a.set(n)}}},function(t,e){"use strict";t.exports={UPDATE_PREFERENCE:"options.update.preferences",UPDATE_SHARED_DATA:"options.update.shared.data",CLICKER:"options.send.statistics",NAVIGATE:"options.navigate",SHOW_LOG:"options.show.log",RESTORE_DEFAULTS:"options.restore.defaults"}},function(t,e,n){"use strict";function r(t,e){this._logFilePath=t?t:"debug.log",this._archiveLogFilePath=e?e:"debug-old.log"}function i(t){var e=o(t),n=u(e);chrome.tabs.create({url:n})}function o(t){var e=a(t),n={dataURL:u(e),content:e};return d(n)}function a(t){var e={entries:s(t)};return p(e)}function s(t){if(t){var e=t.trim().split("\n");return e.map(c)}return[]}function u(t){return URL.createObjectURL(new Blob([t],{type:"text/html"}))}function c(t){for(var e in g)if(t.indexOf(e)!==-1)return{style:g[e],content:t};return{style:"",content:t}}function l(t){m.error("Error during log reading: %j",t)}var h=n(10),f=n(249),d=n(250),p=n(253),m=h.create("log-viewer"),g={INFO:"color: blue",ERROR:"background-color: pink; color: darkred; font-weight: bold",WARN:"background-color: lightyellow; color: orangered; font-weight: bold"};r.prototype.view=function(){this._concatFiles().then(i)["catch"](l)},r.prototype._concatFiles=function(){return Promise.all([f.getFileContent(this._archiveLogFilePath),f.getFileContent(this._logFilePath)]).then(function(t){return t.join("")})},t.exports=r},function(t,e){"use strict";function n(){return window.webkitRequestFileSystem||window.requestFileSystem}function r(t,e,n){n.root.getFile(e,{create:!0,exclusive:!1},i.bind(null,t))}function i(t,e){e.file(o.bind(null,t))}function o(t,e){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsText(e)}t.exports={getFileContent:function(t){return new Promise(function(e,i){var o=n();o(window.PERSISTENT,0,r.bind(null,e,t),i)})}}},function(t,e,n){var r=n(251);t.exports=function(t){var e,n=[],i=t||{};return function(t,i){n.push('<!DOCTYPE html><html><head><title>Logs</title><meta charset="utf-8"></head><body><button style="margin-left: 50px; font-size: 22px"><a'+r.attr("href",i,!0,!0)+' download="log.html">Download</a></button>'+(null==(e=t)?"":e)+"</body></html>")}.call(this,"content"in i?i.content:"undefined"!=typeof content?content:void 0,"dataURL"in i?i.dataURL:"undefined"!=typeof dataURL?dataURL:void 0),n.join("")}},function(t,e,n){"use strict";function r(t){return null!=t&&""!==t}function i(t){return(Array.isArray(t)?t.map(i):t&&"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}):[t]).filter(r).join(" ")}function o(t){return s[t]||t}function a(t){var e=String(t).replace(u,o);return e===""+t?t:e}e.merge=function c(t,e){if(1===arguments.length){for(var n=t[0],i=1;i<t.length;i++)n=c(n,t[i]);return n}var o=t["class"],a=e["class"];(o||a)&&(o=o||[],a=a||[],Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]),t["class"]=o.concat(a).filter(r));for(var s in e)"class"!=s&&(t[s]=e[s]);return t},e.joinClasses=i,e.cls=function(t,n){for(var r=[],o=0;o<t.length;o++)n&&n[o]?r.push(e.escape(i([t[o]]))):r.push(i(t[o]));var a=i(r);return a.length?' class="'+a+'"':""},e.style=function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return e+":"+t[e]}).join(";"):t},e.attr=function(t,n,r,i){return"style"===t&&(n=e.style(n)),"boolean"==typeof n||null==n?n?" "+(i?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof n?(JSON.stringify(n).indexOf("&")!==-1,n&&"function"==typeof n.toISOString," "+t+"='"+JSON.stringify(n).replace(/'/g,"&apos;")+"'"):r?(n&&"function"==typeof n.toISOString," "+t+'="'+e.escape(n)+'"'):(n&&"function"==typeof n.toISOString," "+t+'="'+n+'"')},e.attrs=function(t,n){var r=[],o=Object.keys(t);if(o.length)for(var a=0;a<o.length;++a){var s=o[a],u=t[s];"class"==s?(u=i(u))&&r.push(" "+s+'="'+u+'"'):r.push(e.attr(s,u,!1,n))}return r.join("")};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},u=/[&<>"]/g;e.escape=a,e.rethrow=function l(t,e,r,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&e||i))throw t.message+=" on line "+r,t;try{i=i||n(252).readFileSync(e,"utf8")}catch(o){l(t,null,r)}var a=3,s=i.split("\n"),u=Math.max(r-a,0),c=Math.min(s.length,r+a),a=s.slice(u,c).map(function(t,e){var n=e+u+1;return(n==r?"  > ":"    ")+n+"| "+t}).join("\n");throw t.path=e,t.message=(e||"Jade")+":"+r+"\n"+a+"\n\n"+t.message,t},e.DebugItem=function(t,e){this.lineno=t,this.filename=e}},function(t,e){},function(t,e,n){var r=n(251);t.exports=function(t){var e,n=[],i=t||{};return function(t,i){n.push('<pre style="padding: 5px 10px 10px 30px; word-wrap: break-word; white-space: pre-wrap;"><ol>'),function(){var i=t;if("number"==typeof i.length)for(var o=0,a=i.length;o<a;o++){var s=i[o];n.push("<li"+r.attr("style",s.style,!0,!1)+">"+r.escape(null==(e=s.content)?"":e)+"</li>")}else{var a=0;for(var o in i){a++;var s=i[o];n.push("<li"+r.attr("style",s.style,!0,!1)+">"+r.escape(null==(e=s.content)?"":e)+"</li>")}}}.call(this),n.push("</ol></pre>")}.call(this,"entries"in i?i.entries:"undefined"!=typeof entries?entries:void 0,"undefined"in i?i.undefined:void 0),n.join("")}},function(t,e,n){"use strict";var r=n(101),i=n(6),o=n(238),a=n(7),s=n(9),u=n(2);t.exports={isRunning:!1,run:function(){this.isRunning||(this._createStatistics(),this.isRunning=!0)},_createStatistics:function(){this.clicker=new r({feature:u.get("clckFeature"),platform:s.getBrowser()}),i.on(a.CLICKER,this._sendClicker,this),o.on(a.CLICKER,this._clickHandler,this)},_clickHandler:function(t,e){this._sendClicker(e)},_sendClicker:function(t){this.clicker.send(t)}}},function(t,e,n){"use strict";function r(t,e){e?e instanceof ErrorEvent?f.error("%l",i(e,t)):e instanceof PromiseRejectionEvent?f.error("%l",a(t)):f.error("unhandled exception or promise rejection was catched, event object is unknown"):f.error("unhandled exception or promise rejection was catched, event object is empty")}function i(t,e){return e?e.stack&&e.message?o(t,e.message):o(t,u(e)):o(t,t.message)}function o(t,e){return l.replace("%1",t.filename).replace("%2",t.lineno).replace("%3",t.colno).replace("%4",e)}function a(t){return t?s(t.stack?t.stack:u(t)):"unhandled promise rejection catched"}function s(t){return h.replace("%1",t)}function u(t){try{return JSON.stringify(t)}catch(e){return String(t)}}var c=n(256),l="unhandled exception from %1: line: %2, column: %3, information: %4",h="unhandled promise rejection: %1",f=null;e.run=function(t){f=t,c.start(),c.addListener(r)}},function(t,e,n){(function(e){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,n){"use strict";function r(t){var e=t?t.error:void 0;s(e,t)}function i(t){var e=t?t.reason:void 0;s(e,t)}function o(t){h&&s(t,null)}function a(t){h&&s(t,null)}function s(t,e){c.forEach(function(n){n(t,e)})}var u="undefined"!=typeof window,c=[],l=!1,h=!1;t.exports={start:function(){h||(l||(u?(window.addEventListener("error",r),window.addEventListener("unhandledrejection",i)):(e.on("uncaughtException",o),e.on("unhandledRejection",a)),l=!0),h=!0)},stop:function(){h&&(u&&(window.removeEventListener("error",r),window.removeEventListener("unhandledrejection",i),l=!1),h=!1)},addListener:function(t){"function"==typeof t&&c.push(t)},removeListener:function(t){var e=c.indexOf(t);e>-1&&c.splice(e,1)},removeAllListeners:function(){c.length=0},flush:function(){this.removeAllListeners(),this.stop()}}}])})}).call(e,n(257))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){m&&d&&(m=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!m){var t=i(a);m=!0;for(var e=p.length;e;){for(d=p,p=[];++g<e;)d&&d[g].run();g=-1,e=p.length}d=null,m=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var d,p=[],m=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}]);